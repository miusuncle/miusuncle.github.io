import{r as b,a as rr,R as wt,T as nr,c as ne,g as or,b as ir,A as sr,_ as cr,S as k,d as ar,e as bt,F as V,f as We,h as ur,P as lr,I as fr,B as dr,C as hr,t as Ke,i as mr}from"./vendor-88b6b813.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();var Rt={exports:{}},de={};var gr=b,pr=Symbol.for("react.element"),yr=Symbol.for("react.fragment"),_r=Object.prototype.hasOwnProperty,Sr=gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vr={key:!0,ref:!0,__self:!0,__source:!0};function Et(e,t,r){var n,o={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)_r.call(t,n)&&!vr.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:pr,type:e,key:i,ref:s,props:o,_owner:Sr.current}}de.Fragment=yr;de.jsx=Et;de.jsxs=Et;Rt.exports=de;var u=Rt.exports,xe={},Ye=rr;xe.createRoot=Ye.createRoot,xe.hydrateRoot=Ye.hydrateRoot;let wr=0;function xt(e,t){const r=`atom${++wr}`,n={toString:()=>r};return typeof e=="function"?n.read=e:(n.init=e,n.read=br,n.write=Rr),t&&(n.write=t),n}function br(e){return e(this)}function Rr(e,t,r){return t(this,typeof r=="function"?r(e(this)):r)}const oe=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,qe=e=>"init"in e,Je=e=>!!e.write,ce=new WeakMap,Er=(e,t)=>{ce.set(e,t),e.catch(()=>{}).finally(()=>ce.delete(e))},Xe=(e,t)=>{const r=ce.get(e);r&&(ce.delete(e),r(t))},Qe=(e,t)=>{e.status="fulfilled",e.value=t},Ze=(e,t)=>{e.status="rejected",e.reason=t},xr=e=>typeof(e==null?void 0:e.then)=="function",X=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),et=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),N=e=>!!e&&"v"in e&&e.v instanceof Promise,Pr=(e,t)=>"v"in e&&"v"in t&&e.v.orig&&e.v.orig===t.v.orig,ie=e=>{if("e"in e)throw e.e;return e.v},Le=()=>{const e=new WeakMap,t=new WeakMap,r=new Map;let n,o;const i=a=>e.get(a),s=(a,f)=>{const p=e.get(a);if(e.set(a,f),r.has(a)||r.set(a,p),N(p)){const m="v"in f?f.v instanceof Promise?f.v:Promise.resolve(f.v):Promise.reject(f.e);p.v!==m&&Xe(p.v,m)}},c=(a,f,p,m)=>{const g=new Map(m?f.d:null);let y=!1;p.forEach((l,h)=>{!l&&oe(a,h)&&(l=f),l&&(g.set(h,l),f.d.get(h)!==l&&(y=!0))}),(y||f.d.size!==g.size)&&(f.d=g)},d=(a,f,p,m)=>{const g=i(a),y={d:(g==null?void 0:g.d)||new Map,v:f};if(p&&c(a,y,p,m),X(g,y)&&g.d===y.d)return g;if(N(g)&&N(y)&&Pr(g,y)){if(g.d===y.d)return g;y.v=g.v}return s(a,y),y},S=(a,f,p,m)=>{if(xr(f)){let g;const y=()=>{const h=i(a);if(!N(h)||h.v!==l)return;const E=d(a,l,p);t.has(a)&&h.d!==E.d&&H(a,E,h.d)},l=new Promise((h,E)=>{let _=!1;f.then(v=>{_||(_=!0,Qe(l,v),h(v),y())},v=>{_||(_=!0,Ze(l,v),E(v),y())}),g=v=>{_||(_=!0,v.then(x=>Qe(l,x),x=>Ze(l,x)),h(v))}});return l.orig=f,l.status="pending",Er(l,h=>{h&&g(h),m==null||m()}),d(a,l,p,!0)}return d(a,f,p)},R=(a,f,p)=>{const m=i(a),g={d:(m==null?void 0:m.d)||new Map,e:f};return p&&c(a,g,p),et(m,g)&&m.d===g.d?m:(s(a,g),g)},P=(a,f)=>{const p=i(a);if(!f&&p&&(t.has(a)||Array.from(p.d).every(([_,v])=>{if(oe(a,_))return!0;const x=P(_);return x===v||X(x,v)})))return p;const m=new Map;let g=!0;const y=_=>{if(oe(a,_)){const x=i(_);if(x)return m.set(_,x),ie(x);if(qe(_))return m.set(_,void 0),_.init;throw new Error("no atom init")}const v=P(_);return m.set(_,v),ie(v)};let l,h;const E={get signal(){return l||(l=new AbortController),l.signal},get setSelf(){return!h&&Je(a)&&(h=(..._)=>{if(!g)return F(a,..._)}),h}};try{const _=a.read(y,E);return S(a,_,m,()=>l==null?void 0:l.abort())}catch(_){return R(a,_,m)}finally{g=!1}},L=a=>ie(P(a)),K=a=>{let f=t.get(a);return f||(f=q(a)),f},Y=(a,f)=>!f.l.size&&(!f.t.size||f.t.size===1&&f.t.has(a)),_e=a=>{const f=t.get(a);f&&Y(a,f)&&J(a)},re=a=>{const f=new Map,p=new WeakMap,m=l=>{var h;const E=new Set((h=t.get(l))==null?void 0:h.t);return r.forEach((_,v)=>{var x;(x=i(v))!=null&&x.d.has(l)&&E.add(v)}),E},g=l=>{m(l).forEach(h=>{h!==l&&(f.set(h,(f.get(h)||new Set).add(l)),p.set(h,(p.get(h)||0)+1),g(h))})};g(a);const y=l=>{m(l).forEach(h=>{var E;if(h!==l){let _=p.get(h);if(_&&p.set(h,--_),!_){let v=!!((E=f.get(h))!=null&&E.size);if(v){const x=i(h),tr=P(h,!0);v=!X(x,tr)}v||f.forEach(x=>x.delete(h))}y(h)}})};y(a)},$=(a,...f)=>{let p=!0;const m=l=>ie(P(l)),g=(l,...h)=>{let E;if(oe(a,l)){if(!qe(l))throw new Error("atom not writable");const _=i(l),v=S(l,h[0]);X(_,v)||re(l)}else E=$(l,...h);if(!p){const _=w()}return E},y=a.write(m,g,...f);return p=!1,y},F=(a,...f)=>{const p=$(a,...f),m=w();return p},q=(a,f,p)=>{var m;const g=p||[];(m=i(a))==null||m.d.forEach((l,h)=>{const E=t.get(h);E?E.t.add(a):h!==a&&q(h,a,g)}),P(a);const y={t:new Set(f&&[f]),l:new Set};if(t.set(a,y),Je(a)&&a.onMount){const{onMount:l}=a;g.push(()=>{const h=l((...E)=>F(a,...E));h&&(y.u=h)})}return p||g.forEach(l=>l()),y},J=a=>{var f;const p=(f=t.get(a))==null?void 0:f.u;p&&p(),t.delete(a);const m=i(a);m&&(N(m)&&Xe(m.v),m.d.forEach((g,y)=>{if(y!==a){const l=t.get(y);l&&(l.t.delete(a),Y(y,l)&&J(y))}}))},H=(a,f,p)=>{const m=new Set(f.d.keys()),g=new Set;p==null||p.forEach((y,l)=>{if(m.has(l)){m.delete(l);return}g.add(l);const h=t.get(l);h&&h.t.delete(a)}),m.forEach(y=>{const l=t.get(y);l?l.t.add(a):t.has(a)&&q(y,a)}),g.forEach(y=>{const l=t.get(y);l&&Y(y,l)&&J(y)})},w=()=>{let a;for(;r.size;){const f=Array.from(r);r.clear(),f.forEach(([p,m])=>{const g=i(p);if(g){const y=t.get(p);y&&g.d!==(m==null?void 0:m.d)&&H(p,g,m==null?void 0:m.d),y&&!(!N(m)&&(X(m,g)||et(m,g)))&&y.l.forEach(l=>l())}})}};return{get:L,set:F,sub:(a,f)=>{const p=K(a),m=w(),g=p.l;return g.add(f),()=>{g.delete(f),_e(a)}}}};let Se;const Ar=()=>(Se||(Se=Le()),Se),Pt=b.createContext(void 0),At=e=>{const t=b.useContext(Pt);return(e==null?void 0:e.store)||t||Ar()},Or=({children:e,store:t})=>{const r=b.useRef();return!t&&!r.current&&(r.current=Le()),b.createElement(Pt.Provider,{value:t||r.current},e)},jr=e=>typeof(e==null?void 0:e.then)=="function",Tr=wt.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function Ot(e,t){const r=At(t),[[n,o,i],s]=b.useReducer(S=>{const R=r.get(e);return Object.is(S[0],R)&&S[1]===r&&S[2]===e?S:[R,r,e]},void 0,()=>[r.get(e),r,e]);let c=n;(o!==r||i!==e)&&(s(),c=r.get(e));const d=t==null?void 0:t.delay;return b.useEffect(()=>{const S=r.sub(e,()=>{if(typeof d=="number"){setTimeout(s,d);return}s()});return s(),S},[r,e,d]),b.useDebugValue(c),jr(c)?Tr(c):c}function jt(e,t){const r=At(t);return b.useCallback((...o)=>r.set(e,...o),[r,e])}function Cr(e,t){return[Ot(e,t),jt(e,t)]}const Dr={fontFamily:"Yumincho",fontSize:14,borderRadiusLG:0},$e=(e,t)=>({list:e.map(r=>t(r)),entities:e.reduce((r,n)=>(r[t(n)]=n,r),{})});var Tt=(e=>(e.YUMINCHO="YuMincho",e.YUMINCHO_36P_KANA='"YuMincho +36p Kana"',e.HIRAGINO_MINCHO_PRON='"Hiragino Mincho ProN"',e.YUKYOKASHO="YuKyokasho",e.YUKYOKASHO_YOKO='"YuKyokasho Yoko"',e.HIRAGINO_SANS='"Hiragino Sans"',e.HIRAGINO_SANS_GB='"Hiragino Sans GB"',e.TOPPAN_BUNKYU_GOTHIC='"Toppan Bunkyu Gothic"',e.HIRAGINO_MARU_GOTHIC_PRON='"Hiragino Maru Gothic ProN"',e.TSUKUSHI_A_ROUND_GOTHIC='"Tsukushi A Round Gothic"',e.TSUKUSHI_B_ROUND_GOTHIC='"Tsukushi B Round Gothic"',e))(Tt||{});const Ct=[{value:"YuMincho",label:"游明朝体"},{value:'"YuMincho +36p Kana"',label:"游明朝体 +36ポ かな"},{value:'"Hiragino Mincho ProN"',label:"ヒラギノ 明朝 ProN"},{value:"YuKyokasho",label:"游教科書体"},{value:'"YuKyokasho Yoko"',label:"游教科書体横用"},{value:'"Hiragino Sans"',label:"傳統黑體"},{value:'"Hiragino Sans GB"',label:"傳統黑體 (GB)"},{value:'"Toppan Bunkyu Gothic"',label:"凸版文久"},{value:'"Hiragino Maru Gothic ProN"',label:"ヒラギノ 丸ゴ ProN"},{value:'"Tsukushi A Round Gothic"',label:"筑紫 A 丸"},{value:'"Tsukushi B Round Gothic"',label:"筑紫 B 丸"}].map(e=>{const t=u.jsx(nr,{title:String(e.value).replace(/"/g,""),placement:"right",children:u.jsx("div",{style:{fontFamily:e.value},children:e.label})});return{...e,label:t}}),Ir=$e(Ct,e=>e.value);var ke=(e=>(e.LIGHT="light",e.DARK="dark",e))(ke||{});const Dt=[{value:"light",label:"浅色",themeToken:{colorPrimary:"#0052d9",colorInfo:"#0052d9"}},{value:"dark",label:"深色",themeToken:{colorPrimary:"#f68803",colorInfo:"#fa8c16"}}],Mr=$e(Dt,e=>e.value);var Ue=(e=>(e.HORIZONTAL_TB="horizontal-tb",e.VERTICAL_RL="vertical-rl",e))(Ue||{});const It=[{value:"horizontal-tb",label:"横列"},{value:"vertical-rl",label:"縦列"}];$e(It,e=>e.value);function Mt(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(c){s={error:c}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function Lr(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Be=function(e){return typeof e=="function"},$r=!1;const ze=$r;function kr(e){ze&&(Be(e)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof e)));var t=b.useRef(e);t.current=b.useMemo(function(){return e},[e]);var r=b.useRef();return r.current||(r.current=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return t.current.apply(this,n)}),r.current}function Lt(e){var t=b.useRef(e);return t.current=e,t}var Ur=function(e){ze&&(Be(e)||console.error("useUnmount expected parameter is a function, got ".concat(typeof e)));var t=Lt(e);b.useEffect(function(){return function(){t.current()}},[])};const Br=Ur;function zr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var $t=zr,Fr=typeof ne=="object"&&ne&&ne.Object===Object&&ne,Hr=Fr,Vr=Hr,Nr=typeof self=="object"&&self&&self.Object===Object&&self,Gr=Vr||Nr||Function("return this")(),kt=Gr,Wr=kt,Kr=function(){return Wr.Date.now()},Yr=Kr,qr=/\s/;function Jr(e){for(var t=e.length;t--&&qr.test(e.charAt(t)););return t}var Xr=Jr,Qr=Xr,Zr=/^\s+/;function en(e){return e&&e.slice(0,Qr(e)+1).replace(Zr,"")}var tn=en,rn=kt,nn=rn.Symbol,Ut=nn,tt=Ut,Bt=Object.prototype,on=Bt.hasOwnProperty,sn=Bt.toString,Q=tt?tt.toStringTag:void 0;function cn(e){var t=on.call(e,Q),r=e[Q];try{e[Q]=void 0;var n=!0}catch{}var o=sn.call(e);return n&&(t?e[Q]=r:delete e[Q]),o}var an=cn,un=Object.prototype,ln=un.toString;function fn(e){return ln.call(e)}var dn=fn,rt=Ut,hn=an,mn=dn,gn="[object Null]",pn="[object Undefined]",nt=rt?rt.toStringTag:void 0;function yn(e){return e==null?e===void 0?pn:gn:nt&&nt in Object(e)?hn(e):mn(e)}var _n=yn;function Sn(e){return e!=null&&typeof e=="object"}var vn=Sn,wn=_n,bn=vn,Rn="[object Symbol]";function En(e){return typeof e=="symbol"||bn(e)&&wn(e)==Rn}var xn=En,Pn=tn,ot=$t,An=xn,it=0/0,On=/^[-+]0x[0-9a-f]+$/i,jn=/^0b[01]+$/i,Tn=/^0o[0-7]+$/i,Cn=parseInt;function Dn(e){if(typeof e=="number")return e;if(An(e))return it;if(ot(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ot(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Pn(e);var r=jn.test(e);return r||Tn.test(e)?Cn(e.slice(2),r?2:8):On.test(e)?it:+e}var In=Dn,Mn=$t,ve=Yr,st=In,Ln="Expected a function",$n=Math.max,kn=Math.min;function Un(e,t,r){var n,o,i,s,c,d,S=0,R=!1,P=!1,L=!0;if(typeof e!="function")throw new TypeError(Ln);t=st(t)||0,Mn(r)&&(R=!!r.leading,P="maxWait"in r,i=P?$n(st(r.maxWait)||0,t):i,L="trailing"in r?!!r.trailing:L);function K(w){var I=n,a=o;return n=o=void 0,S=w,s=e.apply(a,I),s}function Y(w){return S=w,c=setTimeout($,t),R?K(w):s}function _e(w){var I=w-d,a=w-S,f=t-I;return P?kn(f,i-a):f}function re(w){var I=w-d,a=w-S;return d===void 0||I>=t||I<0||P&&a>=i}function $(){var w=ve();if(re(w))return F(w);c=setTimeout($,_e(w))}function F(w){return c=void 0,L&&n?K(w):(n=o=void 0,s)}function q(){c!==void 0&&clearTimeout(c),S=0,n=d=o=c=void 0}function J(){return c===void 0?s:F(ve())}function H(){var w=ve(),I=re(w);if(n=arguments,o=this,d=w,I){if(c===void 0)return Y(d);if(P)return clearTimeout(c),c=setTimeout($,t),K(d)}return c===void 0&&(c=setTimeout($,t)),s}return H.cancel=q,H.flush=J,H}var Bn=Un;const zn=or(Bn);function Fn(e,t){var r;ze&&(Be(e)||console.error("useDebounceFn expected parameter is a function, got ".concat(typeof e)));var n=Lt(e),o=(r=t==null?void 0:t.wait)!==null&&r!==void 0?r:1e3,i=b.useMemo(function(){return zn(function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return n.current.apply(n,Lr([],Mt(s),!1))},o,t)},[]);return Br(function(){i.cancel()}),{run:i,cancel:i.cancel,flush:i.flush}}function Hn(e,t){var r=Mt(b.useState(e),2),n=r[0],o=r[1],i=Fn(function(){o(e)},t).run;return b.useEffect(function(){i()},[e]),n}const Vn=xt(null),Pe=Le(),zt="jape:settings",ct={theme:ke.LIGHT,fontFamily:Tt.YUMINCHO,writingMode:Ue.VERTICAL_RL,content:""},Nn=(()=>{try{const e=localStorage.getItem(zt);if(e)return JSON.parse(e)}catch{return ct}return ct})(),Ae=xt(Nn);Pe.sub(Ae,()=>{const e=JSON.stringify(Pe.get(Ae));localStorage.setItem(zt,e)});function Ft(){const[e,t]=Cr(Vn);return{previewContentDom:e,setPreviewContentDom:t}}var Ht=Symbol.for("immer-nothing"),at=Symbol.for("immer-draftable"),T=Symbol.for("immer-state");function D(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var G=Object.getPrototypeOf;function W(e){return!!e&&!!e[T]}function B(e){var t;return e?Vt(e)||Array.isArray(e)||!!e[at]||!!((t=e.constructor)!=null&&t[at])||me(e)||ge(e):!1}var Gn=Object.prototype.constructor.toString();function Vt(e){if(!e||typeof e!="object")return!1;const t=G(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Gn}function Z(e,t){he(e)===0?Object.entries(e).forEach(([r,n])=>{t(r,n,e)}):e.forEach((r,n)=>t(n,r,e))}function he(e){const t=e[T];return t?t.type_:Array.isArray(e)?1:me(e)?2:ge(e)?3:0}function Oe(e,t){return he(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Nt(e,t,r){const n=he(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Wn(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function me(e){return e instanceof Map}function ge(e){return e instanceof Set}function U(e){return e.copy_||e.base_}function je(e,t){if(me(e))return new Map(e);if(ge(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&Vt(e))return G(e)?{...e}:Object.assign(Object.create(null),e);const r=Object.getOwnPropertyDescriptors(e);delete r[T];let n=Reflect.ownKeys(r);for(let o=0;o<n.length;o++){const i=n[o],s=r[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(G(e),r)}function Fe(e,t=!1){return pe(e)||W(e)||!B(e)||(he(e)>1&&(e.set=e.add=e.clear=e.delete=Kn),Object.freeze(e),t&&Z(e,(r,n)=>Fe(n,!0))),e}function Kn(){D(2)}function pe(e){return Object.isFrozen(e)}var Yn={};function z(e){const t=Yn[e];return t||D(0,e),t}var ee;function Gt(){return ee}function qn(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ut(e,t){t&&(z("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Te(e){Ce(e),e.drafts_.forEach(Jn),e.drafts_=null}function Ce(e){e===ee&&(ee=e.parent_)}function lt(e){return ee=qn(ee,e)}function Jn(e){const t=e[T];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ft(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[T].modified_&&(Te(t),D(4)),B(e)&&(e=ae(t,e),t.parent_||ue(t,e)),t.patches_&&z("Patches").generateReplacementPatches_(r[T].base_,e,t.patches_,t.inversePatches_)):e=ae(t,r,[]),Te(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Ht?e:void 0}function ae(e,t,r){if(pe(t))return t;const n=t[T];if(!n)return Z(t,(o,i)=>dt(e,n,t,o,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return ue(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const o=n.copy_;let i=o,s=!1;n.type_===3&&(i=new Set(o),o.clear(),s=!0),Z(i,(c,d)=>dt(e,n,o,c,d,r,s)),ue(e,o,!1),r&&e.patches_&&z("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function dt(e,t,r,n,o,i,s){if(W(o)){const c=i&&t&&t.type_!==3&&!Oe(t.assigned_,n)?i.concat(n):void 0,d=ae(e,o,c);if(Nt(r,n,d),W(d))e.canAutoFreeze_=!1;else return}else s&&r.add(o);if(B(o)&&!pe(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ae(e,o),(!t||!t.scope_.parent_)&&ue(e,o)}}function ue(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Fe(t,r)}function Xn(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Gt(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=n,i=He;r&&(o=[n],i=te);const{revoke:s,proxy:c}=Proxy.revocable(o,i);return n.draft_=c,n.revoke_=s,c}var He={get(e,t){if(t===T)return e;const r=U(e);if(!Oe(r,t))return Qn(e,r,t);const n=r[t];return e.finalized_||!B(n)?n:n===we(e.base_,t)?(be(e),e.copy_[t]=Ie(n,e)):n},has(e,t){return t in U(e)},ownKeys(e){return Reflect.ownKeys(U(e))},set(e,t,r){const n=Wt(U(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const o=we(U(e),t),i=o==null?void 0:o[T];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Wn(r,o)&&(r!==void 0||Oe(e.base_,t)))return!0;be(e),De(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return we(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,be(e),De(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=U(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){D(11)},getPrototypeOf(e){return G(e.base_)},setPrototypeOf(){D(12)}},te={};Z(He,(e,t)=>{te[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});te.deleteProperty=function(e,t){return te.set.call(this,e,t,void 0)};te.set=function(e,t,r){return He.set.call(this,e[0],t,r,e[0])};function we(e,t){const r=e[T];return(r?U(r):e)[t]}function Qn(e,t,r){var o;const n=Wt(t,r);return n?"value"in n?n.value:(o=n.get)==null?void 0:o.call(e.draft_):void 0}function Wt(e,t){if(!(t in e))return;let r=G(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=G(r)}}function De(e){e.modified_||(e.modified_=!0,e.parent_&&De(e.parent_))}function be(e){e.copy_||(e.copy_=je(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Zn=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(d=i,...S){return s.produce(d,R=>r.call(this,R,...S))}}typeof r!="function"&&D(6),n!==void 0&&typeof n!="function"&&D(7);let o;if(B(t)){const i=lt(this),s=Ie(t,void 0);let c=!0;try{o=r(s),c=!1}finally{c?Te(i):Ce(i)}return ut(i,n),ft(o,i)}else if(!t||typeof t!="object"){if(o=r(t),o===void 0&&(o=t),o===Ht&&(o=void 0),this.autoFreeze_&&Fe(o,!0),n){const i=[],s=[];z("Patches").generateReplacementPatches_(t,o,i,s),n(i,s)}return o}else D(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...c)=>this.produceWithPatches(s,d=>t(d,...c));let n,o;return[this.produce(t,r,(s,c)=>{n=s,o=c}),n,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){B(e)||D(8),W(e)&&(e=eo(e));const t=lt(this),r=Ie(e,void 0);return r[T].isManual_=!0,Ce(t),r}finishDraft(e,t){const r=e&&e[T];(!r||!r.isManual_)&&D(9);const{scope_:n}=r;return ut(n,t),ft(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const o=t[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(t=t.slice(r+1));const n=z("Patches").applyPatches_;return W(e)?n(e,t):this.produce(e,o=>n(o,t))}};function Ie(e,t){const r=me(e)?z("MapSet").proxyMap_(e,t):ge(e)?z("MapSet").proxySet_(e,t):Xn(e,t);return(t?t.scope_:Gt()).drafts_.push(r),r}function eo(e){return W(e)||D(10,e),Kt(e)}function Kt(e){if(!B(e)||pe(e))return e;const t=e[T];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=je(e,t.scope_.immer_.useStrictShallowCopy_)}else r=je(e,!0);return Z(r,(n,o)=>{Nt(r,n,Kt(o))}),t&&(t.finalized_=!1),r}var C=new Zn,to=C.produce;C.produceWithPatches.bind(C);C.setAutoFreeze.bind(C);C.setUseStrictShallowCopy.bind(C);C.applyPatches.bind(C);C.createDraft.bind(C);C.finishDraft.bind(C);function ro(e,t){const r=jt(e,t);return b.useCallback(n=>r(to(n)),[r])}function no(e,t){return[Ot(e,t),ro(e,t)]}function Ve(){const[e,t]=no(Ae);return{settings:e,setSettings:t}}function oo(e){return e.replace(/\^\*\^([\s\S]+?)\^\*\^/g,'<span class="text-title">$1</span>').replace(/\*\*([\s\S]+?)\*\*/g,'<span class="text-strong">$1</span>').replace(/\^\^([\s\S]+?)\^\^/g,'<span class="text-highlight">$1</span>').replace(/\|\|([\s\S]+?)\|\|/g,'<span class="text-mark">$1</span>').replace(/__([\s\S]+?)__/g,'<span class="text-underline solid">$1</span>').replace(/\._\.([\s\S]+?)\._\./g,'<span class="text-underline dotted">$1</span>').replace(/_\._([\s\S]+?)_\._/g,'<span class="text-underline dashed">$1</span>')}function io(e){return e.split(/(?:\r?\n){2,}/).map((r,n)=>{const o=r.split(/(?:\r?\n)/);return u.jsx("div",{className:"text-block",children:o.map((i,s)=>{const c=oo(i);return u.jsx("div",{className:"text-piece",dangerouslySetInnerHTML:{__html:c}},s)})},n)})}const so="_previewPanel_hp7t4_1",co="_preview_hp7t4_1",ao="_content_hp7t4_44",Re={previewPanel:so,preview:co,content:ao};function uo(){const e=b.useRef(null),{settings:t}=Ve(),{theme:r,fontFamily:n,writingMode:o}=t,{setPreviewContentDom:i}=Ft(),s=Hn(t.content,{wait:300,leading:!1,trailing:!0}),c=b.useMemo(()=>io(s),[s]);return b.useEffect(()=>(i(e.current),()=>{i(null)}),[i]),u.jsx("div",{className:ir(Re.previewPanel,{[`theme-${r}`]:!0,[`dir-${o===Ue.HORIZONTAL_TB?"horizontal":"vertical"}`]:!0}),style:{"--preview-font-family":n,"--preview-writing-mode":o},children:u.jsx("div",{className:Re.preview,children:u.jsx("div",{ref:e,className:Re.content,children:c})})})}var lo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 708c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm62.9-219.5a48.3 48.3 0 00-30.9 44.8V620c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-21.5c0-23.1 6.7-45.9 19.9-64.9 12.9-18.6 30.9-32.8 52.1-40.9 34-13.1 56-41.6 56-72.7 0-44.1-43.1-80-96-80s-96 35.9-96 80v7.6c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V420c0-39.3 17.2-76 48.4-103.3C430.4 290.4 470 276 512 276s81.6 14.5 111.6 40.7C654.8 344 672 380.7 672 420c0 57.8-38.1 109.8-97.1 132.5z"}}]},name:"question-circle",theme:"filled"};const fo=lo;var ho=function(t,r){return b.createElement(sr,cr({},t,{ref:r,icon:fo}))};const mo=b.forwardRef(ho);function go(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),n=r.createElement("base"),o=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(o),t&&(n.href=t),o.href=e,o.href}const po=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function M(e){const t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}function le(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function yo(e){const t=le(e,"border-left-width"),r=le(e,"border-right-width");return e.clientWidth+t+r}function _o(e){const t=le(e,"border-top-width"),r=le(e,"border-bottom-width");return e.clientHeight+t+r}function Yt(e,t={}){const r=t.width||yo(e),n=t.height||_o(e);return{width:r,height:n}}function So(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const j=16384;function vo(e){(e.width>j||e.height>j)&&(e.width>j&&e.height>j?e.width>e.height?(e.height*=j/e.width,e.width=j):(e.width*=j/e.height,e.height=j):e.width>j?(e.height*=j/e.width,e.width=j):(e.width*=j/e.height,e.height=j))}function wo(e,t={}){return e.toBlob?new Promise(r=>{e.toBlob(r,t.type?t.type:"image/png",t.quality?t.quality:1)}):new Promise(r=>{const n=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),o=n.length,i=new Uint8Array(o);for(let s=0;s<o;s+=1)i[s]=n.charCodeAt(s);r(new Blob([i],{type:t.type?t.type:"image/png"}))})}function fe(e){return new Promise((t,r)=>{const n=new Image;n.decode=()=>t(n),n.onload=()=>t(n),n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function bo(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Ro(e,t,r){const n="http://www.w3.org/2000/svg",o=document.createElementNS(n,"svg"),i=document.createElementNS(n,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${r}`),o.setAttribute("viewBox",`0 0 ${t} ${r}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),o.appendChild(i),i.appendChild(e),bo(o)}const O=(e,t)=>{if(e instanceof t)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||O(r,t)};function Eo(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function xo(e){return M(e).map(t=>{const r=e.getPropertyValue(t),n=e.getPropertyPriority(t);return`${t}: ${r}${n?" !important":""};`}).join(" ")}function Po(e,t,r){const n=`.${e}:${t}`,o=r.cssText?Eo(r):xo(r);return document.createTextNode(`${n}{${o}}`)}function ht(e,t,r){const n=window.getComputedStyle(e,r),o=n.getPropertyValue("content");if(o===""||o==="none")return;const i=po();try{t.className=`${t.className} ${i}`}catch{return}const s=document.createElement("style");s.appendChild(Po(i,r,n)),t.appendChild(s)}function Ao(e,t){ht(e,t,":before"),ht(e,t,":after")}const mt="application/font-woff",gt="image/jpeg",Oo={woff:mt,woff2:mt,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:gt,jpeg:gt,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function jo(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Ne(e){const t=jo(e).toLowerCase();return Oo[t]||""}function To(e){return e.split(/,/)[1]}function Me(e){return e.search(/^(data:)/)!==-1}function qt(e,t){return`data:${t};base64,${e}`}async function Jt(e,t,r){const n=await fetch(e,t);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const o=await n.blob();return new Promise((i,s)=>{const c=new FileReader;c.onerror=s,c.onloadend=()=>{try{i(r({res:n,result:c.result}))}catch(d){s(d)}},c.readAsDataURL(o)})}const Ee={};function Co(e,t,r){let n=e.replace(/\?.*/,"");return r&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function Ge(e,t,r){const n=Co(e,t,r.includeQueryParams);if(Ee[n]!=null)return Ee[n];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let o;try{const i=await Jt(e,r.fetchRequestInit,({res:s,result:c})=>(t||(t=s.headers.get("Content-Type")||""),To(c)));o=qt(i,t)}catch(i){o=r.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;i&&(s=typeof i=="string"?i:i.message),s&&console.warn(s)}return Ee[n]=o,o}async function Do(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):fe(t)}async function Io(e,t){if(e.currentSrc){const i=document.createElement("canvas"),s=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,s==null||s.drawImage(e,0,0,i.width,i.height);const c=i.toDataURL();return fe(c)}const r=e.poster,n=Ne(r),o=await Ge(r,n,t);return fe(o)}async function Mo(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await ye(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function Lo(e,t){return O(e,HTMLCanvasElement)?Do(e):O(e,HTMLVideoElement)?Io(e,t):O(e,HTMLIFrameElement)?Mo(e):e.cloneNode(!1)}const $o=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function ko(e,t,r){var n,o;let i=[];return $o(e)&&e.assignedNodes?i=M(e.assignedNodes()):O(e,HTMLIFrameElement)&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?i=M(e.contentDocument.body.childNodes):i=M(((o=e.shadowRoot)!==null&&o!==void 0?o:e).childNodes),i.length===0||O(e,HTMLVideoElement)||await i.reduce((s,c)=>s.then(()=>ye(c,r)).then(d=>{d&&t.appendChild(d)}),Promise.resolve()),t}function Uo(e,t){const r=t.style;if(!r)return;const n=window.getComputedStyle(e);n.cssText?(r.cssText=n.cssText,r.transformOrigin=n.transformOrigin):M(n).forEach(o=>{let i=n.getPropertyValue(o);o==="font-size"&&i.endsWith("px")&&(i=`${Math.floor(parseFloat(i.substring(0,i.length-2)))-.1}px`),O(e,HTMLIFrameElement)&&o==="display"&&i==="inline"&&(i="block"),o==="d"&&t.getAttribute("d")&&(i=`path(${t.getAttribute("d")})`),r.setProperty(o,i,n.getPropertyPriority(o))})}function Bo(e,t){O(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),O(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function zo(e,t){if(O(e,HTMLSelectElement)){const r=t,n=Array.from(r.children).find(o=>e.value===o.getAttribute("value"));n&&n.setAttribute("selected","")}}function Fo(e,t){return O(t,Element)&&(Uo(e,t),Ao(e,t),Bo(e,t),zo(e,t)),t}async function Ho(e,t){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const n={};for(let i=0;i<r.length;i++){const c=r[i].getAttribute("xlink:href");if(c){const d=e.querySelector(c),S=document.querySelector(c);!d&&S&&!n[c]&&(n[c]=await ye(S,t,!0))}}const o=Object.values(n);if(o.length){const i="http://www.w3.org/1999/xhtml",s=document.createElementNS(i,"svg");s.setAttribute("xmlns",i),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const c=document.createElementNS(i,"defs");s.appendChild(c);for(let d=0;d<o.length;d++)c.appendChild(o[d]);e.appendChild(s)}return e}async function ye(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>Lo(n,t)).then(n=>ko(e,n,t)).then(n=>Fo(e,n)).then(n=>Ho(n,t))}const Xt=/url\((['"]?)([^'"]+?)\1\)/g,Vo=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,No=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Go(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function Wo(e){const t=[];return e.replace(Xt,(r,n,o)=>(t.push(o),r)),t.filter(r=>!Me(r))}async function Ko(e,t,r,n,o){try{const i=r?go(t,r):t,s=Ne(t);let c;if(o){const d=await o(i);c=qt(d,s)}else c=await Ge(i,s,n);return e.replace(Go(t),`$1${c}$3`)}catch{}return e}function Yo(e,{preferredFontFormat:t}){return t?e.replace(No,r=>{for(;;){const[n,,o]=Vo.exec(r)||[];if(!o)return"";if(o===t)return`src: ${n};`}}):e}function Qt(e){return e.search(Xt)!==-1}async function Zt(e,t,r){if(!Qt(e))return e;const n=Yo(e,r);return Wo(n).reduce((i,s)=>i.then(c=>Ko(c,s,t,r)),Promise.resolve(n))}async function se(e,t,r){var n;const o=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue(e);if(o){const i=await Zt(o,null,r);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function qo(e,t){await se("background",e,t)||await se("background-image",e,t),await se("mask",e,t)||await se("mask-image",e,t)}async function Jo(e,t){const r=O(e,HTMLImageElement);if(!(r&&!Me(e.src))&&!(O(e,SVGImageElement)&&!Me(e.href.baseVal)))return;const n=r?e.src:e.href.baseVal,o=await Ge(n,Ne(n),t);await new Promise((i,s)=>{e.onload=i,e.onerror=s;const c=e;c.decode&&(c.decode=i),c.loading==="lazy"&&(c.loading="eager"),r?(e.srcset="",e.src=o):e.href.baseVal=o})}async function Xo(e,t){const n=M(e.childNodes).map(o=>er(o,t));await Promise.all(n).then(()=>e)}async function er(e,t){O(e,Element)&&(await qo(e,t),await Jo(e,t),await Xo(e,t))}function Qo(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const n=t.style;return n!=null&&Object.keys(n).forEach(o=>{r[o]=n[o]}),e}const pt={};async function yt(e){let t=pt[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},pt[e]=t,t}async function _t(e,t){let r=e.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,i=(r.match(/url\([^)]+\)/g)||[]).map(async s=>{let c=s.replace(n,"$1");return c.startsWith("https://")||(c=new URL(c,e.url).href),Jt(c,t.fetchRequestInit,({result:d})=>(r=r.replace(s,`url(${d})`),[s,d]))});return Promise.all(i).then(()=>r)}function St(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let n=e.replace(r,"");const o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const d=o.exec(n);if(d===null)break;t.push(d[0])}n=n.replace(o,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(s,"gi");for(;;){let d=i.exec(n);if(d===null){if(d=c.exec(n),d===null)break;i.lastIndex=c.lastIndex}else c.lastIndex=i.lastIndex;t.push(d[0])}return t}async function Zo(e,t){const r=[],n=[];return e.forEach(o=>{if("cssRules"in o)try{M(o.cssRules||[]).forEach((i,s)=>{if(i.type===CSSRule.IMPORT_RULE){let c=s+1;const d=i.href,S=yt(d).then(R=>_t(R,t)).then(R=>St(R).forEach(P=>{try{o.insertRule(P,P.startsWith("@import")?c+=1:o.cssRules.length)}catch(L){console.error("Error inserting rule from remote css",{rule:P,error:L})}})).catch(R=>{console.error("Error loading remote css",R.toString())});n.push(S)}})}catch(i){const s=e.find(c=>c.href==null)||document.styleSheets[0];o.href!=null&&n.push(yt(o.href).then(c=>_t(c,t)).then(c=>St(c).forEach(d=>{s.insertRule(d,o.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c)})),console.error("Error inlining remote css file",i)}}),Promise.all(n).then(()=>(e.forEach(o=>{if("cssRules"in o)try{M(o.cssRules||[]).forEach(i=>{r.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${o.href}`,i)}}),r))}function ei(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Qt(t.style.getPropertyValue("src")))}async function ti(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=M(e.ownerDocument.styleSheets),n=await Zo(r,t);return ei(n)}async function ri(e,t){const r=await ti(e,t);return(await Promise.all(r.map(o=>{const i=o.parentStyleSheet?o.parentStyleSheet.href:null;return Zt(o.cssText,i,t)}))).join(`
`)}async function ni(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await ri(e,t);if(r){const n=document.createElement("style"),o=document.createTextNode(r);n.appendChild(o),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function oi(e,t={}){const{width:r,height:n}=Yt(e,t),o=await ye(e,t,!0);return await ni(o,t),await er(o,t),Qo(o,t),await Ro(o,r,n)}async function ii(e,t={}){const{width:r,height:n}=Yt(e,t),o=await oi(e,t),i=await fe(o),s=document.createElement("canvas"),c=s.getContext("2d"),d=t.pixelRatio||So(),S=t.canvasWidth||r,R=t.canvasHeight||n;return s.width=S*d,s.height=R*d,t.skipAutoScale||vo(s),s.style.width=`${S}`,s.style.height=`${R}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,s.width,s.height)),c.drawImage(i,0,0,s.width,s.height),s}async function si(e,t={}){const r=await ii(e,t);return await wo(r)}const{Paragraph:ci,Text:A}=ar;function ai(){return u.jsxs(ci,{style:{marginBottom:0,userSelect:"none"},children:[u.jsx("div",{children:u.jsx(A,{strong:!0,children:"チップス"})}),u.jsxs("ul",{style:{marginBottom:0},children:[u.jsx("li",{children:u.jsxs(k,{direction:"horizontal",children:[u.jsx(A,{strong:!0,children:"タイトル"}),u.jsx(A,{code:!0,children:"^*^text^*^"})]})}),u.jsx("li",{children:u.jsxs(k,{direction:"horizontal",children:[u.jsx(A,{strong:!0,children:"ボールド"}),u.jsx(A,{code:!0,children:"**text**"})]})}),u.jsx("li",{children:u.jsxs(k,{direction:"horizontal",children:[u.jsx(A,{type:"warning",children:"テキストをハイライト"}),u.jsx(A,{code:!0,children:"^^text^^"})]})}),u.jsx("li",{children:u.jsxs(k,{direction:"horizontal",children:[u.jsx(A,{mark:!0,children:"テキストをマーク"}),u.jsx(A,{code:!0,children:"||text||"})]})}),u.jsxs("li",{children:[u.jsx(A,{children:"アンダーバー"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsxs(k,{direction:"horizontal",children:[u.jsx(A,{underline:!0,style:{borderBottomStyle:"solid"},children:"solid"}),u.jsx(A,{code:!0,children:"__text__"})]})}),u.jsx("li",{children:u.jsxs(k,{direction:"horizontal",children:[u.jsx(A,{style:{borderBottomStyle:"dotted"},children:"dotted"}),u.jsx(A,{code:!0,children:"._.text._."})]})}),u.jsx("li",{children:u.jsxs(k,{direction:"horizontal",children:[u.jsx(A,{style:{borderBottomStyle:"dashed"},children:"dashed"}),u.jsx(A,{code:!0,children:"_._text_._"})]})})]})]})]})]})}const ui="_settingsPanel_xttry_1",li="_settings_xttry_1",vt={settingsPanel:ui,settings:li};function fi(){var i;const{message:e}=bt.useApp(),{settings:t,setSettings:r}=Ve(),{previewContentDom:n}=Ft(),o=kr(async()=>{if(!n)return;const s=n.scrollWidth,c=n.scrollHeight,d=3,S=await si(n,{width:s,height:c,canvasWidth:s*d,canvasHeight:c*d});if(S){const R=new window.ClipboardItem({"image/png":S});await navigator.clipboard.write([R]),e.success("画像はクリップボードにコピーされました。")}});return u.jsx("div",{className:vt.settingsPanel,children:u.jsx("div",{className:vt.settings,children:u.jsxs(V,{layout:"vertical",initialValues:t,onValuesChange:s=>{r(c=>Object.assign(c,s))},children:[u.jsx(V.Item,{label:"主題",name:"theme",children:u.jsx(We.Group,{options:Dt,optionType:"button"})}),u.jsx(V.Item,{label:"書体",name:"fontFamily",children:u.jsx(ur,{options:Ct,style:{width:200}})}),u.jsx(V.Item,{label:"組版",name:"writingMode",children:u.jsx(We.Group,{options:It,optionType:"button"})}),u.jsx(V.Item,{label:u.jsxs(u.Fragment,{children:["本文",u.jsx(lr,{trigger:"hover",placement:"topLeft",arrow:{pointAtCenter:!0},content:u.jsx(ai,{}),children:u.jsx(mo,{style:{cursor:"help",marginLeft:4}})})]}),name:"content",children:u.jsx(fr.TextArea,{spellCheck:!1,placeholder:"キーボードからデータを入力する。",autoSize:{minRows:10,maxRows:20},style:{fontFamily:(i=Ir.entities[t.fontFamily])==null?void 0:i.value,fontSize:16,textAlign:"justify"}})}),u.jsx(V.Item,{style:{position:"sticky",bottom:0,padding:"16px 0 32px",marginBottom:0,background:"var(--ant-color-bg-container)",zIndex:10},children:u.jsx(dr,{type:"primary",onClick:o,children:"画像を作成してコピーする"})})]})})})}const di="_root_1oq3e_1",hi={root:di};function mi(){const{settings:e}=Ve();return u.jsx(hr,{theme:{cssVar:!0,token:{...Dr,...Mr.entities[e.theme].themeToken},algorithm:e.theme===ke.LIGHT?Ke.defaultAlgorithm:Ke.darkAlgorithm},children:u.jsx(bt,{children:u.jsx(mr,{bordered:!1,bodyStyle:{padding:0},children:u.jsxs("div",{className:hi.root,children:[u.jsx(fi,{}),u.jsx(uo,{})]})})})})}xe.createRoot(document.getElementById("root")).render(u.jsx(wt.StrictMode,{children:u.jsx(Or,{store:Pe,children:u.jsx(mi,{})})}));
