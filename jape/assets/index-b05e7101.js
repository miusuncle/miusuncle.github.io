var ux=Object.defineProperty;var ax=(e,n,i)=>n in e?ux(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i;var Xs=(e,n,i)=>(ax(e,typeof n!="symbol"?n+"":n,i),i),Zs=(e,n,i)=>{if(!n.has(e))throw TypeError("Cannot "+i)};var Ge=(e,n,i)=>(Zs(e,n,"read from private field"),i?i.call(e):n.get(e)),Ft=(e,n,i)=>{if(n.has(e))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(e):n.set(e,i)},Jt=(e,n,i,u)=>(Zs(e,n,"write to private field"),u?u.call(e,i):n.set(e,i),i);var mu=(e,n,i)=>(Zs(e,n,"access private method"),i);import{r as N,c as Mt,g as uo,a as sx,W as Du,i as $i,b as lx,d as cx,w as fx,_ as Gh,e as Vn,u as dx,f as h0,h as g0,j as Xn,k as Kh,l as it,A as ao,T as at,B as Ye,F as Be,I as Vi,m as Ru,S as hx,C as tf,n as Te,P as nf,o as rf,p as so,q as Ou,D as p0,s as gx,t as m0,v as px,U as Js,x as mx,R as Vh,y as vx,z as Yh,E as yx}from"./vendor-2a647dbf.js";import{l as Xh,m as _x,d as wx}from"./monaco-e3aebedf.js";var v0={exports:{}},zu={};var bx=N,xx=Symbol.for("react.element"),Sx=Symbol.for("react.fragment"),Ex=Object.prototype.hasOwnProperty,Cx=bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ax={key:!0,ref:!0,__self:!0,__source:!0};function y0(e,n,i){var u,s={},a=null,l=null;i!==void 0&&(a=""+i),n.key!==void 0&&(a=""+n.key),n.ref!==void 0&&(l=n.ref);for(u in n)Ex.call(n,u)&&!Ax.hasOwnProperty(u)&&(s[u]=n[u]);if(e&&e.defaultProps)for(u in n=e.defaultProps,n)s[u]===void 0&&(s[u]=n[u]);return{$$typeof:xx,type:e,key:a,ref:l,props:s,_owner:Cx.current}}zu.Fragment=Sx;zu.jsx=y0;zu.jsxs=y0;v0.exports=zu;var p=v0.exports;var Fu={exports:{}};Fu.exports;(function(e,n){(function(){var i,u="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",f="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",y=500,m="__lodash_placeholder__",h=1,v=2,A=4,S=1,E=2,I=1,q=2,j=4,oe=8,ue=16,L=32,U=64,Y=128,M=256,G=512,re=30,te="...",X=800,ne=16,ee=1,le=2,Oe=3,fe=1/0,ve=9007199254740991,He=17976931348623157e292,In=0/0,Ke=4294967295,go=Ke-1,da=Ke>>>1,ha=[["ary",Y],["bind",I],["bindKey",q],["curry",oe],["curryRight",ue],["flip",G],["partial",L],["partialRight",U],["rearg",M]],Tn="[object Arguments]",Rr="[object Array]",ga="[object AsyncFunction]",nr="[object Boolean]",rr="[object Date]",pa="[object DOMException]",Or="[object Error]",Fr="[object Function]",po="[object GeneratorFunction]",Ct="[object Map]",pt="[object Number]",ma="[object Null]",Nt="[object Object]",ir="[object Promise]",_i="[object Proxy]",dn="[object RegExp]",lt="[object Set]",Dn="[object String]",or="[object Symbol]",mo="[object Undefined]",Rn="[object WeakMap]",vo="[object WeakSet]",On="[object ArrayBuffer]",hn="[object DataView]",Br="[object Float32Array]",Pr="[object Float64Array]",jr="[object Int8Array]",Mr="[object Int16Array]",kr="[object Int32Array]",ur="[object Uint8Array]",wi="[object Uint8ClampedArray]",bi="[object Uint16Array]",ar="[object Uint32Array]",yo=/\b__p \+= '';/g,va=/\b(__p \+=) '' \+/g,tn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_o=/&(?:amp|lt|gt|quot|#39);/g,wo=/[&<>"']/g,bo=RegExp(_o.source),ya=RegExp(wo.source),_a=/<%-([\s\S]+?)%>/g,wa=/<%([\s\S]+?)%>/g,xo=/<%=([\s\S]+?)%>/g,ba=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xa=/^\w*$/,Sa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xi=/[\\^$.*+?()[\]{}|]/g,Ea=RegExp(xi.source),Si=/^\s+/,So=/\s/,Ca=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Aa=/\{\n\/\* \[wrapped with (.+)\] \*/,Ia=/,? & /,Ta=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Da=/[()=,{}\[\]\/\s]/,Ra=/\\(\\)?/g,Oa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Eo=/\w*$/,Fa=/^[-+]0x[0-9a-f]+$/i,Ba=/^0b[01]+$/i,Pa=/^\[object .+?Constructor\]$/,ja=/^0o[0-7]+$/i,Ma=/^(?:0|[1-9]\d*)$/,ka=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Lr=/($^)/,Co=/['\n\r\u2028\u2029\\]/g,nn="\\ud800-\\udfff",Ao="\\u0300-\\u036f",Fn="\\ufe20-\\ufe2f",La="\\u20d0-\\u20ff",sr=Ao+Fn+La,Nr="\\u2700-\\u27bf",Io="a-z\\xdf-\\xf6\\xf8-\\xff",Na="\\xac\\xb1\\xd7\\xf7",Ei="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",za="\\u2000-\\u206f",$a=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",w="A-Z\\xc0-\\xd6\\xd8-\\xde",T="\\ufe0e\\ufe0f",x=Na+Ei+za+$a,O="['\u2019]",P="["+nn+"]",R="["+x+"]",$="["+sr+"]",V="\\d+",Z="["+Nr+"]",J="["+Io+"]",Q="[^"+nn+x+V+Nr+Io+w+"]",se="\\ud83c[\\udffb-\\udfff]",we="(?:"+$+"|"+se+")",Ae="[^"+nn+"]",Ie="(?:\\ud83c[\\udde6-\\uddff]){2}",Ne="[\\ud800-\\udbff][\\udc00-\\udfff]",je="["+w+"]",ct="\\u200d",Bn="(?:"+J+"|"+Q+")",Ci="(?:"+je+"|"+Q+")",To="(?:"+O+"(?:d|ll|m|re|s|t|ve))?",zr="(?:"+O+"(?:D|LL|M|RE|S|T|VE))?",Ua=we+"?",Do="["+T+"]?",Ha="(?:"+ct+"(?:"+[Ae,Ie,Ne].join("|")+")"+Do+Ua+")*",Ro="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dv="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Lf=Do+Ua+Ha,hv="(?:"+[Z,Ie,Ne].join("|")+")"+Lf,gv="(?:"+[Ae+$+"?",$,Ie,Ne,P].join("|")+")",pv=RegExp(O,"g"),mv=RegExp($,"g"),Wa=RegExp(se+"(?="+se+")|"+gv+Lf,"g"),vv=RegExp([je+"?"+J+"+"+To+"(?="+[R,je,"$"].join("|")+")",Ci+"+"+zr+"(?="+[R,je+Bn,"$"].join("|")+")",je+"?"+Bn+"+"+To,je+"+"+zr,dv,Ro,V,hv].join("|"),"g"),yv=RegExp("["+ct+nn+sr+T+"]"),_v=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wv=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bv=-1,Le={};Le[Br]=Le[Pr]=Le[jr]=Le[Mr]=Le[kr]=Le[ur]=Le[wi]=Le[bi]=Le[ar]=!0,Le[Tn]=Le[Rr]=Le[On]=Le[nr]=Le[hn]=Le[rr]=Le[Or]=Le[Fr]=Le[Ct]=Le[pt]=Le[Nt]=Le[dn]=Le[lt]=Le[Dn]=Le[Rn]=!1;var ke={};ke[Tn]=ke[Rr]=ke[On]=ke[hn]=ke[nr]=ke[rr]=ke[Br]=ke[Pr]=ke[jr]=ke[Mr]=ke[kr]=ke[Ct]=ke[pt]=ke[Nt]=ke[dn]=ke[lt]=ke[Dn]=ke[or]=ke[ur]=ke[wi]=ke[bi]=ke[ar]=!0,ke[Or]=ke[Fr]=ke[Rn]=!1;var xv={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Sv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ev={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Cv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Av=parseFloat,Iv=parseInt,Nf=typeof Mt=="object"&&Mt&&Mt.Object===Object&&Mt,Tv=typeof self=="object"&&self&&self.Object===Object&&self,tt=Nf||Tv||Function("return this")(),qa=n&&!n.nodeType&&n,lr=qa&&!0&&e&&!e.nodeType&&e,zf=lr&&lr.exports===qa,Ga=zf&&Nf.process,zt=function(){try{var F=lr&&lr.require&&lr.require("util").types;return F||Ga&&Ga.binding&&Ga.binding("util")}catch{}}(),$f=zt&&zt.isArrayBuffer,Uf=zt&&zt.isDate,Hf=zt&&zt.isMap,Wf=zt&&zt.isRegExp,qf=zt&&zt.isSet,Gf=zt&&zt.isTypedArray;function At(F,z,k){switch(k.length){case 0:return F.call(z);case 1:return F.call(z,k[0]);case 2:return F.call(z,k[0],k[1]);case 3:return F.call(z,k[0],k[1],k[2])}return F.apply(z,k)}function Dv(F,z,k,ae){for(var me=-1,Re=F==null?0:F.length;++me<Re;){var Ze=F[me];z(ae,Ze,k(Ze),F)}return ae}function $t(F,z){for(var k=-1,ae=F==null?0:F.length;++k<ae&&z(F[k],k,F)!==!1;);return F}function Rv(F,z){for(var k=F==null?0:F.length;k--&&z(F[k],k,F)!==!1;);return F}function Kf(F,z){for(var k=-1,ae=F==null?0:F.length;++k<ae;)if(!z(F[k],k,F))return!1;return!0}function Pn(F,z){for(var k=-1,ae=F==null?0:F.length,me=0,Re=[];++k<ae;){var Ze=F[k];z(Ze,k,F)&&(Re[me++]=Ze)}return Re}function Oo(F,z){var k=F==null?0:F.length;return!!k&&$r(F,z,0)>-1}function Ka(F,z,k){for(var ae=-1,me=F==null?0:F.length;++ae<me;)if(k(z,F[ae]))return!0;return!1}function ze(F,z){for(var k=-1,ae=F==null?0:F.length,me=Array(ae);++k<ae;)me[k]=z(F[k],k,F);return me}function jn(F,z){for(var k=-1,ae=z.length,me=F.length;++k<ae;)F[me+k]=z[k];return F}function Va(F,z,k,ae){var me=-1,Re=F==null?0:F.length;for(ae&&Re&&(k=F[++me]);++me<Re;)k=z(k,F[me],me,F);return k}function Ov(F,z,k,ae){var me=F==null?0:F.length;for(ae&&me&&(k=F[--me]);me--;)k=z(k,F[me],me,F);return k}function Ya(F,z){for(var k=-1,ae=F==null?0:F.length;++k<ae;)if(z(F[k],k,F))return!0;return!1}var Fv=Xa("length");function Bv(F){return F.split("")}function Pv(F){return F.match(Ta)||[]}function Vf(F,z,k){var ae;return k(F,function(me,Re,Ze){if(z(me,Re,Ze))return ae=Re,!1}),ae}function Fo(F,z,k,ae){for(var me=F.length,Re=k+(ae?1:-1);ae?Re--:++Re<me;)if(z(F[Re],Re,F))return Re;return-1}function $r(F,z,k){return z===z?Gv(F,z,k):Fo(F,Yf,k)}function jv(F,z,k,ae){for(var me=k-1,Re=F.length;++me<Re;)if(ae(F[me],z))return me;return-1}function Yf(F){return F!==F}function Xf(F,z){var k=F==null?0:F.length;return k?Ja(F,z)/k:In}function Xa(F){return function(z){return z==null?i:z[F]}}function Za(F){return function(z){return F==null?i:F[z]}}function Zf(F,z,k,ae,me){return me(F,function(Re,Ze,Me){k=ae?(ae=!1,Re):z(k,Re,Ze,Me)}),k}function Mv(F,z){var k=F.length;for(F.sort(z);k--;)F[k]=F[k].value;return F}function Ja(F,z){for(var k,ae=-1,me=F.length;++ae<me;){var Re=z(F[ae]);Re!==i&&(k=k===i?Re:k+Re)}return k}function Qa(F,z){for(var k=-1,ae=Array(F);++k<F;)ae[k]=z(k);return ae}function kv(F,z){return ze(z,function(k){return[k,F[k]]})}function Jf(F){return F&&F.slice(0,nd(F)+1).replace(Si,"")}function It(F){return function(z){return F(z)}}function es(F,z){return ze(z,function(k){return F[k]})}function Ai(F,z){return F.has(z)}function Qf(F,z){for(var k=-1,ae=F.length;++k<ae&&$r(z,F[k],0)>-1;);return k}function ed(F,z){for(var k=F.length;k--&&$r(z,F[k],0)>-1;);return k}function Lv(F,z){for(var k=F.length,ae=0;k--;)F[k]===z&&++ae;return ae}var Nv=Za(xv),zv=Za(Sv);function $v(F){return"\\"+Cv[F]}function Uv(F,z){return F==null?i:F[z]}function Ur(F){return yv.test(F)}function Hv(F){return _v.test(F)}function Wv(F){for(var z,k=[];!(z=F.next()).done;)k.push(z.value);return k}function ts(F){var z=-1,k=Array(F.size);return F.forEach(function(ae,me){k[++z]=[me,ae]}),k}function td(F,z){return function(k){return F(z(k))}}function Mn(F,z){for(var k=-1,ae=F.length,me=0,Re=[];++k<ae;){var Ze=F[k];(Ze===z||Ze===m)&&(F[k]=m,Re[me++]=k)}return Re}function Bo(F){var z=-1,k=Array(F.size);return F.forEach(function(ae){k[++z]=ae}),k}function qv(F){var z=-1,k=Array(F.size);return F.forEach(function(ae){k[++z]=[ae,ae]}),k}function Gv(F,z,k){for(var ae=k-1,me=F.length;++ae<me;)if(F[ae]===z)return ae;return-1}function Kv(F,z,k){for(var ae=k+1;ae--;)if(F[ae]===z)return ae;return ae}function Hr(F){return Ur(F)?Yv(F):Fv(F)}function Vt(F){return Ur(F)?Xv(F):Bv(F)}function nd(F){for(var z=F.length;z--&&So.test(F.charAt(z)););return z}var Vv=Za(Ev);function Yv(F){for(var z=Wa.lastIndex=0;Wa.test(F);)++z;return z}function Xv(F){return F.match(Wa)||[]}function Zv(F){return F.match(vv)||[]}var Jv=function F(z){z=z==null?tt:Wr.defaults(tt.Object(),z,Wr.pick(tt,wv));var k=z.Array,ae=z.Date,me=z.Error,Re=z.Function,Ze=z.Math,Me=z.Object,ns=z.RegExp,Qv=z.String,Ut=z.TypeError,Po=k.prototype,ey=Re.prototype,qr=Me.prototype,jo=z["__core-js_shared__"],Mo=ey.toString,Pe=qr.hasOwnProperty,ty=0,rd=function(){var t=/[^.]+$/.exec(jo&&jo.keys&&jo.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ko=qr.toString,ny=Mo.call(Me),ry=tt._,iy=ns("^"+Mo.call(Pe).replace(xi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Lo=zf?z.Buffer:i,kn=z.Symbol,No=z.Uint8Array,id=Lo?Lo.allocUnsafe:i,zo=td(Me.getPrototypeOf,Me),od=Me.create,ud=qr.propertyIsEnumerable,$o=Po.splice,ad=kn?kn.isConcatSpreadable:i,Ii=kn?kn.iterator:i,cr=kn?kn.toStringTag:i,Uo=function(){try{var t=pr(Me,"defineProperty");return t({},"",{}),t}catch{}}(),oy=z.clearTimeout!==tt.clearTimeout&&z.clearTimeout,uy=ae&&ae.now!==tt.Date.now&&ae.now,ay=z.setTimeout!==tt.setTimeout&&z.setTimeout,Ho=Ze.ceil,Wo=Ze.floor,rs=Me.getOwnPropertySymbols,sy=Lo?Lo.isBuffer:i,sd=z.isFinite,ly=Po.join,cy=td(Me.keys,Me),Je=Ze.max,ot=Ze.min,fy=ae.now,dy=z.parseInt,ld=Ze.random,hy=Po.reverse,is=pr(z,"DataView"),Ti=pr(z,"Map"),os=pr(z,"Promise"),Gr=pr(z,"Set"),Di=pr(z,"WeakMap"),Ri=pr(Me,"create"),qo=Di&&new Di,Kr={},gy=mr(is),py=mr(Ti),my=mr(os),vy=mr(Gr),yy=mr(Di),Go=kn?kn.prototype:i,Oi=Go?Go.valueOf:i,cd=Go?Go.toString:i;function _(t){if(Ue(t)&&!ye(t)&&!(t instanceof Ee)){if(t instanceof Ht)return t;if(Pe.call(t,"__wrapped__"))return fh(t)}return new Ht(t)}var Vr=function(){function t(){}return function(r){if(!$e(r))return{};if(od)return od(r);t.prototype=r;var o=new t;return t.prototype=i,o}}();function Ko(){}function Ht(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=i}_.templateSettings={escape:_a,evaluate:wa,interpolate:xo,variable:"",imports:{_}},_.prototype=Ko.prototype,_.prototype.constructor=_,Ht.prototype=Vr(Ko.prototype),Ht.prototype.constructor=Ht;function Ee(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ke,this.__views__=[]}function _y(){var t=new Ee(this.__wrapped__);return t.__actions__=mt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=mt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=mt(this.__views__),t}function wy(){if(this.__filtered__){var t=new Ee(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function by(){var t=this.__wrapped__.value(),r=this.__dir__,o=ye(t),c=r<0,g=o?t.length:0,b=B1(0,g,this.__views__),C=b.start,D=b.end,B=D-C,H=c?D:C-1,W=this.__iteratees__,K=W.length,ie=0,ce=ot(B,this.__takeCount__);if(!o||!c&&g==B&&ce==B)return Pd(t,this.__actions__);var he=[];e:for(;B--&&ie<ce;){H+=r;for(var be=-1,ge=t[H];++be<K;){var Se=W[be],Ce=Se.iteratee,Rt=Se.type,ht=Ce(ge);if(Rt==le)ge=ht;else if(!ht){if(Rt==ee)continue e;break e}}he[ie++]=ge}return he}Ee.prototype=Vr(Ko.prototype),Ee.prototype.constructor=Ee;function fr(t){var r=-1,o=t==null?0:t.length;for(this.clear();++r<o;){var c=t[r];this.set(c[0],c[1])}}function xy(){this.__data__=Ri?Ri(null):{},this.size=0}function Sy(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}function Ey(t){var r=this.__data__;if(Ri){var o=r[t];return o===d?i:o}return Pe.call(r,t)?r[t]:i}function Cy(t){var r=this.__data__;return Ri?r[t]!==i:Pe.call(r,t)}function Ay(t,r){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=Ri&&r===i?d:r,this}fr.prototype.clear=xy,fr.prototype.delete=Sy,fr.prototype.get=Ey,fr.prototype.has=Cy,fr.prototype.set=Ay;function gn(t){var r=-1,o=t==null?0:t.length;for(this.clear();++r<o;){var c=t[r];this.set(c[0],c[1])}}function Iy(){this.__data__=[],this.size=0}function Ty(t){var r=this.__data__,o=Vo(r,t);if(o<0)return!1;var c=r.length-1;return o==c?r.pop():$o.call(r,o,1),--this.size,!0}function Dy(t){var r=this.__data__,o=Vo(r,t);return o<0?i:r[o][1]}function Ry(t){return Vo(this.__data__,t)>-1}function Oy(t,r){var o=this.__data__,c=Vo(o,t);return c<0?(++this.size,o.push([t,r])):o[c][1]=r,this}gn.prototype.clear=Iy,gn.prototype.delete=Ty,gn.prototype.get=Dy,gn.prototype.has=Ry,gn.prototype.set=Oy;function pn(t){var r=-1,o=t==null?0:t.length;for(this.clear();++r<o;){var c=t[r];this.set(c[0],c[1])}}function Fy(){this.size=0,this.__data__={hash:new fr,map:new(Ti||gn),string:new fr}}function By(t){var r=uu(this,t).delete(t);return this.size-=r?1:0,r}function Py(t){return uu(this,t).get(t)}function jy(t){return uu(this,t).has(t)}function My(t,r){var o=uu(this,t),c=o.size;return o.set(t,r),this.size+=o.size==c?0:1,this}pn.prototype.clear=Fy,pn.prototype.delete=By,pn.prototype.get=Py,pn.prototype.has=jy,pn.prototype.set=My;function dr(t){var r=-1,o=t==null?0:t.length;for(this.__data__=new pn;++r<o;)this.add(t[r])}function ky(t){return this.__data__.set(t,d),this}function Ly(t){return this.__data__.has(t)}dr.prototype.add=dr.prototype.push=ky,dr.prototype.has=Ly;function Yt(t){var r=this.__data__=new gn(t);this.size=r.size}function Ny(){this.__data__=new gn,this.size=0}function zy(t){var r=this.__data__,o=r.delete(t);return this.size=r.size,o}function $y(t){return this.__data__.get(t)}function Uy(t){return this.__data__.has(t)}function Hy(t,r){var o=this.__data__;if(o instanceof gn){var c=o.__data__;if(!Ti||c.length<s-1)return c.push([t,r]),this.size=++o.size,this;o=this.__data__=new pn(c)}return o.set(t,r),this.size=o.size,this}Yt.prototype.clear=Ny,Yt.prototype.delete=zy,Yt.prototype.get=$y,Yt.prototype.has=Uy,Yt.prototype.set=Hy;function fd(t,r){var o=ye(t),c=!o&&vr(t),g=!o&&!c&&Un(t),b=!o&&!c&&!g&&Jr(t),C=o||c||g||b,D=C?Qa(t.length,Qv):[],B=D.length;for(var H in t)(r||Pe.call(t,H))&&!(C&&(H=="length"||g&&(H=="offset"||H=="parent")||b&&(H=="buffer"||H=="byteLength"||H=="byteOffset")||_n(H,B)))&&D.push(H);return D}function dd(t){var r=t.length;return r?t[ms(0,r-1)]:i}function Wy(t,r){return au(mt(t),hr(r,0,t.length))}function qy(t){return au(mt(t))}function us(t,r,o){(o!==i&&!Xt(t[r],o)||o===i&&!(r in t))&&mn(t,r,o)}function Fi(t,r,o){var c=t[r];(!(Pe.call(t,r)&&Xt(c,o))||o===i&&!(r in t))&&mn(t,r,o)}function Vo(t,r){for(var o=t.length;o--;)if(Xt(t[o][0],r))return o;return-1}function Gy(t,r,o,c){return Ln(t,function(g,b,C){r(c,g,o(g),C)}),c}function hd(t,r){return t&&on(r,et(r),t)}function Ky(t,r){return t&&on(r,yt(r),t)}function mn(t,r,o){r=="__proto__"&&Uo?Uo(t,r,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[r]=o}function as(t,r){for(var o=-1,c=r.length,g=k(c),b=t==null;++o<c;)g[o]=b?i:$s(t,r[o]);return g}function hr(t,r,o){return t===t&&(o!==i&&(t=t<=o?t:o),r!==i&&(t=t>=r?t:r)),t}function Wt(t,r,o,c,g,b){var C,D=r&h,B=r&v,H=r&A;if(o&&(C=g?o(t,c,g,b):o(t)),C!==i)return C;if(!$e(t))return t;var W=ye(t);if(W){if(C=j1(t),!D)return mt(t,C)}else{var K=ut(t),ie=K==Fr||K==po;if(Un(t))return kd(t,D);if(K==Nt||K==Tn||ie&&!g){if(C=B||ie?{}:nh(t),!D)return B?E1(t,Ky(C,t)):S1(t,hd(C,t))}else{if(!ke[K])return g?t:{};C=M1(t,K,D)}}b||(b=new Yt);var ce=b.get(t);if(ce)return ce;b.set(t,C),Oh(t)?t.forEach(function(ge){C.add(Wt(ge,r,o,ge,t,b))}):Dh(t)&&t.forEach(function(ge,Se){C.set(Se,Wt(ge,r,o,Se,t,b))});var he=H?B?Is:As:B?yt:et,be=W?i:he(t);return $t(be||t,function(ge,Se){be&&(Se=ge,ge=t[Se]),Fi(C,Se,Wt(ge,r,o,Se,t,b))}),C}function Vy(t){var r=et(t);return function(o){return gd(o,t,r)}}function gd(t,r,o){var c=o.length;if(t==null)return!c;for(t=Me(t);c--;){var g=o[c],b=r[g],C=t[g];if(C===i&&!(g in t)||!b(C))return!1}return!0}function pd(t,r,o){if(typeof t!="function")throw new Ut(l);return Ni(function(){t.apply(i,o)},r)}function Bi(t,r,o,c){var g=-1,b=Oo,C=!0,D=t.length,B=[],H=r.length;if(!D)return B;o&&(r=ze(r,It(o))),c?(b=Ka,C=!1):r.length>=s&&(b=Ai,C=!1,r=new dr(r));e:for(;++g<D;){var W=t[g],K=o==null?W:o(W);if(W=c||W!==0?W:0,C&&K===K){for(var ie=H;ie--;)if(r[ie]===K)continue e;B.push(W)}else b(r,K,c)||B.push(W)}return B}var Ln=Ud(rn),md=Ud(ls,!0);function Yy(t,r){var o=!0;return Ln(t,function(c,g,b){return o=!!r(c,g,b),o}),o}function Yo(t,r,o){for(var c=-1,g=t.length;++c<g;){var b=t[c],C=r(b);if(C!=null&&(D===i?C===C&&!Dt(C):o(C,D)))var D=C,B=b}return B}function Xy(t,r,o,c){var g=t.length;for(o=_e(o),o<0&&(o=-o>g?0:g+o),c=c===i||c>g?g:_e(c),c<0&&(c+=g),c=o>c?0:Bh(c);o<c;)t[o++]=r;return t}function vd(t,r){var o=[];return Ln(t,function(c,g,b){r(c,g,b)&&o.push(c)}),o}function nt(t,r,o,c,g){var b=-1,C=t.length;for(o||(o=L1),g||(g=[]);++b<C;){var D=t[b];r>0&&o(D)?r>1?nt(D,r-1,o,c,g):jn(g,D):c||(g[g.length]=D)}return g}var ss=Hd(),yd=Hd(!0);function rn(t,r){return t&&ss(t,r,et)}function ls(t,r){return t&&yd(t,r,et)}function Xo(t,r){return Pn(r,function(o){return wn(t[o])})}function gr(t,r){r=zn(r,t);for(var o=0,c=r.length;t!=null&&o<c;)t=t[un(r[o++])];return o&&o==c?t:i}function _d(t,r,o){var c=r(t);return ye(t)?c:jn(c,o(t))}function ft(t){return t==null?t===i?mo:ma:cr&&cr in Me(t)?F1(t):q1(t)}function cs(t,r){return t>r}function Zy(t,r){return t!=null&&Pe.call(t,r)}function Jy(t,r){return t!=null&&r in Me(t)}function Qy(t,r,o){return t>=ot(r,o)&&t<Je(r,o)}function fs(t,r,o){for(var c=o?Ka:Oo,g=t[0].length,b=t.length,C=b,D=k(b),B=1/0,H=[];C--;){var W=t[C];C&&r&&(W=ze(W,It(r))),B=ot(W.length,B),D[C]=!o&&(r||g>=120&&W.length>=120)?new dr(C&&W):i}W=t[0];var K=-1,ie=D[0];e:for(;++K<g&&H.length<B;){var ce=W[K],he=r?r(ce):ce;if(ce=o||ce!==0?ce:0,!(ie?Ai(ie,he):c(H,he,o))){for(C=b;--C;){var be=D[C];if(!(be?Ai(be,he):c(t[C],he,o)))continue e}ie&&ie.push(he),H.push(ce)}}return H}function e1(t,r,o,c){return rn(t,function(g,b,C){r(c,o(g),b,C)}),c}function Pi(t,r,o){r=zn(r,t),t=uh(t,r);var c=t==null?t:t[un(Gt(r))];return c==null?i:At(c,t,o)}function wd(t){return Ue(t)&&ft(t)==Tn}function t1(t){return Ue(t)&&ft(t)==On}function n1(t){return Ue(t)&&ft(t)==rr}function ji(t,r,o,c,g){return t===r?!0:t==null||r==null||!Ue(t)&&!Ue(r)?t!==t&&r!==r:r1(t,r,o,c,ji,g)}function r1(t,r,o,c,g,b){var C=ye(t),D=ye(r),B=C?Rr:ut(t),H=D?Rr:ut(r);B=B==Tn?Nt:B,H=H==Tn?Nt:H;var W=B==Nt,K=H==Nt,ie=B==H;if(ie&&Un(t)){if(!Un(r))return!1;C=!0,W=!1}if(ie&&!W)return b||(b=new Yt),C||Jr(t)?Qd(t,r,o,c,g,b):R1(t,r,B,o,c,g,b);if(!(o&S)){var ce=W&&Pe.call(t,"__wrapped__"),he=K&&Pe.call(r,"__wrapped__");if(ce||he){var be=ce?t.value():t,ge=he?r.value():r;return b||(b=new Yt),g(be,ge,o,c,b)}}return ie?(b||(b=new Yt),O1(t,r,o,c,g,b)):!1}function i1(t){return Ue(t)&&ut(t)==Ct}function ds(t,r,o,c){var g=o.length,b=g,C=!c;if(t==null)return!b;for(t=Me(t);g--;){var D=o[g];if(C&&D[2]?D[1]!==t[D[0]]:!(D[0]in t))return!1}for(;++g<b;){D=o[g];var B=D[0],H=t[B],W=D[1];if(C&&D[2]){if(H===i&&!(B in t))return!1}else{var K=new Yt;if(c)var ie=c(H,W,B,t,r,K);if(!(ie===i?ji(W,H,S|E,c,K):ie))return!1}}return!0}function bd(t){if(!$e(t)||z1(t))return!1;var r=wn(t)?iy:Pa;return r.test(mr(t))}function o1(t){return Ue(t)&&ft(t)==dn}function u1(t){return Ue(t)&&ut(t)==lt}function a1(t){return Ue(t)&&hu(t.length)&&!!Le[ft(t)]}function xd(t){return typeof t=="function"?t:t==null?_t:typeof t=="object"?ye(t)?Cd(t[0],t[1]):Ed(t):Wh(t)}function hs(t){if(!Li(t))return cy(t);var r=[];for(var o in Me(t))Pe.call(t,o)&&o!="constructor"&&r.push(o);return r}function s1(t){if(!$e(t))return W1(t);var r=Li(t),o=[];for(var c in t)c=="constructor"&&(r||!Pe.call(t,c))||o.push(c);return o}function gs(t,r){return t<r}function Sd(t,r){var o=-1,c=vt(t)?k(t.length):[];return Ln(t,function(g,b,C){c[++o]=r(g,b,C)}),c}function Ed(t){var r=Ds(t);return r.length==1&&r[0][2]?ih(r[0][0],r[0][1]):function(o){return o===t||ds(o,t,r)}}function Cd(t,r){return Os(t)&&rh(r)?ih(un(t),r):function(o){var c=$s(o,t);return c===i&&c===r?Us(o,t):ji(r,c,S|E)}}function Zo(t,r,o,c,g){t!==r&&ss(r,function(b,C){if(g||(g=new Yt),$e(b))l1(t,r,C,o,Zo,c,g);else{var D=c?c(Bs(t,C),b,C+"",t,r,g):i;D===i&&(D=b),us(t,C,D)}},yt)}function l1(t,r,o,c,g,b,C){var D=Bs(t,o),B=Bs(r,o),H=C.get(B);if(H){us(t,o,H);return}var W=b?b(D,B,o+"",t,r,C):i,K=W===i;if(K){var ie=ye(B),ce=!ie&&Un(B),he=!ie&&!ce&&Jr(B);W=B,ie||ce||he?ye(D)?W=D:We(D)?W=mt(D):ce?(K=!1,W=kd(B,!0)):he?(K=!1,W=Ld(B,!0)):W=[]:zi(B)||vr(B)?(W=D,vr(D)?W=Ph(D):(!$e(D)||wn(D))&&(W=nh(B))):K=!1}K&&(C.set(B,W),g(W,B,c,b,C),C.delete(B)),us(t,o,W)}function Ad(t,r){var o=t.length;if(o)return r+=r<0?o:0,_n(r,o)?t[r]:i}function Id(t,r,o){r.length?r=ze(r,function(b){return ye(b)?function(C){return gr(C,b.length===1?b[0]:b)}:b}):r=[_t];var c=-1;r=ze(r,It(de()));var g=Sd(t,function(b,C,D){var B=ze(r,function(H){return H(b)});return{criteria:B,index:++c,value:b}});return Mv(g,function(b,C){return x1(b,C,o)})}function c1(t,r){return Td(t,r,function(o,c){return Us(t,c)})}function Td(t,r,o){for(var c=-1,g=r.length,b={};++c<g;){var C=r[c],D=gr(t,C);o(D,C)&&Mi(b,zn(C,t),D)}return b}function f1(t){return function(r){return gr(r,t)}}function ps(t,r,o,c){var g=c?jv:$r,b=-1,C=r.length,D=t;for(t===r&&(r=mt(r)),o&&(D=ze(t,It(o)));++b<C;)for(var B=0,H=r[b],W=o?o(H):H;(B=g(D,W,B,c))>-1;)D!==t&&$o.call(D,B,1),$o.call(t,B,1);return t}function Dd(t,r){for(var o=t?r.length:0,c=o-1;o--;){var g=r[o];if(o==c||g!==b){var b=g;_n(g)?$o.call(t,g,1):_s(t,g)}}return t}function ms(t,r){return t+Wo(ld()*(r-t+1))}function d1(t,r,o,c){for(var g=-1,b=Je(Ho((r-t)/(o||1)),0),C=k(b);b--;)C[c?b:++g]=t,t+=o;return C}function vs(t,r){var o="";if(!t||r<1||r>ve)return o;do r%2&&(o+=t),r=Wo(r/2),r&&(t+=t);while(r);return o}function xe(t,r){return Ps(oh(t,r,_t),t+"")}function h1(t){return dd(Qr(t))}function g1(t,r){var o=Qr(t);return au(o,hr(r,0,o.length))}function Mi(t,r,o,c){if(!$e(t))return t;r=zn(r,t);for(var g=-1,b=r.length,C=b-1,D=t;D!=null&&++g<b;){var B=un(r[g]),H=o;if(B==="__proto__"||B==="constructor"||B==="prototype")return t;if(g!=C){var W=D[B];H=c?c(W,B,D):i,H===i&&(H=$e(W)?W:_n(r[g+1])?[]:{})}Fi(D,B,H),D=D[B]}return t}var Rd=qo?function(t,r){return qo.set(t,r),t}:_t,p1=Uo?function(t,r){return Uo(t,"toString",{configurable:!0,enumerable:!1,value:Ws(r),writable:!0})}:_t;function m1(t){return au(Qr(t))}function qt(t,r,o){var c=-1,g=t.length;r<0&&(r=-r>g?0:g+r),o=o>g?g:o,o<0&&(o+=g),g=r>o?0:o-r>>>0,r>>>=0;for(var b=k(g);++c<g;)b[c]=t[c+r];return b}function v1(t,r){var o;return Ln(t,function(c,g,b){return o=r(c,g,b),!o}),!!o}function Jo(t,r,o){var c=0,g=t==null?c:t.length;if(typeof r=="number"&&r===r&&g<=da){for(;c<g;){var b=c+g>>>1,C=t[b];C!==null&&!Dt(C)&&(o?C<=r:C<r)?c=b+1:g=b}return g}return ys(t,r,_t,o)}function ys(t,r,o,c){var g=0,b=t==null?0:t.length;if(b===0)return 0;r=o(r);for(var C=r!==r,D=r===null,B=Dt(r),H=r===i;g<b;){var W=Wo((g+b)/2),K=o(t[W]),ie=K!==i,ce=K===null,he=K===K,be=Dt(K);if(C)var ge=c||he;else H?ge=he&&(c||ie):D?ge=he&&ie&&(c||!ce):B?ge=he&&ie&&!ce&&(c||!be):ce||be?ge=!1:ge=c?K<=r:K<r;ge?g=W+1:b=W}return ot(b,go)}function Od(t,r){for(var o=-1,c=t.length,g=0,b=[];++o<c;){var C=t[o],D=r?r(C):C;if(!o||!Xt(D,B)){var B=D;b[g++]=C===0?0:C}}return b}function Fd(t){return typeof t=="number"?t:Dt(t)?In:+t}function Tt(t){if(typeof t=="string")return t;if(ye(t))return ze(t,Tt)+"";if(Dt(t))return cd?cd.call(t):"";var r=t+"";return r=="0"&&1/t==-fe?"-0":r}function Nn(t,r,o){var c=-1,g=Oo,b=t.length,C=!0,D=[],B=D;if(o)C=!1,g=Ka;else if(b>=s){var H=r?null:T1(t);if(H)return Bo(H);C=!1,g=Ai,B=new dr}else B=r?[]:D;e:for(;++c<b;){var W=t[c],K=r?r(W):W;if(W=o||W!==0?W:0,C&&K===K){for(var ie=B.length;ie--;)if(B[ie]===K)continue e;r&&B.push(K),D.push(W)}else g(B,K,o)||(B!==D&&B.push(K),D.push(W))}return D}function _s(t,r){return r=zn(r,t),t=uh(t,r),t==null||delete t[un(Gt(r))]}function Bd(t,r,o,c){return Mi(t,r,o(gr(t,r)),c)}function Qo(t,r,o,c){for(var g=t.length,b=c?g:-1;(c?b--:++b<g)&&r(t[b],b,t););return o?qt(t,c?0:b,c?b+1:g):qt(t,c?b+1:0,c?g:b)}function Pd(t,r){var o=t;return o instanceof Ee&&(o=o.value()),Va(r,function(c,g){return g.func.apply(g.thisArg,jn([c],g.args))},o)}function ws(t,r,o){var c=t.length;if(c<2)return c?Nn(t[0]):[];for(var g=-1,b=k(c);++g<c;)for(var C=t[g],D=-1;++D<c;)D!=g&&(b[g]=Bi(b[g]||C,t[D],r,o));return Nn(nt(b,1),r,o)}function jd(t,r,o){for(var c=-1,g=t.length,b=r.length,C={};++c<g;){var D=c<b?r[c]:i;o(C,t[c],D)}return C}function bs(t){return We(t)?t:[]}function xs(t){return typeof t=="function"?t:_t}function zn(t,r){return ye(t)?t:Os(t,r)?[t]:ch(Fe(t))}var y1=xe;function $n(t,r,o){var c=t.length;return o=o===i?c:o,!r&&o>=c?t:qt(t,r,o)}var Md=oy||function(t){return tt.clearTimeout(t)};function kd(t,r){if(r)return t.slice();var o=t.length,c=id?id(o):new t.constructor(o);return t.copy(c),c}function Ss(t){var r=new t.constructor(t.byteLength);return new No(r).set(new No(t)),r}function _1(t,r){var o=r?Ss(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}function w1(t){var r=new t.constructor(t.source,Eo.exec(t));return r.lastIndex=t.lastIndex,r}function b1(t){return Oi?Me(Oi.call(t)):{}}function Ld(t,r){var o=r?Ss(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}function Nd(t,r){if(t!==r){var o=t!==i,c=t===null,g=t===t,b=Dt(t),C=r!==i,D=r===null,B=r===r,H=Dt(r);if(!D&&!H&&!b&&t>r||b&&C&&B&&!D&&!H||c&&C&&B||!o&&B||!g)return 1;if(!c&&!b&&!H&&t<r||H&&o&&g&&!c&&!b||D&&o&&g||!C&&g||!B)return-1}return 0}function x1(t,r,o){for(var c=-1,g=t.criteria,b=r.criteria,C=g.length,D=o.length;++c<C;){var B=Nd(g[c],b[c]);if(B){if(c>=D)return B;var H=o[c];return B*(H=="desc"?-1:1)}}return t.index-r.index}function zd(t,r,o,c){for(var g=-1,b=t.length,C=o.length,D=-1,B=r.length,H=Je(b-C,0),W=k(B+H),K=!c;++D<B;)W[D]=r[D];for(;++g<C;)(K||g<b)&&(W[o[g]]=t[g]);for(;H--;)W[D++]=t[g++];return W}function $d(t,r,o,c){for(var g=-1,b=t.length,C=-1,D=o.length,B=-1,H=r.length,W=Je(b-D,0),K=k(W+H),ie=!c;++g<W;)K[g]=t[g];for(var ce=g;++B<H;)K[ce+B]=r[B];for(;++C<D;)(ie||g<b)&&(K[ce+o[C]]=t[g++]);return K}function mt(t,r){var o=-1,c=t.length;for(r||(r=k(c));++o<c;)r[o]=t[o];return r}function on(t,r,o,c){var g=!o;o||(o={});for(var b=-1,C=r.length;++b<C;){var D=r[b],B=c?c(o[D],t[D],D,o,t):i;B===i&&(B=t[D]),g?mn(o,D,B):Fi(o,D,B)}return o}function S1(t,r){return on(t,Rs(t),r)}function E1(t,r){return on(t,eh(t),r)}function eu(t,r){return function(o,c){var g=ye(o)?Dv:Gy,b=r?r():{};return g(o,t,de(c,2),b)}}function Yr(t){return xe(function(r,o){var c=-1,g=o.length,b=g>1?o[g-1]:i,C=g>2?o[2]:i;for(b=t.length>3&&typeof b=="function"?(g--,b):i,C&&dt(o[0],o[1],C)&&(b=g<3?i:b,g=1),r=Me(r);++c<g;){var D=o[c];D&&t(r,D,c,b)}return r})}function Ud(t,r){return function(o,c){if(o==null)return o;if(!vt(o))return t(o,c);for(var g=o.length,b=r?g:-1,C=Me(o);(r?b--:++b<g)&&c(C[b],b,C)!==!1;);return o}}function Hd(t){return function(r,o,c){for(var g=-1,b=Me(r),C=c(r),D=C.length;D--;){var B=C[t?D:++g];if(o(b[B],B,b)===!1)break}return r}}function C1(t,r,o){var c=r&I,g=ki(t);function b(){var C=this&&this!==tt&&this instanceof b?g:t;return C.apply(c?o:this,arguments)}return b}function Wd(t){return function(r){r=Fe(r);var o=Ur(r)?Vt(r):i,c=o?o[0]:r.charAt(0),g=o?$n(o,1).join(""):r.slice(1);return c[t]()+g}}function Xr(t){return function(r){return Va(Uh($h(r).replace(pv,"")),t,"")}}function ki(t){return function(){var r=arguments;switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var o=Vr(t.prototype),c=t.apply(o,r);return $e(c)?c:o}}function A1(t,r,o){var c=ki(t);function g(){for(var b=arguments.length,C=k(b),D=b,B=Zr(g);D--;)C[D]=arguments[D];var H=b<3&&C[0]!==B&&C[b-1]!==B?[]:Mn(C,B);if(b-=H.length,b<o)return Yd(t,r,tu,g.placeholder,i,C,H,i,i,o-b);var W=this&&this!==tt&&this instanceof g?c:t;return At(W,this,C)}return g}function qd(t){return function(r,o,c){var g=Me(r);if(!vt(r)){var b=de(o,3);r=et(r),o=function(D){return b(g[D],D,g)}}var C=t(r,o,c);return C>-1?g[b?r[C]:C]:i}}function Gd(t){return yn(function(r){var o=r.length,c=o,g=Ht.prototype.thru;for(t&&r.reverse();c--;){var b=r[c];if(typeof b!="function")throw new Ut(l);if(g&&!C&&ou(b)=="wrapper")var C=new Ht([],!0)}for(c=C?c:o;++c<o;){b=r[c];var D=ou(b),B=D=="wrapper"?Ts(b):i;B&&Fs(B[0])&&B[1]==(Y|oe|L|M)&&!B[4].length&&B[9]==1?C=C[ou(B[0])].apply(C,B[3]):C=b.length==1&&Fs(b)?C[D]():C.thru(b)}return function(){var H=arguments,W=H[0];if(C&&H.length==1&&ye(W))return C.plant(W).value();for(var K=0,ie=o?r[K].apply(this,H):W;++K<o;)ie=r[K].call(this,ie);return ie}})}function tu(t,r,o,c,g,b,C,D,B,H){var W=r&Y,K=r&I,ie=r&q,ce=r&(oe|ue),he=r&G,be=ie?i:ki(t);function ge(){for(var Se=arguments.length,Ce=k(Se),Rt=Se;Rt--;)Ce[Rt]=arguments[Rt];if(ce)var ht=Zr(ge),Ot=Lv(Ce,ht);if(c&&(Ce=zd(Ce,c,g,ce)),b&&(Ce=$d(Ce,b,C,ce)),Se-=Ot,ce&&Se<H){var qe=Mn(Ce,ht);return Yd(t,r,tu,ge.placeholder,o,Ce,qe,D,B,H-Se)}var Zt=K?o:this,xn=ie?Zt[t]:t;return Se=Ce.length,D?Ce=G1(Ce,D):he&&Se>1&&Ce.reverse(),W&&B<Se&&(Ce.length=B),this&&this!==tt&&this instanceof ge&&(xn=be||ki(xn)),xn.apply(Zt,Ce)}return ge}function Kd(t,r){return function(o,c){return e1(o,t,r(c),{})}}function nu(t,r){return function(o,c){var g;if(o===i&&c===i)return r;if(o!==i&&(g=o),c!==i){if(g===i)return c;typeof o=="string"||typeof c=="string"?(o=Tt(o),c=Tt(c)):(o=Fd(o),c=Fd(c)),g=t(o,c)}return g}}function Es(t){return yn(function(r){return r=ze(r,It(de())),xe(function(o){var c=this;return t(r,function(g){return At(g,c,o)})})})}function ru(t,r){r=r===i?" ":Tt(r);var o=r.length;if(o<2)return o?vs(r,t):r;var c=vs(r,Ho(t/Hr(r)));return Ur(r)?$n(Vt(c),0,t).join(""):c.slice(0,t)}function I1(t,r,o,c){var g=r&I,b=ki(t);function C(){for(var D=-1,B=arguments.length,H=-1,W=c.length,K=k(W+B),ie=this&&this!==tt&&this instanceof C?b:t;++H<W;)K[H]=c[H];for(;B--;)K[H++]=arguments[++D];return At(ie,g?o:this,K)}return C}function Vd(t){return function(r,o,c){return c&&typeof c!="number"&&dt(r,o,c)&&(o=c=i),r=bn(r),o===i?(o=r,r=0):o=bn(o),c=c===i?r<o?1:-1:bn(c),d1(r,o,c,t)}}function iu(t){return function(r,o){return typeof r=="string"&&typeof o=="string"||(r=Kt(r),o=Kt(o)),t(r,o)}}function Yd(t,r,o,c,g,b,C,D,B,H){var W=r&oe,K=W?C:i,ie=W?i:C,ce=W?b:i,he=W?i:b;r|=W?L:U,r&=~(W?U:L),r&j||(r&=~(I|q));var be=[t,r,g,ce,K,he,ie,D,B,H],ge=o.apply(i,be);return Fs(t)&&ah(ge,be),ge.placeholder=c,sh(ge,t,r)}function Cs(t){var r=Ze[t];return function(o,c){if(o=Kt(o),c=c==null?0:ot(_e(c),292),c&&sd(o)){var g=(Fe(o)+"e").split("e"),b=r(g[0]+"e"+(+g[1]+c));return g=(Fe(b)+"e").split("e"),+(g[0]+"e"+(+g[1]-c))}return r(o)}}var T1=Gr&&1/Bo(new Gr([,-0]))[1]==fe?function(t){return new Gr(t)}:Ks;function Xd(t){return function(r){var o=ut(r);return o==Ct?ts(r):o==lt?qv(r):kv(r,t(r))}}function vn(t,r,o,c,g,b,C,D){var B=r&q;if(!B&&typeof t!="function")throw new Ut(l);var H=c?c.length:0;if(H||(r&=~(L|U),c=g=i),C=C===i?C:Je(_e(C),0),D=D===i?D:_e(D),H-=g?g.length:0,r&U){var W=c,K=g;c=g=i}var ie=B?i:Ts(t),ce=[t,r,o,c,g,W,K,b,C,D];if(ie&&H1(ce,ie),t=ce[0],r=ce[1],o=ce[2],c=ce[3],g=ce[4],D=ce[9]=ce[9]===i?B?0:t.length:Je(ce[9]-H,0),!D&&r&(oe|ue)&&(r&=~(oe|ue)),!r||r==I)var he=C1(t,r,o);else r==oe||r==ue?he=A1(t,r,D):(r==L||r==(I|L))&&!g.length?he=I1(t,r,o,c):he=tu.apply(i,ce);var be=ie?Rd:ah;return sh(be(he,ce),t,r)}function Zd(t,r,o,c){return t===i||Xt(t,qr[o])&&!Pe.call(c,o)?r:t}function Jd(t,r,o,c,g,b){return $e(t)&&$e(r)&&(b.set(r,t),Zo(t,r,i,Jd,b),b.delete(r)),t}function D1(t){return zi(t)?i:t}function Qd(t,r,o,c,g,b){var C=o&S,D=t.length,B=r.length;if(D!=B&&!(C&&B>D))return!1;var H=b.get(t),W=b.get(r);if(H&&W)return H==r&&W==t;var K=-1,ie=!0,ce=o&E?new dr:i;for(b.set(t,r),b.set(r,t);++K<D;){var he=t[K],be=r[K];if(c)var ge=C?c(be,he,K,r,t,b):c(he,be,K,t,r,b);if(ge!==i){if(ge)continue;ie=!1;break}if(ce){if(!Ya(r,function(Se,Ce){if(!Ai(ce,Ce)&&(he===Se||g(he,Se,o,c,b)))return ce.push(Ce)})){ie=!1;break}}else if(!(he===be||g(he,be,o,c,b))){ie=!1;break}}return b.delete(t),b.delete(r),ie}function R1(t,r,o,c,g,b,C){switch(o){case hn:if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case On:return!(t.byteLength!=r.byteLength||!b(new No(t),new No(r)));case nr:case rr:case pt:return Xt(+t,+r);case Or:return t.name==r.name&&t.message==r.message;case dn:case Dn:return t==r+"";case Ct:var D=ts;case lt:var B=c&S;if(D||(D=Bo),t.size!=r.size&&!B)return!1;var H=C.get(t);if(H)return H==r;c|=E,C.set(t,r);var W=Qd(D(t),D(r),c,g,b,C);return C.delete(t),W;case or:if(Oi)return Oi.call(t)==Oi.call(r)}return!1}function O1(t,r,o,c,g,b){var C=o&S,D=As(t),B=D.length,H=As(r),W=H.length;if(B!=W&&!C)return!1;for(var K=B;K--;){var ie=D[K];if(!(C?ie in r:Pe.call(r,ie)))return!1}var ce=b.get(t),he=b.get(r);if(ce&&he)return ce==r&&he==t;var be=!0;b.set(t,r),b.set(r,t);for(var ge=C;++K<B;){ie=D[K];var Se=t[ie],Ce=r[ie];if(c)var Rt=C?c(Ce,Se,ie,r,t,b):c(Se,Ce,ie,t,r,b);if(!(Rt===i?Se===Ce||g(Se,Ce,o,c,b):Rt)){be=!1;break}ge||(ge=ie=="constructor")}if(be&&!ge){var ht=t.constructor,Ot=r.constructor;ht!=Ot&&"constructor"in t&&"constructor"in r&&!(typeof ht=="function"&&ht instanceof ht&&typeof Ot=="function"&&Ot instanceof Ot)&&(be=!1)}return b.delete(t),b.delete(r),be}function yn(t){return Ps(oh(t,i,gh),t+"")}function As(t){return _d(t,et,Rs)}function Is(t){return _d(t,yt,eh)}var Ts=qo?function(t){return qo.get(t)}:Ks;function ou(t){for(var r=t.name+"",o=Kr[r],c=Pe.call(Kr,r)?o.length:0;c--;){var g=o[c],b=g.func;if(b==null||b==t)return g.name}return r}function Zr(t){var r=Pe.call(_,"placeholder")?_:t;return r.placeholder}function de(){var t=_.iteratee||qs;return t=t===qs?xd:t,arguments.length?t(arguments[0],arguments[1]):t}function uu(t,r){var o=t.__data__;return N1(r)?o[typeof r=="string"?"string":"hash"]:o.map}function Ds(t){for(var r=et(t),o=r.length;o--;){var c=r[o],g=t[c];r[o]=[c,g,rh(g)]}return r}function pr(t,r){var o=Uv(t,r);return bd(o)?o:i}function F1(t){var r=Pe.call(t,cr),o=t[cr];try{t[cr]=i;var c=!0}catch{}var g=ko.call(t);return c&&(r?t[cr]=o:delete t[cr]),g}var Rs=rs?function(t){return t==null?[]:(t=Me(t),Pn(rs(t),function(r){return ud.call(t,r)}))}:Vs,eh=rs?function(t){for(var r=[];t;)jn(r,Rs(t)),t=zo(t);return r}:Vs,ut=ft;(is&&ut(new is(new ArrayBuffer(1)))!=hn||Ti&&ut(new Ti)!=Ct||os&&ut(os.resolve())!=ir||Gr&&ut(new Gr)!=lt||Di&&ut(new Di)!=Rn)&&(ut=function(t){var r=ft(t),o=r==Nt?t.constructor:i,c=o?mr(o):"";if(c)switch(c){case gy:return hn;case py:return Ct;case my:return ir;case vy:return lt;case yy:return Rn}return r});function B1(t,r,o){for(var c=-1,g=o.length;++c<g;){var b=o[c],C=b.size;switch(b.type){case"drop":t+=C;break;case"dropRight":r-=C;break;case"take":r=ot(r,t+C);break;case"takeRight":t=Je(t,r-C);break}}return{start:t,end:r}}function P1(t){var r=t.match(Aa);return r?r[1].split(Ia):[]}function th(t,r,o){r=zn(r,t);for(var c=-1,g=r.length,b=!1;++c<g;){var C=un(r[c]);if(!(b=t!=null&&o(t,C)))break;t=t[C]}return b||++c!=g?b:(g=t==null?0:t.length,!!g&&hu(g)&&_n(C,g)&&(ye(t)||vr(t)))}function j1(t){var r=t.length,o=new t.constructor(r);return r&&typeof t[0]=="string"&&Pe.call(t,"index")&&(o.index=t.index,o.input=t.input),o}function nh(t){return typeof t.constructor=="function"&&!Li(t)?Vr(zo(t)):{}}function M1(t,r,o){var c=t.constructor;switch(r){case On:return Ss(t);case nr:case rr:return new c(+t);case hn:return _1(t,o);case Br:case Pr:case jr:case Mr:case kr:case ur:case wi:case bi:case ar:return Ld(t,o);case Ct:return new c;case pt:case Dn:return new c(t);case dn:return w1(t);case lt:return new c;case or:return b1(t)}}function k1(t,r){var o=r.length;if(!o)return t;var c=o-1;return r[c]=(o>1?"& ":"")+r[c],r=r.join(o>2?", ":" "),t.replace(Ca,`{
/* [wrapped with `+r+`] */
`)}function L1(t){return ye(t)||vr(t)||!!(ad&&t&&t[ad])}function _n(t,r){var o=typeof t;return r=r??ve,!!r&&(o=="number"||o!="symbol"&&Ma.test(t))&&t>-1&&t%1==0&&t<r}function dt(t,r,o){if(!$e(o))return!1;var c=typeof r;return(c=="number"?vt(o)&&_n(r,o.length):c=="string"&&r in o)?Xt(o[r],t):!1}function Os(t,r){if(ye(t))return!1;var o=typeof t;return o=="number"||o=="symbol"||o=="boolean"||t==null||Dt(t)?!0:xa.test(t)||!ba.test(t)||r!=null&&t in Me(r)}function N1(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}function Fs(t){var r=ou(t),o=_[r];if(typeof o!="function"||!(r in Ee.prototype))return!1;if(t===o)return!0;var c=Ts(o);return!!c&&t===c[0]}function z1(t){return!!rd&&rd in t}var $1=jo?wn:Ys;function Li(t){var r=t&&t.constructor,o=typeof r=="function"&&r.prototype||qr;return t===o}function rh(t){return t===t&&!$e(t)}function ih(t,r){return function(o){return o==null?!1:o[t]===r&&(r!==i||t in Me(o))}}function U1(t){var r=fu(t,function(c){return o.size===y&&o.clear(),c}),o=r.cache;return r}function H1(t,r){var o=t[1],c=r[1],g=o|c,b=g<(I|q|Y),C=c==Y&&o==oe||c==Y&&o==M&&t[7].length<=r[8]||c==(Y|M)&&r[7].length<=r[8]&&o==oe;if(!(b||C))return t;c&I&&(t[2]=r[2],g|=o&I?0:j);var D=r[3];if(D){var B=t[3];t[3]=B?zd(B,D,r[4]):D,t[4]=B?Mn(t[3],m):r[4]}return D=r[5],D&&(B=t[5],t[5]=B?$d(B,D,r[6]):D,t[6]=B?Mn(t[5],m):r[6]),D=r[7],D&&(t[7]=D),c&Y&&(t[8]=t[8]==null?r[8]:ot(t[8],r[8])),t[9]==null&&(t[9]=r[9]),t[0]=r[0],t[1]=g,t}function W1(t){var r=[];if(t!=null)for(var o in Me(t))r.push(o);return r}function q1(t){return ko.call(t)}function oh(t,r,o){return r=Je(r===i?t.length-1:r,0),function(){for(var c=arguments,g=-1,b=Je(c.length-r,0),C=k(b);++g<b;)C[g]=c[r+g];g=-1;for(var D=k(r+1);++g<r;)D[g]=c[g];return D[r]=o(C),At(t,this,D)}}function uh(t,r){return r.length<2?t:gr(t,qt(r,0,-1))}function G1(t,r){for(var o=t.length,c=ot(r.length,o),g=mt(t);c--;){var b=r[c];t[c]=_n(b,o)?g[b]:i}return t}function Bs(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}var ah=lh(Rd),Ni=ay||function(t,r){return tt.setTimeout(t,r)},Ps=lh(p1);function sh(t,r,o){var c=r+"";return Ps(t,k1(c,K1(P1(c),o)))}function lh(t){var r=0,o=0;return function(){var c=fy(),g=ne-(c-o);if(o=c,g>0){if(++r>=X)return arguments[0]}else r=0;return t.apply(i,arguments)}}function au(t,r){var o=-1,c=t.length,g=c-1;for(r=r===i?c:r;++o<r;){var b=ms(o,g),C=t[b];t[b]=t[o],t[o]=C}return t.length=r,t}var ch=U1(function(t){var r=[];return t.charCodeAt(0)===46&&r.push(""),t.replace(Sa,function(o,c,g,b){r.push(g?b.replace(Ra,"$1"):c||o)}),r});function un(t){if(typeof t=="string"||Dt(t))return t;var r=t+"";return r=="0"&&1/t==-fe?"-0":r}function mr(t){if(t!=null){try{return Mo.call(t)}catch{}try{return t+""}catch{}}return""}function K1(t,r){return $t(ha,function(o){var c="_."+o[0];r&o[1]&&!Oo(t,c)&&t.push(c)}),t.sort()}function fh(t){if(t instanceof Ee)return t.clone();var r=new Ht(t.__wrapped__,t.__chain__);return r.__actions__=mt(t.__actions__),r.__index__=t.__index__,r.__values__=t.__values__,r}function V1(t,r,o){(o?dt(t,r,o):r===i)?r=1:r=Je(_e(r),0);var c=t==null?0:t.length;if(!c||r<1)return[];for(var g=0,b=0,C=k(Ho(c/r));g<c;)C[b++]=qt(t,g,g+=r);return C}function Y1(t){for(var r=-1,o=t==null?0:t.length,c=0,g=[];++r<o;){var b=t[r];b&&(g[c++]=b)}return g}function X1(){var t=arguments.length;if(!t)return[];for(var r=k(t-1),o=arguments[0],c=t;c--;)r[c-1]=arguments[c];return jn(ye(o)?mt(o):[o],nt(r,1))}var Z1=xe(function(t,r){return We(t)?Bi(t,nt(r,1,We,!0)):[]}),J1=xe(function(t,r){var o=Gt(r);return We(o)&&(o=i),We(t)?Bi(t,nt(r,1,We,!0),de(o,2)):[]}),Q1=xe(function(t,r){var o=Gt(r);return We(o)&&(o=i),We(t)?Bi(t,nt(r,1,We,!0),i,o):[]});function e_(t,r,o){var c=t==null?0:t.length;return c?(r=o||r===i?1:_e(r),qt(t,r<0?0:r,c)):[]}function t_(t,r,o){var c=t==null?0:t.length;return c?(r=o||r===i?1:_e(r),r=c-r,qt(t,0,r<0?0:r)):[]}function n_(t,r){return t&&t.length?Qo(t,de(r,3),!0,!0):[]}function r_(t,r){return t&&t.length?Qo(t,de(r,3),!0):[]}function i_(t,r,o,c){var g=t==null?0:t.length;return g?(o&&typeof o!="number"&&dt(t,r,o)&&(o=0,c=g),Xy(t,r,o,c)):[]}function dh(t,r,o){var c=t==null?0:t.length;if(!c)return-1;var g=o==null?0:_e(o);return g<0&&(g=Je(c+g,0)),Fo(t,de(r,3),g)}function hh(t,r,o){var c=t==null?0:t.length;if(!c)return-1;var g=c-1;return o!==i&&(g=_e(o),g=o<0?Je(c+g,0):ot(g,c-1)),Fo(t,de(r,3),g,!0)}function gh(t){var r=t==null?0:t.length;return r?nt(t,1):[]}function o_(t){var r=t==null?0:t.length;return r?nt(t,fe):[]}function u_(t,r){var o=t==null?0:t.length;return o?(r=r===i?1:_e(r),nt(t,r)):[]}function a_(t){for(var r=-1,o=t==null?0:t.length,c={};++r<o;){var g=t[r];c[g[0]]=g[1]}return c}function ph(t){return t&&t.length?t[0]:i}function s_(t,r,o){var c=t==null?0:t.length;if(!c)return-1;var g=o==null?0:_e(o);return g<0&&(g=Je(c+g,0)),$r(t,r,g)}function l_(t){var r=t==null?0:t.length;return r?qt(t,0,-1):[]}var c_=xe(function(t){var r=ze(t,bs);return r.length&&r[0]===t[0]?fs(r):[]}),f_=xe(function(t){var r=Gt(t),o=ze(t,bs);return r===Gt(o)?r=i:o.pop(),o.length&&o[0]===t[0]?fs(o,de(r,2)):[]}),d_=xe(function(t){var r=Gt(t),o=ze(t,bs);return r=typeof r=="function"?r:i,r&&o.pop(),o.length&&o[0]===t[0]?fs(o,i,r):[]});function h_(t,r){return t==null?"":ly.call(t,r)}function Gt(t){var r=t==null?0:t.length;return r?t[r-1]:i}function g_(t,r,o){var c=t==null?0:t.length;if(!c)return-1;var g=c;return o!==i&&(g=_e(o),g=g<0?Je(c+g,0):ot(g,c-1)),r===r?Kv(t,r,g):Fo(t,Yf,g,!0)}function p_(t,r){return t&&t.length?Ad(t,_e(r)):i}var m_=xe(mh);function mh(t,r){return t&&t.length&&r&&r.length?ps(t,r):t}function v_(t,r,o){return t&&t.length&&r&&r.length?ps(t,r,de(o,2)):t}function y_(t,r,o){return t&&t.length&&r&&r.length?ps(t,r,i,o):t}var __=yn(function(t,r){var o=t==null?0:t.length,c=as(t,r);return Dd(t,ze(r,function(g){return _n(g,o)?+g:g}).sort(Nd)),c});function w_(t,r){var o=[];if(!(t&&t.length))return o;var c=-1,g=[],b=t.length;for(r=de(r,3);++c<b;){var C=t[c];r(C,c,t)&&(o.push(C),g.push(c))}return Dd(t,g),o}function js(t){return t==null?t:hy.call(t)}function b_(t,r,o){var c=t==null?0:t.length;return c?(o&&typeof o!="number"&&dt(t,r,o)?(r=0,o=c):(r=r==null?0:_e(r),o=o===i?c:_e(o)),qt(t,r,o)):[]}function x_(t,r){return Jo(t,r)}function S_(t,r,o){return ys(t,r,de(o,2))}function E_(t,r){var o=t==null?0:t.length;if(o){var c=Jo(t,r);if(c<o&&Xt(t[c],r))return c}return-1}function C_(t,r){return Jo(t,r,!0)}function A_(t,r,o){return ys(t,r,de(o,2),!0)}function I_(t,r){var o=t==null?0:t.length;if(o){var c=Jo(t,r,!0)-1;if(Xt(t[c],r))return c}return-1}function T_(t){return t&&t.length?Od(t):[]}function D_(t,r){return t&&t.length?Od(t,de(r,2)):[]}function R_(t){var r=t==null?0:t.length;return r?qt(t,1,r):[]}function O_(t,r,o){return t&&t.length?(r=o||r===i?1:_e(r),qt(t,0,r<0?0:r)):[]}function F_(t,r,o){var c=t==null?0:t.length;return c?(r=o||r===i?1:_e(r),r=c-r,qt(t,r<0?0:r,c)):[]}function B_(t,r){return t&&t.length?Qo(t,de(r,3),!1,!0):[]}function P_(t,r){return t&&t.length?Qo(t,de(r,3)):[]}var j_=xe(function(t){return Nn(nt(t,1,We,!0))}),M_=xe(function(t){var r=Gt(t);return We(r)&&(r=i),Nn(nt(t,1,We,!0),de(r,2))}),k_=xe(function(t){var r=Gt(t);return r=typeof r=="function"?r:i,Nn(nt(t,1,We,!0),i,r)});function L_(t){return t&&t.length?Nn(t):[]}function N_(t,r){return t&&t.length?Nn(t,de(r,2)):[]}function z_(t,r){return r=typeof r=="function"?r:i,t&&t.length?Nn(t,i,r):[]}function Ms(t){if(!(t&&t.length))return[];var r=0;return t=Pn(t,function(o){if(We(o))return r=Je(o.length,r),!0}),Qa(r,function(o){return ze(t,Xa(o))})}function vh(t,r){if(!(t&&t.length))return[];var o=Ms(t);return r==null?o:ze(o,function(c){return At(r,i,c)})}var $_=xe(function(t,r){return We(t)?Bi(t,r):[]}),U_=xe(function(t){return ws(Pn(t,We))}),H_=xe(function(t){var r=Gt(t);return We(r)&&(r=i),ws(Pn(t,We),de(r,2))}),W_=xe(function(t){var r=Gt(t);return r=typeof r=="function"?r:i,ws(Pn(t,We),i,r)}),q_=xe(Ms);function G_(t,r){return jd(t||[],r||[],Fi)}function K_(t,r){return jd(t||[],r||[],Mi)}var V_=xe(function(t){var r=t.length,o=r>1?t[r-1]:i;return o=typeof o=="function"?(t.pop(),o):i,vh(t,o)});function yh(t){var r=_(t);return r.__chain__=!0,r}function Y_(t,r){return r(t),t}function su(t,r){return r(t)}var X_=yn(function(t){var r=t.length,o=r?t[0]:0,c=this.__wrapped__,g=function(b){return as(b,t)};return r>1||this.__actions__.length||!(c instanceof Ee)||!_n(o)?this.thru(g):(c=c.slice(o,+o+(r?1:0)),c.__actions__.push({func:su,args:[g],thisArg:i}),new Ht(c,this.__chain__).thru(function(b){return r&&!b.length&&b.push(i),b}))});function Z_(){return yh(this)}function J_(){return new Ht(this.value(),this.__chain__)}function Q_(){this.__values__===i&&(this.__values__=Fh(this.value()));var t=this.__index__>=this.__values__.length,r=t?i:this.__values__[this.__index__++];return{done:t,value:r}}function e3(){return this}function t3(t){for(var r,o=this;o instanceof Ko;){var c=fh(o);c.__index__=0,c.__values__=i,r?g.__wrapped__=c:r=c;var g=c;o=o.__wrapped__}return g.__wrapped__=t,r}function n3(){var t=this.__wrapped__;if(t instanceof Ee){var r=t;return this.__actions__.length&&(r=new Ee(this)),r=r.reverse(),r.__actions__.push({func:su,args:[js],thisArg:i}),new Ht(r,this.__chain__)}return this.thru(js)}function r3(){return Pd(this.__wrapped__,this.__actions__)}var i3=eu(function(t,r,o){Pe.call(t,o)?++t[o]:mn(t,o,1)});function o3(t,r,o){var c=ye(t)?Kf:Yy;return o&&dt(t,r,o)&&(r=i),c(t,de(r,3))}function u3(t,r){var o=ye(t)?Pn:vd;return o(t,de(r,3))}var a3=qd(dh),s3=qd(hh);function l3(t,r){return nt(lu(t,r),1)}function c3(t,r){return nt(lu(t,r),fe)}function f3(t,r,o){return o=o===i?1:_e(o),nt(lu(t,r),o)}function _h(t,r){var o=ye(t)?$t:Ln;return o(t,de(r,3))}function wh(t,r){var o=ye(t)?Rv:md;return o(t,de(r,3))}var d3=eu(function(t,r,o){Pe.call(t,o)?t[o].push(r):mn(t,o,[r])});function h3(t,r,o,c){t=vt(t)?t:Qr(t),o=o&&!c?_e(o):0;var g=t.length;return o<0&&(o=Je(g+o,0)),gu(t)?o<=g&&t.indexOf(r,o)>-1:!!g&&$r(t,r,o)>-1}var g3=xe(function(t,r,o){var c=-1,g=typeof r=="function",b=vt(t)?k(t.length):[];return Ln(t,function(C){b[++c]=g?At(r,C,o):Pi(C,r,o)}),b}),p3=eu(function(t,r,o){mn(t,o,r)});function lu(t,r){var o=ye(t)?ze:Sd;return o(t,de(r,3))}function m3(t,r,o,c){return t==null?[]:(ye(r)||(r=r==null?[]:[r]),o=c?i:o,ye(o)||(o=o==null?[]:[o]),Id(t,r,o))}var v3=eu(function(t,r,o){t[o?0:1].push(r)},function(){return[[],[]]});function y3(t,r,o){var c=ye(t)?Va:Zf,g=arguments.length<3;return c(t,de(r,4),o,g,Ln)}function _3(t,r,o){var c=ye(t)?Ov:Zf,g=arguments.length<3;return c(t,de(r,4),o,g,md)}function w3(t,r){var o=ye(t)?Pn:vd;return o(t,du(de(r,3)))}function b3(t){var r=ye(t)?dd:h1;return r(t)}function x3(t,r,o){(o?dt(t,r,o):r===i)?r=1:r=_e(r);var c=ye(t)?Wy:g1;return c(t,r)}function S3(t){var r=ye(t)?qy:m1;return r(t)}function E3(t){if(t==null)return 0;if(vt(t))return gu(t)?Hr(t):t.length;var r=ut(t);return r==Ct||r==lt?t.size:hs(t).length}function C3(t,r,o){var c=ye(t)?Ya:v1;return o&&dt(t,r,o)&&(r=i),c(t,de(r,3))}var A3=xe(function(t,r){if(t==null)return[];var o=r.length;return o>1&&dt(t,r[0],r[1])?r=[]:o>2&&dt(r[0],r[1],r[2])&&(r=[r[0]]),Id(t,nt(r,1),[])}),cu=uy||function(){return tt.Date.now()};function I3(t,r){if(typeof r!="function")throw new Ut(l);return t=_e(t),function(){if(--t<1)return r.apply(this,arguments)}}function bh(t,r,o){return r=o?i:r,r=t&&r==null?t.length:r,vn(t,Y,i,i,i,i,r)}function xh(t,r){var o;if(typeof r!="function")throw new Ut(l);return t=_e(t),function(){return--t>0&&(o=r.apply(this,arguments)),t<=1&&(r=i),o}}var ks=xe(function(t,r,o){var c=I;if(o.length){var g=Mn(o,Zr(ks));c|=L}return vn(t,c,r,o,g)}),Sh=xe(function(t,r,o){var c=I|q;if(o.length){var g=Mn(o,Zr(Sh));c|=L}return vn(r,c,t,o,g)});function Eh(t,r,o){r=o?i:r;var c=vn(t,oe,i,i,i,i,i,r);return c.placeholder=Eh.placeholder,c}function Ch(t,r,o){r=o?i:r;var c=vn(t,ue,i,i,i,i,i,r);return c.placeholder=Ch.placeholder,c}function Ah(t,r,o){var c,g,b,C,D,B,H=0,W=!1,K=!1,ie=!0;if(typeof t!="function")throw new Ut(l);r=Kt(r)||0,$e(o)&&(W=!!o.leading,K="maxWait"in o,b=K?Je(Kt(o.maxWait)||0,r):b,ie="trailing"in o?!!o.trailing:ie);function ce(qe){var Zt=c,xn=g;return c=g=i,H=qe,C=t.apply(xn,Zt),C}function he(qe){return H=qe,D=Ni(Se,r),W?ce(qe):C}function be(qe){var Zt=qe-B,xn=qe-H,qh=r-Zt;return K?ot(qh,b-xn):qh}function ge(qe){var Zt=qe-B,xn=qe-H;return B===i||Zt>=r||Zt<0||K&&xn>=b}function Se(){var qe=cu();if(ge(qe))return Ce(qe);D=Ni(Se,be(qe))}function Ce(qe){return D=i,ie&&c?ce(qe):(c=g=i,C)}function Rt(){D!==i&&Md(D),H=0,c=B=g=D=i}function ht(){return D===i?C:Ce(cu())}function Ot(){var qe=cu(),Zt=ge(qe);if(c=arguments,g=this,B=qe,Zt){if(D===i)return he(B);if(K)return Md(D),D=Ni(Se,r),ce(B)}return D===i&&(D=Ni(Se,r)),C}return Ot.cancel=Rt,Ot.flush=ht,Ot}var T3=xe(function(t,r){return pd(t,1,r)}),D3=xe(function(t,r,o){return pd(t,Kt(r)||0,o)});function R3(t){return vn(t,G)}function fu(t,r){if(typeof t!="function"||r!=null&&typeof r!="function")throw new Ut(l);var o=function(){var c=arguments,g=r?r.apply(this,c):c[0],b=o.cache;if(b.has(g))return b.get(g);var C=t.apply(this,c);return o.cache=b.set(g,C)||b,C};return o.cache=new(fu.Cache||pn),o}fu.Cache=pn;function du(t){if(typeof t!="function")throw new Ut(l);return function(){var r=arguments;switch(r.length){case 0:return!t.call(this);case 1:return!t.call(this,r[0]);case 2:return!t.call(this,r[0],r[1]);case 3:return!t.call(this,r[0],r[1],r[2])}return!t.apply(this,r)}}function O3(t){return xh(2,t)}var F3=y1(function(t,r){r=r.length==1&&ye(r[0])?ze(r[0],It(de())):ze(nt(r,1),It(de()));var o=r.length;return xe(function(c){for(var g=-1,b=ot(c.length,o);++g<b;)c[g]=r[g].call(this,c[g]);return At(t,this,c)})}),Ls=xe(function(t,r){var o=Mn(r,Zr(Ls));return vn(t,L,i,r,o)}),Ih=xe(function(t,r){var o=Mn(r,Zr(Ih));return vn(t,U,i,r,o)}),B3=yn(function(t,r){return vn(t,M,i,i,i,r)});function P3(t,r){if(typeof t!="function")throw new Ut(l);return r=r===i?r:_e(r),xe(t,r)}function j3(t,r){if(typeof t!="function")throw new Ut(l);return r=r==null?0:Je(_e(r),0),xe(function(o){var c=o[r],g=$n(o,0,r);return c&&jn(g,c),At(t,this,g)})}function M3(t,r,o){var c=!0,g=!0;if(typeof t!="function")throw new Ut(l);return $e(o)&&(c="leading"in o?!!o.leading:c,g="trailing"in o?!!o.trailing:g),Ah(t,r,{leading:c,maxWait:r,trailing:g})}function k3(t){return bh(t,1)}function L3(t,r){return Ls(xs(r),t)}function N3(){if(!arguments.length)return[];var t=arguments[0];return ye(t)?t:[t]}function z3(t){return Wt(t,A)}function $3(t,r){return r=typeof r=="function"?r:i,Wt(t,A,r)}function U3(t){return Wt(t,h|A)}function H3(t,r){return r=typeof r=="function"?r:i,Wt(t,h|A,r)}function W3(t,r){return r==null||gd(t,r,et(r))}function Xt(t,r){return t===r||t!==t&&r!==r}var q3=iu(cs),G3=iu(function(t,r){return t>=r}),vr=wd(function(){return arguments}())?wd:function(t){return Ue(t)&&Pe.call(t,"callee")&&!ud.call(t,"callee")},ye=k.isArray,K3=$f?It($f):t1;function vt(t){return t!=null&&hu(t.length)&&!wn(t)}function We(t){return Ue(t)&&vt(t)}function V3(t){return t===!0||t===!1||Ue(t)&&ft(t)==nr}var Un=sy||Ys,Y3=Uf?It(Uf):n1;function X3(t){return Ue(t)&&t.nodeType===1&&!zi(t)}function Z3(t){if(t==null)return!0;if(vt(t)&&(ye(t)||typeof t=="string"||typeof t.splice=="function"||Un(t)||Jr(t)||vr(t)))return!t.length;var r=ut(t);if(r==Ct||r==lt)return!t.size;if(Li(t))return!hs(t).length;for(var o in t)if(Pe.call(t,o))return!1;return!0}function J3(t,r){return ji(t,r)}function Q3(t,r,o){o=typeof o=="function"?o:i;var c=o?o(t,r):i;return c===i?ji(t,r,i,o):!!c}function Ns(t){if(!Ue(t))return!1;var r=ft(t);return r==Or||r==pa||typeof t.message=="string"&&typeof t.name=="string"&&!zi(t)}function ew(t){return typeof t=="number"&&sd(t)}function wn(t){if(!$e(t))return!1;var r=ft(t);return r==Fr||r==po||r==ga||r==_i}function Th(t){return typeof t=="number"&&t==_e(t)}function hu(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ve}function $e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}function Ue(t){return t!=null&&typeof t=="object"}var Dh=Hf?It(Hf):i1;function tw(t,r){return t===r||ds(t,r,Ds(r))}function nw(t,r,o){return o=typeof o=="function"?o:i,ds(t,r,Ds(r),o)}function rw(t){return Rh(t)&&t!=+t}function iw(t){if($1(t))throw new me(a);return bd(t)}function ow(t){return t===null}function uw(t){return t==null}function Rh(t){return typeof t=="number"||Ue(t)&&ft(t)==pt}function zi(t){if(!Ue(t)||ft(t)!=Nt)return!1;var r=zo(t);if(r===null)return!0;var o=Pe.call(r,"constructor")&&r.constructor;return typeof o=="function"&&o instanceof o&&Mo.call(o)==ny}var zs=Wf?It(Wf):o1;function aw(t){return Th(t)&&t>=-ve&&t<=ve}var Oh=qf?It(qf):u1;function gu(t){return typeof t=="string"||!ye(t)&&Ue(t)&&ft(t)==Dn}function Dt(t){return typeof t=="symbol"||Ue(t)&&ft(t)==or}var Jr=Gf?It(Gf):a1;function sw(t){return t===i}function lw(t){return Ue(t)&&ut(t)==Rn}function cw(t){return Ue(t)&&ft(t)==vo}var fw=iu(gs),dw=iu(function(t,r){return t<=r});function Fh(t){if(!t)return[];if(vt(t))return gu(t)?Vt(t):mt(t);if(Ii&&t[Ii])return Wv(t[Ii]());var r=ut(t),o=r==Ct?ts:r==lt?Bo:Qr;return o(t)}function bn(t){if(!t)return t===0?t:0;if(t=Kt(t),t===fe||t===-fe){var r=t<0?-1:1;return r*He}return t===t?t:0}function _e(t){var r=bn(t),o=r%1;return r===r?o?r-o:r:0}function Bh(t){return t?hr(_e(t),0,Ke):0}function Kt(t){if(typeof t=="number")return t;if(Dt(t))return In;if($e(t)){var r=typeof t.valueOf=="function"?t.valueOf():t;t=$e(r)?r+"":r}if(typeof t!="string")return t===0?t:+t;t=Jf(t);var o=Ba.test(t);return o||ja.test(t)?Iv(t.slice(2),o?2:8):Fa.test(t)?In:+t}function Ph(t){return on(t,yt(t))}function hw(t){return t?hr(_e(t),-ve,ve):t===0?t:0}function Fe(t){return t==null?"":Tt(t)}var gw=Yr(function(t,r){if(Li(r)||vt(r)){on(r,et(r),t);return}for(var o in r)Pe.call(r,o)&&Fi(t,o,r[o])}),jh=Yr(function(t,r){on(r,yt(r),t)}),pu=Yr(function(t,r,o,c){on(r,yt(r),t,c)}),pw=Yr(function(t,r,o,c){on(r,et(r),t,c)}),mw=yn(as);function vw(t,r){var o=Vr(t);return r==null?o:hd(o,r)}var yw=xe(function(t,r){t=Me(t);var o=-1,c=r.length,g=c>2?r[2]:i;for(g&&dt(r[0],r[1],g)&&(c=1);++o<c;)for(var b=r[o],C=yt(b),D=-1,B=C.length;++D<B;){var H=C[D],W=t[H];(W===i||Xt(W,qr[H])&&!Pe.call(t,H))&&(t[H]=b[H])}return t}),_w=xe(function(t){return t.push(i,Jd),At(Mh,i,t)});function ww(t,r){return Vf(t,de(r,3),rn)}function bw(t,r){return Vf(t,de(r,3),ls)}function xw(t,r){return t==null?t:ss(t,de(r,3),yt)}function Sw(t,r){return t==null?t:yd(t,de(r,3),yt)}function Ew(t,r){return t&&rn(t,de(r,3))}function Cw(t,r){return t&&ls(t,de(r,3))}function Aw(t){return t==null?[]:Xo(t,et(t))}function Iw(t){return t==null?[]:Xo(t,yt(t))}function $s(t,r,o){var c=t==null?i:gr(t,r);return c===i?o:c}function Tw(t,r){return t!=null&&th(t,r,Zy)}function Us(t,r){return t!=null&&th(t,r,Jy)}var Dw=Kd(function(t,r,o){r!=null&&typeof r.toString!="function"&&(r=ko.call(r)),t[r]=o},Ws(_t)),Rw=Kd(function(t,r,o){r!=null&&typeof r.toString!="function"&&(r=ko.call(r)),Pe.call(t,r)?t[r].push(o):t[r]=[o]},de),Ow=xe(Pi);function et(t){return vt(t)?fd(t):hs(t)}function yt(t){return vt(t)?fd(t,!0):s1(t)}function Fw(t,r){var o={};return r=de(r,3),rn(t,function(c,g,b){mn(o,r(c,g,b),c)}),o}function Bw(t,r){var o={};return r=de(r,3),rn(t,function(c,g,b){mn(o,g,r(c,g,b))}),o}var Pw=Yr(function(t,r,o){Zo(t,r,o)}),Mh=Yr(function(t,r,o,c){Zo(t,r,o,c)}),jw=yn(function(t,r){var o={};if(t==null)return o;var c=!1;r=ze(r,function(b){return b=zn(b,t),c||(c=b.length>1),b}),on(t,Is(t),o),c&&(o=Wt(o,h|v|A,D1));for(var g=r.length;g--;)_s(o,r[g]);return o});function Mw(t,r){return kh(t,du(de(r)))}var kw=yn(function(t,r){return t==null?{}:c1(t,r)});function kh(t,r){if(t==null)return{};var o=ze(Is(t),function(c){return[c]});return r=de(r),Td(t,o,function(c,g){return r(c,g[0])})}function Lw(t,r,o){r=zn(r,t);var c=-1,g=r.length;for(g||(g=1,t=i);++c<g;){var b=t==null?i:t[un(r[c])];b===i&&(c=g,b=o),t=wn(b)?b.call(t):b}return t}function Nw(t,r,o){return t==null?t:Mi(t,r,o)}function zw(t,r,o,c){return c=typeof c=="function"?c:i,t==null?t:Mi(t,r,o,c)}var Lh=Xd(et),Nh=Xd(yt);function $w(t,r,o){var c=ye(t),g=c||Un(t)||Jr(t);if(r=de(r,4),o==null){var b=t&&t.constructor;g?o=c?new b:[]:$e(t)?o=wn(b)?Vr(zo(t)):{}:o={}}return(g?$t:rn)(t,function(C,D,B){return r(o,C,D,B)}),o}function Uw(t,r){return t==null?!0:_s(t,r)}function Hw(t,r,o){return t==null?t:Bd(t,r,xs(o))}function Ww(t,r,o,c){return c=typeof c=="function"?c:i,t==null?t:Bd(t,r,xs(o),c)}function Qr(t){return t==null?[]:es(t,et(t))}function qw(t){return t==null?[]:es(t,yt(t))}function Gw(t,r,o){return o===i&&(o=r,r=i),o!==i&&(o=Kt(o),o=o===o?o:0),r!==i&&(r=Kt(r),r=r===r?r:0),hr(Kt(t),r,o)}function Kw(t,r,o){return r=bn(r),o===i?(o=r,r=0):o=bn(o),t=Kt(t),Qy(t,r,o)}function Vw(t,r,o){if(o&&typeof o!="boolean"&&dt(t,r,o)&&(r=o=i),o===i&&(typeof r=="boolean"?(o=r,r=i):typeof t=="boolean"&&(o=t,t=i)),t===i&&r===i?(t=0,r=1):(t=bn(t),r===i?(r=t,t=0):r=bn(r)),t>r){var c=t;t=r,r=c}if(o||t%1||r%1){var g=ld();return ot(t+g*(r-t+Av("1e-"+((g+"").length-1))),r)}return ms(t,r)}var Yw=Xr(function(t,r,o){return r=r.toLowerCase(),t+(o?zh(r):r)});function zh(t){return Hs(Fe(t).toLowerCase())}function $h(t){return t=Fe(t),t&&t.replace(ka,Nv).replace(mv,"")}function Xw(t,r,o){t=Fe(t),r=Tt(r);var c=t.length;o=o===i?c:hr(_e(o),0,c);var g=o;return o-=r.length,o>=0&&t.slice(o,g)==r}function Zw(t){return t=Fe(t),t&&ya.test(t)?t.replace(wo,zv):t}function Jw(t){return t=Fe(t),t&&Ea.test(t)?t.replace(xi,"\\$&"):t}var Qw=Xr(function(t,r,o){return t+(o?"-":"")+r.toLowerCase()}),eb=Xr(function(t,r,o){return t+(o?" ":"")+r.toLowerCase()}),tb=Wd("toLowerCase");function nb(t,r,o){t=Fe(t),r=_e(r);var c=r?Hr(t):0;if(!r||c>=r)return t;var g=(r-c)/2;return ru(Wo(g),o)+t+ru(Ho(g),o)}function rb(t,r,o){t=Fe(t),r=_e(r);var c=r?Hr(t):0;return r&&c<r?t+ru(r-c,o):t}function ib(t,r,o){t=Fe(t),r=_e(r);var c=r?Hr(t):0;return r&&c<r?ru(r-c,o)+t:t}function ob(t,r,o){return o||r==null?r=0:r&&(r=+r),dy(Fe(t).replace(Si,""),r||0)}function ub(t,r,o){return(o?dt(t,r,o):r===i)?r=1:r=_e(r),vs(Fe(t),r)}function ab(){var t=arguments,r=Fe(t[0]);return t.length<3?r:r.replace(t[1],t[2])}var sb=Xr(function(t,r,o){return t+(o?"_":"")+r.toLowerCase()});function lb(t,r,o){return o&&typeof o!="number"&&dt(t,r,o)&&(r=o=i),o=o===i?Ke:o>>>0,o?(t=Fe(t),t&&(typeof r=="string"||r!=null&&!zs(r))&&(r=Tt(r),!r&&Ur(t))?$n(Vt(t),0,o):t.split(r,o)):[]}var cb=Xr(function(t,r,o){return t+(o?" ":"")+Hs(r)});function fb(t,r,o){return t=Fe(t),o=o==null?0:hr(_e(o),0,t.length),r=Tt(r),t.slice(o,o+r.length)==r}function db(t,r,o){var c=_.templateSettings;o&&dt(t,r,o)&&(r=i),t=Fe(t),r=pu({},r,c,Zd);var g=pu({},r.imports,c.imports,Zd),b=et(g),C=es(g,b),D,B,H=0,W=r.interpolate||Lr,K="__p += '",ie=ns((r.escape||Lr).source+"|"+W.source+"|"+(W===xo?Oa:Lr).source+"|"+(r.evaluate||Lr).source+"|$","g"),ce="//# sourceURL="+(Pe.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bv+"]")+`
`;t.replace(ie,function(ge,Se,Ce,Rt,ht,Ot){return Ce||(Ce=Rt),K+=t.slice(H,Ot).replace(Co,$v),Se&&(D=!0,K+=`' +
__e(`+Se+`) +
'`),ht&&(B=!0,K+=`';
`+ht+`;
__p += '`),Ce&&(K+=`' +
((__t = (`+Ce+`)) == null ? '' : __t) +
'`),H=Ot+ge.length,ge}),K+=`';
`;var he=Pe.call(r,"variable")&&r.variable;if(!he)K=`with (obj) {
`+K+`
}
`;else if(Da.test(he))throw new me(f);K=(B?K.replace(yo,""):K).replace(va,"$1").replace(tn,"$1;"),K="function("+(he||"obj")+`) {
`+(he?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(D?", __e = _.escape":"")+(B?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+K+`return __p
}`;var be=Hh(function(){return Re(b,ce+"return "+K).apply(i,C)});if(be.source=K,Ns(be))throw be;return be}function hb(t){return Fe(t).toLowerCase()}function gb(t){return Fe(t).toUpperCase()}function pb(t,r,o){if(t=Fe(t),t&&(o||r===i))return Jf(t);if(!t||!(r=Tt(r)))return t;var c=Vt(t),g=Vt(r),b=Qf(c,g),C=ed(c,g)+1;return $n(c,b,C).join("")}function mb(t,r,o){if(t=Fe(t),t&&(o||r===i))return t.slice(0,nd(t)+1);if(!t||!(r=Tt(r)))return t;var c=Vt(t),g=ed(c,Vt(r))+1;return $n(c,0,g).join("")}function vb(t,r,o){if(t=Fe(t),t&&(o||r===i))return t.replace(Si,"");if(!t||!(r=Tt(r)))return t;var c=Vt(t),g=Qf(c,Vt(r));return $n(c,g).join("")}function yb(t,r){var o=re,c=te;if($e(r)){var g="separator"in r?r.separator:g;o="length"in r?_e(r.length):o,c="omission"in r?Tt(r.omission):c}t=Fe(t);var b=t.length;if(Ur(t)){var C=Vt(t);b=C.length}if(o>=b)return t;var D=o-Hr(c);if(D<1)return c;var B=C?$n(C,0,D).join(""):t.slice(0,D);if(g===i)return B+c;if(C&&(D+=B.length-D),zs(g)){if(t.slice(D).search(g)){var H,W=B;for(g.global||(g=ns(g.source,Fe(Eo.exec(g))+"g")),g.lastIndex=0;H=g.exec(W);)var K=H.index;B=B.slice(0,K===i?D:K)}}else if(t.indexOf(Tt(g),D)!=D){var ie=B.lastIndexOf(g);ie>-1&&(B=B.slice(0,ie))}return B+c}function _b(t){return t=Fe(t),t&&bo.test(t)?t.replace(_o,Vv):t}var wb=Xr(function(t,r,o){return t+(o?" ":"")+r.toUpperCase()}),Hs=Wd("toUpperCase");function Uh(t,r,o){return t=Fe(t),r=o?i:r,r===i?Hv(t)?Zv(t):Pv(t):t.match(r)||[]}var Hh=xe(function(t,r){try{return At(t,i,r)}catch(o){return Ns(o)?o:new me(o)}}),bb=yn(function(t,r){return $t(r,function(o){o=un(o),mn(t,o,ks(t[o],t))}),t});function xb(t){var r=t==null?0:t.length,o=de();return t=r?ze(t,function(c){if(typeof c[1]!="function")throw new Ut(l);return[o(c[0]),c[1]]}):[],xe(function(c){for(var g=-1;++g<r;){var b=t[g];if(At(b[0],this,c))return At(b[1],this,c)}})}function Sb(t){return Vy(Wt(t,h))}function Ws(t){return function(){return t}}function Eb(t,r){return t==null||t!==t?r:t}var Cb=Gd(),Ab=Gd(!0);function _t(t){return t}function qs(t){return xd(typeof t=="function"?t:Wt(t,h))}function Ib(t){return Ed(Wt(t,h))}function Tb(t,r){return Cd(t,Wt(r,h))}var Db=xe(function(t,r){return function(o){return Pi(o,t,r)}}),Rb=xe(function(t,r){return function(o){return Pi(t,o,r)}});function Gs(t,r,o){var c=et(r),g=Xo(r,c);o==null&&!($e(r)&&(g.length||!c.length))&&(o=r,r=t,t=this,g=Xo(r,et(r)));var b=!($e(o)&&"chain"in o)||!!o.chain,C=wn(t);return $t(g,function(D){var B=r[D];t[D]=B,C&&(t.prototype[D]=function(){var H=this.__chain__;if(b||H){var W=t(this.__wrapped__),K=W.__actions__=mt(this.__actions__);return K.push({func:B,args:arguments,thisArg:t}),W.__chain__=H,W}return B.apply(t,jn([this.value()],arguments))})}),t}function Ob(){return tt._===this&&(tt._=ry),this}function Ks(){}function Fb(t){return t=_e(t),xe(function(r){return Ad(r,t)})}var Bb=Es(ze),Pb=Es(Kf),jb=Es(Ya);function Wh(t){return Os(t)?Xa(un(t)):f1(t)}function Mb(t){return function(r){return t==null?i:gr(t,r)}}var kb=Vd(),Lb=Vd(!0);function Vs(){return[]}function Ys(){return!1}function Nb(){return{}}function zb(){return""}function $b(){return!0}function Ub(t,r){if(t=_e(t),t<1||t>ve)return[];var o=Ke,c=ot(t,Ke);r=de(r),t-=Ke;for(var g=Qa(c,r);++o<t;)r(o);return g}function Hb(t){return ye(t)?ze(t,un):Dt(t)?[t]:mt(ch(Fe(t)))}function Wb(t){var r=++ty;return Fe(t)+r}var qb=nu(function(t,r){return t+r},0),Gb=Cs("ceil"),Kb=nu(function(t,r){return t/r},1),Vb=Cs("floor");function Yb(t){return t&&t.length?Yo(t,_t,cs):i}function Xb(t,r){return t&&t.length?Yo(t,de(r,2),cs):i}function Zb(t){return Xf(t,_t)}function Jb(t,r){return Xf(t,de(r,2))}function Qb(t){return t&&t.length?Yo(t,_t,gs):i}function ex(t,r){return t&&t.length?Yo(t,de(r,2),gs):i}var tx=nu(function(t,r){return t*r},1),nx=Cs("round"),rx=nu(function(t,r){return t-r},0);function ix(t){return t&&t.length?Ja(t,_t):0}function ox(t,r){return t&&t.length?Ja(t,de(r,2)):0}return _.after=I3,_.ary=bh,_.assign=gw,_.assignIn=jh,_.assignInWith=pu,_.assignWith=pw,_.at=mw,_.before=xh,_.bind=ks,_.bindAll=bb,_.bindKey=Sh,_.castArray=N3,_.chain=yh,_.chunk=V1,_.compact=Y1,_.concat=X1,_.cond=xb,_.conforms=Sb,_.constant=Ws,_.countBy=i3,_.create=vw,_.curry=Eh,_.curryRight=Ch,_.debounce=Ah,_.defaults=yw,_.defaultsDeep=_w,_.defer=T3,_.delay=D3,_.difference=Z1,_.differenceBy=J1,_.differenceWith=Q1,_.drop=e_,_.dropRight=t_,_.dropRightWhile=n_,_.dropWhile=r_,_.fill=i_,_.filter=u3,_.flatMap=l3,_.flatMapDeep=c3,_.flatMapDepth=f3,_.flatten=gh,_.flattenDeep=o_,_.flattenDepth=u_,_.flip=R3,_.flow=Cb,_.flowRight=Ab,_.fromPairs=a_,_.functions=Aw,_.functionsIn=Iw,_.groupBy=d3,_.initial=l_,_.intersection=c_,_.intersectionBy=f_,_.intersectionWith=d_,_.invert=Dw,_.invertBy=Rw,_.invokeMap=g3,_.iteratee=qs,_.keyBy=p3,_.keys=et,_.keysIn=yt,_.map=lu,_.mapKeys=Fw,_.mapValues=Bw,_.matches=Ib,_.matchesProperty=Tb,_.memoize=fu,_.merge=Pw,_.mergeWith=Mh,_.method=Db,_.methodOf=Rb,_.mixin=Gs,_.negate=du,_.nthArg=Fb,_.omit=jw,_.omitBy=Mw,_.once=O3,_.orderBy=m3,_.over=Bb,_.overArgs=F3,_.overEvery=Pb,_.overSome=jb,_.partial=Ls,_.partialRight=Ih,_.partition=v3,_.pick=kw,_.pickBy=kh,_.property=Wh,_.propertyOf=Mb,_.pull=m_,_.pullAll=mh,_.pullAllBy=v_,_.pullAllWith=y_,_.pullAt=__,_.range=kb,_.rangeRight=Lb,_.rearg=B3,_.reject=w3,_.remove=w_,_.rest=P3,_.reverse=js,_.sampleSize=x3,_.set=Nw,_.setWith=zw,_.shuffle=S3,_.slice=b_,_.sortBy=A3,_.sortedUniq=T_,_.sortedUniqBy=D_,_.split=lb,_.spread=j3,_.tail=R_,_.take=O_,_.takeRight=F_,_.takeRightWhile=B_,_.takeWhile=P_,_.tap=Y_,_.throttle=M3,_.thru=su,_.toArray=Fh,_.toPairs=Lh,_.toPairsIn=Nh,_.toPath=Hb,_.toPlainObject=Ph,_.transform=$w,_.unary=k3,_.union=j_,_.unionBy=M_,_.unionWith=k_,_.uniq=L_,_.uniqBy=N_,_.uniqWith=z_,_.unset=Uw,_.unzip=Ms,_.unzipWith=vh,_.update=Hw,_.updateWith=Ww,_.values=Qr,_.valuesIn=qw,_.without=$_,_.words=Uh,_.wrap=L3,_.xor=U_,_.xorBy=H_,_.xorWith=W_,_.zip=q_,_.zipObject=G_,_.zipObjectDeep=K_,_.zipWith=V_,_.entries=Lh,_.entriesIn=Nh,_.extend=jh,_.extendWith=pu,Gs(_,_),_.add=qb,_.attempt=Hh,_.camelCase=Yw,_.capitalize=zh,_.ceil=Gb,_.clamp=Gw,_.clone=z3,_.cloneDeep=U3,_.cloneDeepWith=H3,_.cloneWith=$3,_.conformsTo=W3,_.deburr=$h,_.defaultTo=Eb,_.divide=Kb,_.endsWith=Xw,_.eq=Xt,_.escape=Zw,_.escapeRegExp=Jw,_.every=o3,_.find=a3,_.findIndex=dh,_.findKey=ww,_.findLast=s3,_.findLastIndex=hh,_.findLastKey=bw,_.floor=Vb,_.forEach=_h,_.forEachRight=wh,_.forIn=xw,_.forInRight=Sw,_.forOwn=Ew,_.forOwnRight=Cw,_.get=$s,_.gt=q3,_.gte=G3,_.has=Tw,_.hasIn=Us,_.head=ph,_.identity=_t,_.includes=h3,_.indexOf=s_,_.inRange=Kw,_.invoke=Ow,_.isArguments=vr,_.isArray=ye,_.isArrayBuffer=K3,_.isArrayLike=vt,_.isArrayLikeObject=We,_.isBoolean=V3,_.isBuffer=Un,_.isDate=Y3,_.isElement=X3,_.isEmpty=Z3,_.isEqual=J3,_.isEqualWith=Q3,_.isError=Ns,_.isFinite=ew,_.isFunction=wn,_.isInteger=Th,_.isLength=hu,_.isMap=Dh,_.isMatch=tw,_.isMatchWith=nw,_.isNaN=rw,_.isNative=iw,_.isNil=uw,_.isNull=ow,_.isNumber=Rh,_.isObject=$e,_.isObjectLike=Ue,_.isPlainObject=zi,_.isRegExp=zs,_.isSafeInteger=aw,_.isSet=Oh,_.isString=gu,_.isSymbol=Dt,_.isTypedArray=Jr,_.isUndefined=sw,_.isWeakMap=lw,_.isWeakSet=cw,_.join=h_,_.kebabCase=Qw,_.last=Gt,_.lastIndexOf=g_,_.lowerCase=eb,_.lowerFirst=tb,_.lt=fw,_.lte=dw,_.max=Yb,_.maxBy=Xb,_.mean=Zb,_.meanBy=Jb,_.min=Qb,_.minBy=ex,_.stubArray=Vs,_.stubFalse=Ys,_.stubObject=Nb,_.stubString=zb,_.stubTrue=$b,_.multiply=tx,_.nth=p_,_.noConflict=Ob,_.noop=Ks,_.now=cu,_.pad=nb,_.padEnd=rb,_.padStart=ib,_.parseInt=ob,_.random=Vw,_.reduce=y3,_.reduceRight=_3,_.repeat=ub,_.replace=ab,_.result=Lw,_.round=nx,_.runInContext=F,_.sample=b3,_.size=E3,_.snakeCase=sb,_.some=C3,_.sortedIndex=x_,_.sortedIndexBy=S_,_.sortedIndexOf=E_,_.sortedLastIndex=C_,_.sortedLastIndexBy=A_,_.sortedLastIndexOf=I_,_.startCase=cb,_.startsWith=fb,_.subtract=rx,_.sum=ix,_.sumBy=ox,_.template=db,_.times=Ub,_.toFinite=bn,_.toInteger=_e,_.toLength=Bh,_.toLower=hb,_.toNumber=Kt,_.toSafeInteger=hw,_.toString=Fe,_.toUpper=gb,_.trim=pb,_.trimEnd=mb,_.trimStart=vb,_.truncate=yb,_.unescape=_b,_.uniqueId=Wb,_.upperCase=wb,_.upperFirst=Hs,_.each=_h,_.eachRight=wh,_.first=ph,Gs(_,function(){var t={};return rn(_,function(r,o){Pe.call(_.prototype,o)||(t[o]=r)}),t}(),{chain:!1}),_.VERSION=u,$t(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){_[t].placeholder=_}),$t(["drop","take"],function(t,r){Ee.prototype[t]=function(o){o=o===i?1:Je(_e(o),0);var c=this.__filtered__&&!r?new Ee(this):this.clone();return c.__filtered__?c.__takeCount__=ot(o,c.__takeCount__):c.__views__.push({size:ot(o,Ke),type:t+(c.__dir__<0?"Right":"")}),c},Ee.prototype[t+"Right"]=function(o){return this.reverse()[t](o).reverse()}}),$t(["filter","map","takeWhile"],function(t,r){var o=r+1,c=o==ee||o==Oe;Ee.prototype[t]=function(g){var b=this.clone();return b.__iteratees__.push({iteratee:de(g,3),type:o}),b.__filtered__=b.__filtered__||c,b}}),$t(["head","last"],function(t,r){var o="take"+(r?"Right":"");Ee.prototype[t]=function(){return this[o](1).value()[0]}}),$t(["initial","tail"],function(t,r){var o="drop"+(r?"":"Right");Ee.prototype[t]=function(){return this.__filtered__?new Ee(this):this[o](1)}}),Ee.prototype.compact=function(){return this.filter(_t)},Ee.prototype.find=function(t){return this.filter(t).head()},Ee.prototype.findLast=function(t){return this.reverse().find(t)},Ee.prototype.invokeMap=xe(function(t,r){return typeof t=="function"?new Ee(this):this.map(function(o){return Pi(o,t,r)})}),Ee.prototype.reject=function(t){return this.filter(du(de(t)))},Ee.prototype.slice=function(t,r){t=_e(t);var o=this;return o.__filtered__&&(t>0||r<0)?new Ee(o):(t<0?o=o.takeRight(-t):t&&(o=o.drop(t)),r!==i&&(r=_e(r),o=r<0?o.dropRight(-r):o.take(r-t)),o)},Ee.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ee.prototype.toArray=function(){return this.take(Ke)},rn(Ee.prototype,function(t,r){var o=/^(?:filter|find|map|reject)|While$/.test(r),c=/^(?:head|last)$/.test(r),g=_[c?"take"+(r=="last"?"Right":""):r],b=c||/^find/.test(r);g&&(_.prototype[r]=function(){var C=this.__wrapped__,D=c?[1]:arguments,B=C instanceof Ee,H=D[0],W=B||ye(C),K=function(Se){var Ce=g.apply(_,jn([Se],D));return c&&ie?Ce[0]:Ce};W&&o&&typeof H=="function"&&H.length!=1&&(B=W=!1);var ie=this.__chain__,ce=!!this.__actions__.length,he=b&&!ie,be=B&&!ce;if(!b&&W){C=be?C:new Ee(this);var ge=t.apply(C,D);return ge.__actions__.push({func:su,args:[K],thisArg:i}),new Ht(ge,ie)}return he&&be?t.apply(this,D):(ge=this.thru(K),he?c?ge.value()[0]:ge.value():ge)})}),$t(["pop","push","shift","sort","splice","unshift"],function(t){var r=Po[t],o=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",c=/^(?:pop|shift)$/.test(t);_.prototype[t]=function(){var g=arguments;if(c&&!this.__chain__){var b=this.value();return r.apply(ye(b)?b:[],g)}return this[o](function(C){return r.apply(ye(C)?C:[],g)})}}),rn(Ee.prototype,function(t,r){var o=_[r];if(o){var c=o.name+"";Pe.call(Kr,c)||(Kr[c]=[]),Kr[c].push({name:r,func:o})}}),Kr[tu(i,q).name]=[{name:"wrapper",func:i}],Ee.prototype.clone=_y,Ee.prototype.reverse=wy,Ee.prototype.value=by,_.prototype.at=X_,_.prototype.chain=Z_,_.prototype.commit=J_,_.prototype.next=Q_,_.prototype.plant=t3,_.prototype.reverse=n3,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=r3,_.prototype.first=_.prototype.head,Ii&&(_.prototype[Ii]=e3),_},Wr=Jv();lr?((lr.exports=Wr)._=Wr,qa._=Wr):tt._=Wr}).call(Mt)})(Fu,Fu.exports);var Xe=Fu.exports;function vu(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _0={exports:{}};(function(e,n){(function(i){e.exports=i()})(function(){return function i(u,s,a){function l(y,m){if(!s[y]){if(!u[y]){var h=typeof vu=="function"&&vu;if(!m&&h)return h(y,!0);if(f)return f(y,!0);var v=new Error("Cannot find module '"+y+"'");throw v.code="MODULE_NOT_FOUND",v}var A=s[y]={exports:{}};u[y][0].call(A.exports,function(S){var E=u[y][1][S];return l(E||S)},A,A.exports,i,u,s,a)}return s[y].exports}for(var f=typeof vu=="function"&&vu,d=0;d<a.length;d++)l(a[d]);return l}({1:[function(i,u,s){(function(a){var l=a.MutationObserver||a.WebKitMutationObserver,f;if(l){var d=0,y=new l(S),m=a.document.createTextNode("");y.observe(m,{characterData:!0}),f=function(){m.data=d=++d%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var h=new a.MessageChannel;h.port1.onmessage=S,f=function(){h.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?f=function(){var I=a.document.createElement("script");I.onreadystatechange=function(){S(),I.onreadystatechange=null,I.parentNode.removeChild(I),I=null},a.document.documentElement.appendChild(I)}:f=function(){setTimeout(S,0)};var v,A=[];function S(){v=!0;for(var I,q,j=A.length;j;){for(q=A,A=[],I=-1;++I<j;)q[I]();j=A.length}v=!1}u.exports=E;function E(I){A.push(I)===1&&!v&&f()}}).call(this,typeof Mt<"u"?Mt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(i,u,s){var a=i(1);function l(){}var f={},d=["REJECTED"],y=["FULFILLED"],m=["PENDING"];u.exports=h;function h(L){if(typeof L!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,L!==l&&E(this,L)}h.prototype.catch=function(L){return this.then(null,L)},h.prototype.then=function(L,U){if(typeof L!="function"&&this.state===y||typeof U!="function"&&this.state===d)return this;var Y=new this.constructor(l);if(this.state!==m){var M=this.state===y?L:U;A(Y,M,this.outcome)}else this.queue.push(new v(Y,L,U));return Y};function v(L,U,Y){this.promise=L,typeof U=="function"&&(this.onFulfilled=U,this.callFulfilled=this.otherCallFulfilled),typeof Y=="function"&&(this.onRejected=Y,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(L){f.resolve(this.promise,L)},v.prototype.otherCallFulfilled=function(L){A(this.promise,this.onFulfilled,L)},v.prototype.callRejected=function(L){f.reject(this.promise,L)},v.prototype.otherCallRejected=function(L){A(this.promise,this.onRejected,L)};function A(L,U,Y){a(function(){var M;try{M=U(Y)}catch(G){return f.reject(L,G)}M===L?f.reject(L,new TypeError("Cannot resolve promise with itself")):f.resolve(L,M)})}f.resolve=function(L,U){var Y=I(S,U);if(Y.status==="error")return f.reject(L,Y.value);var M=Y.value;if(M)E(L,M);else{L.state=y,L.outcome=U;for(var G=-1,re=L.queue.length;++G<re;)L.queue[G].callFulfilled(U)}return L},f.reject=function(L,U){L.state=d,L.outcome=U;for(var Y=-1,M=L.queue.length;++Y<M;)L.queue[Y].callRejected(U);return L};function S(L){var U=L&&L.then;if(L&&(typeof L=="object"||typeof L=="function")&&typeof U=="function")return function(){U.apply(L,arguments)}}function E(L,U){var Y=!1;function M(X){Y||(Y=!0,f.reject(L,X))}function G(X){Y||(Y=!0,f.resolve(L,X))}function re(){U(G,M)}var te=I(re);te.status==="error"&&M(te.value)}function I(L,U){var Y={};try{Y.value=L(U),Y.status="success"}catch(M){Y.status="error",Y.value=M}return Y}h.resolve=q;function q(L){return L instanceof this?L:f.resolve(new this(l),L)}h.reject=j;function j(L){var U=new this(l);return f.reject(U,L)}h.all=oe;function oe(L){var U=this;if(Object.prototype.toString.call(L)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Y=L.length,M=!1;if(!Y)return this.resolve([]);for(var G=new Array(Y),re=0,te=-1,X=new this(l);++te<Y;)ne(L[te],te);return X;function ne(ee,le){U.resolve(ee).then(Oe,function(fe){M||(M=!0,f.reject(X,fe))});function Oe(fe){G[le]=fe,++re===Y&&!M&&(M=!0,f.resolve(X,G))}}}h.race=ue;function ue(L){var U=this;if(Object.prototype.toString.call(L)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Y=L.length,M=!1;if(!Y)return this.resolve([]);for(var G=-1,re=new this(l);++G<Y;)te(L[G]);return re;function te(X){U.resolve(X).then(function(ne){M||(M=!0,f.resolve(re,ne))},function(ne){M||(M=!0,f.reject(re,ne))})}}},{1:1}],3:[function(i,u,s){(function(a){typeof a.Promise!="function"&&(a.Promise=i(2))}).call(this,typeof Mt<"u"?Mt:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(i,u,s){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w};function l(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function f(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var d=f();function y(){try{if(!d||!d.open)return!1;var w=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),T=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!w||T)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function m(w,T){w=w||[],T=T||{};try{return new Blob(w,T)}catch(R){if(R.name!=="TypeError")throw R;for(var x=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,O=new x,P=0;P<w.length;P+=1)O.append(w[P]);return O.getBlob(T.type)}}typeof Promise>"u"&&i(3);var h=Promise;function v(w,T){T&&w.then(function(x){T(null,x)},function(x){T(x)})}function A(w,T,x){typeof T=="function"&&w.then(T),typeof x=="function"&&w.catch(x)}function S(w){return typeof w!="string"&&(console.warn(w+" used as a key, but it is not a string."),w=String(w)),w}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var I="local-forage-detect-blob-support",q=void 0,j={},oe=Object.prototype.toString,ue="readonly",L="readwrite";function U(w){for(var T=w.length,x=new ArrayBuffer(T),O=new Uint8Array(x),P=0;P<T;P++)O[P]=w.charCodeAt(P);return x}function Y(w){return new h(function(T){var x=w.transaction(I,L),O=m([""]);x.objectStore(I).put(O,"key"),x.onabort=function(P){P.preventDefault(),P.stopPropagation(),T(!1)},x.oncomplete=function(){var P=navigator.userAgent.match(/Chrome\/(\d+)/),R=navigator.userAgent.match(/Edge\//);T(R||!P||parseInt(P[1],10)>=43)}}).catch(function(){return!1})}function M(w){return typeof q=="boolean"?h.resolve(q):Y(w).then(function(T){return q=T,q})}function G(w){var T=j[w.name],x={};x.promise=new h(function(O,P){x.resolve=O,x.reject=P}),T.deferredOperations.push(x),T.dbReady?T.dbReady=T.dbReady.then(function(){return x.promise}):T.dbReady=x.promise}function re(w){var T=j[w.name],x=T.deferredOperations.pop();if(x)return x.resolve(),x.promise}function te(w,T){var x=j[w.name],O=x.deferredOperations.pop();if(O)return O.reject(T),O.promise}function X(w,T){return new h(function(x,O){if(j[w.name]=j[w.name]||go(),w.db)if(T)G(w),w.db.close();else return x(w.db);var P=[w.name];T&&P.push(w.version);var R=d.open.apply(d,P);T&&(R.onupgradeneeded=function($){var V=R.result;try{V.createObjectStore(w.storeName),$.oldVersion<=1&&V.createObjectStore(I)}catch(Z){if(Z.name==="ConstraintError")console.warn('The database "'+w.name+'" has been upgraded from version '+$.oldVersion+" to version "+$.newVersion+', but the storage "'+w.storeName+'" already exists.');else throw Z}}),R.onerror=function($){$.preventDefault(),O(R.error)},R.onsuccess=function(){var $=R.result;$.onversionchange=function(V){V.target.close()},x($),re(w)}})}function ne(w){return X(w,!1)}function ee(w){return X(w,!0)}function le(w,T){if(!w.db)return!0;var x=!w.db.objectStoreNames.contains(w.storeName),O=w.version<w.db.version,P=w.version>w.db.version;if(O&&(w.version!==T&&console.warn('The database "'+w.name+`" can't be downgraded from version `+w.db.version+" to version "+w.version+"."),w.version=w.db.version),P||x){if(x){var R=w.db.version+1;R>w.version&&(w.version=R)}return!0}return!1}function Oe(w){return new h(function(T,x){var O=new FileReader;O.onerror=x,O.onloadend=function(P){var R=btoa(P.target.result||"");T({__local_forage_encoded_blob:!0,data:R,type:w.type})},O.readAsBinaryString(w)})}function fe(w){var T=U(atob(w.data));return m([T],{type:w.type})}function ve(w){return w&&w.__local_forage_encoded_blob}function He(w){var T=this,x=T._initReady().then(function(){var O=j[T._dbInfo.name];if(O&&O.dbReady)return O.dbReady});return A(x,w,w),x}function In(w){G(w);for(var T=j[w.name],x=T.forages,O=0;O<x.length;O++){var P=x[O];P._dbInfo.db&&(P._dbInfo.db.close(),P._dbInfo.db=null)}return w.db=null,ne(w).then(function(R){return w.db=R,le(w)?ee(w):R}).then(function(R){w.db=T.db=R;for(var $=0;$<x.length;$++)x[$]._dbInfo.db=R}).catch(function(R){throw te(w,R),R})}function Ke(w,T,x,O){O===void 0&&(O=1);try{var P=w.db.transaction(w.storeName,T);x(null,P)}catch(R){if(O>0&&(!w.db||R.name==="InvalidStateError"||R.name==="NotFoundError"))return h.resolve().then(function(){if(!w.db||R.name==="NotFoundError"&&!w.db.objectStoreNames.contains(w.storeName)&&w.version<=w.db.version)return w.db&&(w.version=w.db.version+1),ee(w)}).then(function(){return In(w).then(function(){Ke(w,T,x,O-1)})}).catch(x);x(R)}}function go(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function da(w){var T=this,x={db:null};if(w)for(var O in w)x[O]=w[O];var P=j[x.name];P||(P=go(),j[x.name]=P),P.forages.push(T),T._initReady||(T._initReady=T.ready,T.ready=He);var R=[];function $(){return h.resolve()}for(var V=0;V<P.forages.length;V++){var Z=P.forages[V];Z!==T&&R.push(Z._initReady().catch($))}var J=P.forages.slice(0);return h.all(R).then(function(){return x.db=P.db,ne(x)}).then(function(Q){return x.db=Q,le(x,T._defaultConfig.version)?ee(x):Q}).then(function(Q){x.db=P.db=Q,T._dbInfo=x;for(var se=0;se<J.length;se++){var we=J[se];we!==T&&(we._dbInfo.db=x.db,we._dbInfo.version=x.version)}})}function ha(w,T){var x=this;w=S(w);var O=new h(function(P,R){x.ready().then(function(){Ke(x._dbInfo,ue,function($,V){if($)return R($);try{var Z=V.objectStore(x._dbInfo.storeName),J=Z.get(w);J.onsuccess=function(){var Q=J.result;Q===void 0&&(Q=null),ve(Q)&&(Q=fe(Q)),P(Q)},J.onerror=function(){R(J.error)}}catch(Q){R(Q)}})}).catch(R)});return v(O,T),O}function Tn(w,T){var x=this,O=new h(function(P,R){x.ready().then(function(){Ke(x._dbInfo,ue,function($,V){if($)return R($);try{var Z=V.objectStore(x._dbInfo.storeName),J=Z.openCursor(),Q=1;J.onsuccess=function(){var se=J.result;if(se){var we=se.value;ve(we)&&(we=fe(we));var Ae=w(we,se.key,Q++);Ae!==void 0?P(Ae):se.continue()}else P()},J.onerror=function(){R(J.error)}}catch(se){R(se)}})}).catch(R)});return v(O,T),O}function Rr(w,T,x){var O=this;w=S(w);var P=new h(function(R,$){var V;O.ready().then(function(){return V=O._dbInfo,oe.call(T)==="[object Blob]"?M(V.db).then(function(Z){return Z?T:Oe(T)}):T}).then(function(Z){Ke(O._dbInfo,L,function(J,Q){if(J)return $(J);try{var se=Q.objectStore(O._dbInfo.storeName);Z===null&&(Z=void 0);var we=se.put(Z,w);Q.oncomplete=function(){Z===void 0&&(Z=null),R(Z)},Q.onabort=Q.onerror=function(){var Ae=we.error?we.error:we.transaction.error;$(Ae)}}catch(Ae){$(Ae)}})}).catch($)});return v(P,x),P}function ga(w,T){var x=this;w=S(w);var O=new h(function(P,R){x.ready().then(function(){Ke(x._dbInfo,L,function($,V){if($)return R($);try{var Z=V.objectStore(x._dbInfo.storeName),J=Z.delete(w);V.oncomplete=function(){P()},V.onerror=function(){R(J.error)},V.onabort=function(){var Q=J.error?J.error:J.transaction.error;R(Q)}}catch(Q){R(Q)}})}).catch(R)});return v(O,T),O}function nr(w){var T=this,x=new h(function(O,P){T.ready().then(function(){Ke(T._dbInfo,L,function(R,$){if(R)return P(R);try{var V=$.objectStore(T._dbInfo.storeName),Z=V.clear();$.oncomplete=function(){O()},$.onabort=$.onerror=function(){var J=Z.error?Z.error:Z.transaction.error;P(J)}}catch(J){P(J)}})}).catch(P)});return v(x,w),x}function rr(w){var T=this,x=new h(function(O,P){T.ready().then(function(){Ke(T._dbInfo,ue,function(R,$){if(R)return P(R);try{var V=$.objectStore(T._dbInfo.storeName),Z=V.count();Z.onsuccess=function(){O(Z.result)},Z.onerror=function(){P(Z.error)}}catch(J){P(J)}})}).catch(P)});return v(x,w),x}function pa(w,T){var x=this,O=new h(function(P,R){if(w<0){P(null);return}x.ready().then(function(){Ke(x._dbInfo,ue,function($,V){if($)return R($);try{var Z=V.objectStore(x._dbInfo.storeName),J=!1,Q=Z.openKeyCursor();Q.onsuccess=function(){var se=Q.result;if(!se){P(null);return}w===0||J?P(se.key):(J=!0,se.advance(w))},Q.onerror=function(){R(Q.error)}}catch(se){R(se)}})}).catch(R)});return v(O,T),O}function Or(w){var T=this,x=new h(function(O,P){T.ready().then(function(){Ke(T._dbInfo,ue,function(R,$){if(R)return P(R);try{var V=$.objectStore(T._dbInfo.storeName),Z=V.openKeyCursor(),J=[];Z.onsuccess=function(){var Q=Z.result;if(!Q){O(J);return}J.push(Q.key),Q.continue()},Z.onerror=function(){P(Z.error)}}catch(Q){P(Q)}})}).catch(P)});return v(x,w),x}function Fr(w,T){T=E.apply(this,arguments);var x=this.config();w=typeof w!="function"&&w||{},w.name||(w.name=w.name||x.name,w.storeName=w.storeName||x.storeName);var O=this,P;if(!w.name)P=h.reject("Invalid arguments");else{var R=w.name===x.name&&O._dbInfo.db,$=R?h.resolve(O._dbInfo.db):ne(w).then(function(V){var Z=j[w.name],J=Z.forages;Z.db=V;for(var Q=0;Q<J.length;Q++)J[Q]._dbInfo.db=V;return V});w.storeName?P=$.then(function(V){if(V.objectStoreNames.contains(w.storeName)){var Z=V.version+1;G(w);var J=j[w.name],Q=J.forages;V.close();for(var se=0;se<Q.length;se++){var we=Q[se];we._dbInfo.db=null,we._dbInfo.version=Z}var Ae=new h(function(Ie,Ne){var je=d.open(w.name,Z);je.onerror=function(ct){var Bn=je.result;Bn.close(),Ne(ct)},je.onupgradeneeded=function(){var ct=je.result;ct.deleteObjectStore(w.storeName)},je.onsuccess=function(){var ct=je.result;ct.close(),Ie(ct)}});return Ae.then(function(Ie){J.db=Ie;for(var Ne=0;Ne<Q.length;Ne++){var je=Q[Ne];je._dbInfo.db=Ie,re(je._dbInfo)}}).catch(function(Ie){throw(te(w,Ie)||h.resolve()).catch(function(){}),Ie})}}):P=$.then(function(V){G(w);var Z=j[w.name],J=Z.forages;V.close();for(var Q=0;Q<J.length;Q++){var se=J[Q];se._dbInfo.db=null}var we=new h(function(Ae,Ie){var Ne=d.deleteDatabase(w.name);Ne.onerror=function(){var je=Ne.result;je&&je.close(),Ie(Ne.error)},Ne.onblocked=function(){console.warn('dropInstance blocked for database "'+w.name+'" until all open connections are closed')},Ne.onsuccess=function(){var je=Ne.result;je&&je.close(),Ae(je)}});return we.then(function(Ae){Z.db=Ae;for(var Ie=0;Ie<J.length;Ie++){var Ne=J[Ie];re(Ne._dbInfo)}}).catch(function(Ae){throw(te(w,Ae)||h.resolve()).catch(function(){}),Ae})})}return v(P,T),P}var po={_driver:"asyncStorage",_initStorage:da,_support:y(),iterate:Tn,getItem:ha,setItem:Rr,removeItem:ga,clear:nr,length:rr,key:pa,keys:Or,dropInstance:Fr};function Ct(){return typeof openDatabase=="function"}var pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ma="~~local_forage_type~",Nt=/^~~local_forage_type~([^~]+)~/,ir="__lfsc__:",_i=ir.length,dn="arbf",lt="blob",Dn="si08",or="ui08",mo="uic8",Rn="si16",vo="si32",On="ur16",hn="ui32",Br="fl32",Pr="fl64",jr=_i+dn.length,Mr=Object.prototype.toString;function kr(w){var T=w.length*.75,x=w.length,O,P=0,R,$,V,Z;w[w.length-1]==="="&&(T--,w[w.length-2]==="="&&T--);var J=new ArrayBuffer(T),Q=new Uint8Array(J);for(O=0;O<x;O+=4)R=pt.indexOf(w[O]),$=pt.indexOf(w[O+1]),V=pt.indexOf(w[O+2]),Z=pt.indexOf(w[O+3]),Q[P++]=R<<2|$>>4,Q[P++]=($&15)<<4|V>>2,Q[P++]=(V&3)<<6|Z&63;return J}function ur(w){var T=new Uint8Array(w),x="",O;for(O=0;O<T.length;O+=3)x+=pt[T[O]>>2],x+=pt[(T[O]&3)<<4|T[O+1]>>4],x+=pt[(T[O+1]&15)<<2|T[O+2]>>6],x+=pt[T[O+2]&63];return T.length%3===2?x=x.substring(0,x.length-1)+"=":T.length%3===1&&(x=x.substring(0,x.length-2)+"=="),x}function wi(w,T){var x="";if(w&&(x=Mr.call(w)),w&&(x==="[object ArrayBuffer]"||w.buffer&&Mr.call(w.buffer)==="[object ArrayBuffer]")){var O,P=ir;w instanceof ArrayBuffer?(O=w,P+=dn):(O=w.buffer,x==="[object Int8Array]"?P+=Dn:x==="[object Uint8Array]"?P+=or:x==="[object Uint8ClampedArray]"?P+=mo:x==="[object Int16Array]"?P+=Rn:x==="[object Uint16Array]"?P+=On:x==="[object Int32Array]"?P+=vo:x==="[object Uint32Array]"?P+=hn:x==="[object Float32Array]"?P+=Br:x==="[object Float64Array]"?P+=Pr:T(new Error("Failed to get type for BinaryArray"))),T(P+ur(O))}else if(x==="[object Blob]"){var R=new FileReader;R.onload=function(){var $=ma+w.type+"~"+ur(this.result);T(ir+lt+$)},R.readAsArrayBuffer(w)}else try{T(JSON.stringify(w))}catch($){console.error("Couldn't convert value into a JSON string: ",w),T(null,$)}}function bi(w){if(w.substring(0,_i)!==ir)return JSON.parse(w);var T=w.substring(jr),x=w.substring(_i,jr),O;if(x===lt&&Nt.test(T)){var P=T.match(Nt);O=P[1],T=T.substring(P[0].length)}var R=kr(T);switch(x){case dn:return R;case lt:return m([R],{type:O});case Dn:return new Int8Array(R);case or:return new Uint8Array(R);case mo:return new Uint8ClampedArray(R);case Rn:return new Int16Array(R);case On:return new Uint16Array(R);case vo:return new Int32Array(R);case hn:return new Uint32Array(R);case Br:return new Float32Array(R);case Pr:return new Float64Array(R);default:throw new Error("Unkown type: "+x)}}var ar={serialize:wi,deserialize:bi,stringToBuffer:kr,bufferToString:ur};function yo(w,T,x,O){w.executeSql("CREATE TABLE IF NOT EXISTS "+T.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],x,O)}function va(w){var T=this,x={db:null};if(w)for(var O in w)x[O]=typeof w[O]!="string"?w[O].toString():w[O];var P=new h(function(R,$){try{x.db=openDatabase(x.name,String(x.version),x.description,x.size)}catch(V){return $(V)}x.db.transaction(function(V){yo(V,x,function(){T._dbInfo=x,R()},function(Z,J){$(J)})},$)});return x.serializer=ar,P}function tn(w,T,x,O,P,R){w.executeSql(x,O,P,function($,V){V.code===V.SYNTAX_ERR?$.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[T.storeName],function(Z,J){J.rows.length?R(Z,V):yo(Z,T,function(){Z.executeSql(x,O,P,R)},R)},R):R($,V)},R)}function _o(w,T){var x=this;w=S(w);var O=new h(function(P,R){x.ready().then(function(){var $=x._dbInfo;$.db.transaction(function(V){tn(V,$,"SELECT * FROM "+$.storeName+" WHERE key = ? LIMIT 1",[w],function(Z,J){var Q=J.rows.length?J.rows.item(0).value:null;Q&&(Q=$.serializer.deserialize(Q)),P(Q)},function(Z,J){R(J)})})}).catch(R)});return v(O,T),O}function wo(w,T){var x=this,O=new h(function(P,R){x.ready().then(function(){var $=x._dbInfo;$.db.transaction(function(V){tn(V,$,"SELECT * FROM "+$.storeName,[],function(Z,J){for(var Q=J.rows,se=Q.length,we=0;we<se;we++){var Ae=Q.item(we),Ie=Ae.value;if(Ie&&(Ie=$.serializer.deserialize(Ie)),Ie=w(Ie,Ae.key,we+1),Ie!==void 0){P(Ie);return}}P()},function(Z,J){R(J)})})}).catch(R)});return v(O,T),O}function bo(w,T,x,O){var P=this;w=S(w);var R=new h(function($,V){P.ready().then(function(){T===void 0&&(T=null);var Z=T,J=P._dbInfo;J.serializer.serialize(T,function(Q,se){se?V(se):J.db.transaction(function(we){tn(we,J,"INSERT OR REPLACE INTO "+J.storeName+" (key, value) VALUES (?, ?)",[w,Q],function(){$(Z)},function(Ae,Ie){V(Ie)})},function(we){if(we.code===we.QUOTA_ERR){if(O>0){$(bo.apply(P,[w,Z,x,O-1]));return}V(we)}})})}).catch(V)});return v(R,x),R}function ya(w,T,x){return bo.apply(this,[w,T,x,1])}function _a(w,T){var x=this;w=S(w);var O=new h(function(P,R){x.ready().then(function(){var $=x._dbInfo;$.db.transaction(function(V){tn(V,$,"DELETE FROM "+$.storeName+" WHERE key = ?",[w],function(){P()},function(Z,J){R(J)})})}).catch(R)});return v(O,T),O}function wa(w){var T=this,x=new h(function(O,P){T.ready().then(function(){var R=T._dbInfo;R.db.transaction(function($){tn($,R,"DELETE FROM "+R.storeName,[],function(){O()},function(V,Z){P(Z)})})}).catch(P)});return v(x,w),x}function xo(w){var T=this,x=new h(function(O,P){T.ready().then(function(){var R=T._dbInfo;R.db.transaction(function($){tn($,R,"SELECT COUNT(key) as c FROM "+R.storeName,[],function(V,Z){var J=Z.rows.item(0).c;O(J)},function(V,Z){P(Z)})})}).catch(P)});return v(x,w),x}function ba(w,T){var x=this,O=new h(function(P,R){x.ready().then(function(){var $=x._dbInfo;$.db.transaction(function(V){tn(V,$,"SELECT key FROM "+$.storeName+" WHERE id = ? LIMIT 1",[w+1],function(Z,J){var Q=J.rows.length?J.rows.item(0).key:null;P(Q)},function(Z,J){R(J)})})}).catch(R)});return v(O,T),O}function xa(w){var T=this,x=new h(function(O,P){T.ready().then(function(){var R=T._dbInfo;R.db.transaction(function($){tn($,R,"SELECT key FROM "+R.storeName,[],function(V,Z){for(var J=[],Q=0;Q<Z.rows.length;Q++)J.push(Z.rows.item(Q).key);O(J)},function(V,Z){P(Z)})})}).catch(P)});return v(x,w),x}function Sa(w){return new h(function(T,x){w.transaction(function(O){O.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(P,R){for(var $=[],V=0;V<R.rows.length;V++)$.push(R.rows.item(V).name);T({db:w,storeNames:$})},function(P,R){x(R)})},function(O){x(O)})})}function xi(w,T){T=E.apply(this,arguments);var x=this.config();w=typeof w!="function"&&w||{},w.name||(w.name=w.name||x.name,w.storeName=w.storeName||x.storeName);var O=this,P;return w.name?P=new h(function(R){var $;w.name===x.name?$=O._dbInfo.db:$=openDatabase(w.name,"","",0),w.storeName?R({db:$,storeNames:[w.storeName]}):R(Sa($))}).then(function(R){return new h(function($,V){R.db.transaction(function(Z){function J(Ae){return new h(function(Ie,Ne){Z.executeSql("DROP TABLE IF EXISTS "+Ae,[],function(){Ie()},function(je,ct){Ne(ct)})})}for(var Q=[],se=0,we=R.storeNames.length;se<we;se++)Q.push(J(R.storeNames[se]));h.all(Q).then(function(){$()}).catch(function(Ae){V(Ae)})},function(Z){V(Z)})})}):P=h.reject("Invalid arguments"),v(P,T),P}var Ea={_driver:"webSQLStorage",_initStorage:va,_support:Ct(),iterate:wo,getItem:_o,setItem:ya,removeItem:_a,clear:wa,length:xo,key:ba,keys:xa,dropInstance:xi};function Si(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function So(w,T){var x=w.name+"/";return w.storeName!==T.storeName&&(x+=w.storeName+"/"),x}function Ca(){var w="_localforage_support_test";try{return localStorage.setItem(w,!0),localStorage.removeItem(w),!1}catch{return!0}}function Aa(){return!Ca()||localStorage.length>0}function Ia(w){var T=this,x={};if(w)for(var O in w)x[O]=w[O];return x.keyPrefix=So(w,T._defaultConfig),Aa()?(T._dbInfo=x,x.serializer=ar,h.resolve()):h.reject()}function Ta(w){var T=this,x=T.ready().then(function(){for(var O=T._dbInfo.keyPrefix,P=localStorage.length-1;P>=0;P--){var R=localStorage.key(P);R.indexOf(O)===0&&localStorage.removeItem(R)}});return v(x,w),x}function Da(w,T){var x=this;w=S(w);var O=x.ready().then(function(){var P=x._dbInfo,R=localStorage.getItem(P.keyPrefix+w);return R&&(R=P.serializer.deserialize(R)),R});return v(O,T),O}function Ra(w,T){var x=this,O=x.ready().then(function(){for(var P=x._dbInfo,R=P.keyPrefix,$=R.length,V=localStorage.length,Z=1,J=0;J<V;J++){var Q=localStorage.key(J);if(Q.indexOf(R)===0){var se=localStorage.getItem(Q);if(se&&(se=P.serializer.deserialize(se)),se=w(se,Q.substring($),Z++),se!==void 0)return se}}});return v(O,T),O}function Oa(w,T){var x=this,O=x.ready().then(function(){var P=x._dbInfo,R;try{R=localStorage.key(w)}catch{R=null}return R&&(R=R.substring(P.keyPrefix.length)),R});return v(O,T),O}function Eo(w){var T=this,x=T.ready().then(function(){for(var O=T._dbInfo,P=localStorage.length,R=[],$=0;$<P;$++){var V=localStorage.key($);V.indexOf(O.keyPrefix)===0&&R.push(V.substring(O.keyPrefix.length))}return R});return v(x,w),x}function Fa(w){var T=this,x=T.keys().then(function(O){return O.length});return v(x,w),x}function Ba(w,T){var x=this;w=S(w);var O=x.ready().then(function(){var P=x._dbInfo;localStorage.removeItem(P.keyPrefix+w)});return v(O,T),O}function Pa(w,T,x){var O=this;w=S(w);var P=O.ready().then(function(){T===void 0&&(T=null);var R=T;return new h(function($,V){var Z=O._dbInfo;Z.serializer.serialize(T,function(J,Q){if(Q)V(Q);else try{localStorage.setItem(Z.keyPrefix+w,J),$(R)}catch(se){(se.name==="QuotaExceededError"||se.name==="NS_ERROR_DOM_QUOTA_REACHED")&&V(se),V(se)}})})});return v(P,x),P}function ja(w,T){if(T=E.apply(this,arguments),w=typeof w!="function"&&w||{},!w.name){var x=this.config();w.name=w.name||x.name,w.storeName=w.storeName||x.storeName}var O=this,P;return w.name?P=new h(function(R){w.storeName?R(So(w,O._defaultConfig)):R(w.name+"/")}).then(function(R){for(var $=localStorage.length-1;$>=0;$--){var V=localStorage.key($);V.indexOf(R)===0&&localStorage.removeItem(V)}}):P=h.reject("Invalid arguments"),v(P,T),P}var Ma={_driver:"localStorageWrapper",_initStorage:Ia,_support:Si(),iterate:Ra,getItem:Da,setItem:Pa,removeItem:Ba,clear:Ta,length:Fa,key:Oa,keys:Eo,dropInstance:ja},ka=function(T,x){return T===x||typeof T=="number"&&typeof x=="number"&&isNaN(T)&&isNaN(x)},Lr=function(T,x){for(var O=T.length,P=0;P<O;){if(ka(T[P],x))return!0;P++}return!1},Co=Array.isArray||function(w){return Object.prototype.toString.call(w)==="[object Array]"},nn={},Ao={},Fn={INDEXEDDB:po,WEBSQL:Ea,LOCALSTORAGE:Ma},La=[Fn.INDEXEDDB._driver,Fn.WEBSQL._driver,Fn.LOCALSTORAGE._driver],sr=["dropInstance"],Nr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(sr),Io={description:"",driver:La.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Na(w,T){w[T]=function(){var x=arguments;return w.ready().then(function(){return w[T].apply(w,x)})}}function Ei(){for(var w=1;w<arguments.length;w++){var T=arguments[w];if(T)for(var x in T)T.hasOwnProperty(x)&&(Co(T[x])?arguments[0][x]=T[x].slice():arguments[0][x]=T[x])}return arguments[0]}var za=function(){function w(T){l(this,w);for(var x in Fn)if(Fn.hasOwnProperty(x)){var O=Fn[x],P=O._driver;this[x]=P,nn[P]||this.defineDriver(O)}this._defaultConfig=Ei({},Io),this._config=Ei({},this._defaultConfig,T),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return w.prototype.config=function(x){if((typeof x>"u"?"undefined":a(x))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var O in x){if(O==="storeName"&&(x[O]=x[O].replace(/\W/g,"_")),O==="version"&&typeof x[O]!="number")return new Error("Database version must be a number.");this._config[O]=x[O]}return"driver"in x&&x.driver?this.setDriver(this._config.driver):!0}else return typeof x=="string"?this._config[x]:this._config},w.prototype.defineDriver=function(x,O,P){var R=new h(function($,V){try{var Z=x._driver,J=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!x._driver){V(J);return}for(var Q=Nr.concat("_initStorage"),se=0,we=Q.length;se<we;se++){var Ae=Q[se],Ie=!Lr(sr,Ae);if((Ie||x[Ae])&&typeof x[Ae]!="function"){V(J);return}}var Ne=function(){for(var Bn=function(Do){return function(){var Ha=new Error("Method "+Do+" is not implemented by the current driver"),Ro=h.reject(Ha);return v(Ro,arguments[arguments.length-1]),Ro}},Ci=0,To=sr.length;Ci<To;Ci++){var zr=sr[Ci];x[zr]||(x[zr]=Bn(zr))}};Ne();var je=function(Bn){nn[Z]&&console.info("Redefining LocalForage driver: "+Z),nn[Z]=x,Ao[Z]=Bn,$()};"_support"in x?x._support&&typeof x._support=="function"?x._support().then(je,V):je(!!x._support):je(!0)}catch(ct){V(ct)}});return A(R,O,P),R},w.prototype.driver=function(){return this._driver||null},w.prototype.getDriver=function(x,O,P){var R=nn[x]?h.resolve(nn[x]):h.reject(new Error("Driver not found."));return A(R,O,P),R},w.prototype.getSerializer=function(x){var O=h.resolve(ar);return A(O,x),O},w.prototype.ready=function(x){var O=this,P=O._driverSet.then(function(){return O._ready===null&&(O._ready=O._initDriver()),O._ready});return A(P,x,x),P},w.prototype.setDriver=function(x,O,P){var R=this;Co(x)||(x=[x]);var $=this._getSupportedDrivers(x);function V(){R._config.driver=R.driver()}function Z(se){return R._extend(se),V(),R._ready=R._initStorage(R._config),R._ready}function J(se){return function(){var we=0;function Ae(){for(;we<se.length;){var Ie=se[we];return we++,R._dbInfo=null,R._ready=null,R.getDriver(Ie).then(Z).catch(Ae)}V();var Ne=new Error("No available storage method found.");return R._driverSet=h.reject(Ne),R._driverSet}return Ae()}}var Q=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=Q.then(function(){var se=$[0];return R._dbInfo=null,R._ready=null,R.getDriver(se).then(function(we){R._driver=we._driver,V(),R._wrapLibraryMethodsWithReady(),R._initDriver=J($)})}).catch(function(){V();var se=new Error("No available storage method found.");return R._driverSet=h.reject(se),R._driverSet}),A(this._driverSet,O,P),this._driverSet},w.prototype.supports=function(x){return!!Ao[x]},w.prototype._extend=function(x){Ei(this,x)},w.prototype._getSupportedDrivers=function(x){for(var O=[],P=0,R=x.length;P<R;P++){var $=x[P];this.supports($)&&O.push($)}return O},w.prototype._wrapLibraryMethodsWithReady=function(){for(var x=0,O=Nr.length;x<O;x++)Na(this,Nr[x])},w.prototype.createInstance=function(x){return new w(x)},w}(),$a=new za;u.exports=$a},{3:3}]},{},[4])(4)})})(_0);var Ix=_0.exports;const of=uo(Ix),Zh="v1";(e=>{var a,l,f,d,w0,m,Bc;const n=e.XMLHttpRequest,i=of.createInstance({name:"jape",storeName:"dict"}),u=new RegExp(`^${Xe.escapeRegExp("/jape/dict/")}(\\w+\\.dat\\.gz)$`);class s extends n{constructor(){super();Ft(this,d);Ft(this,m);Ft(this,a,null);Ft(this,l,null);Ft(this,f,null);this.addEventListener("load",()=>{if(this.readyState!==super.DONE&&this.status!==200)return;const S=mu(this,m,Bc).call(this);S&&i.setItem(S,{data:this.response,version:Zh})})}open(...S){{const[E,I,q]=S;q&&typeof I=="string"&&(Jt(this,a,String(E).toUpperCase()),Jt(this,l,I))}super.open(...S)}async send(S){var E;try{const I=mu(this,m,Bc).call(this);if(!I){super.send(S);return}const q=await i.getItem(I);if(!q||q.version!==Zh){super.send(S);return}mu(this,d,w0).call(this,q.data),(E=this.onload)==null||E.call(this,null)}catch{}}get response(){return Ge(this,f)??super.response}}a=new WeakMap,l=new WeakMap,f=new WeakMap,d=new WeakSet,w0=function(S){Jt(this,f,S)},m=new WeakSet,Bc=function(){if(this.responseType!=="arraybuffer"||Ge(this,a)!=="GET"||!Ge(this,l))return!1;try{const{pathname:S}=new URL(Ge(this,l),document.baseURI),E=S.match(u);return(E==null?void 0:E[1])??!1}catch{return!1}},Object.assign(e,{XMLHttpRequest:s})})(globalThis);var Pc={},Jh=sx;Pc.createRoot=Jh.createRoot,Pc.hydrateRoot=Jh.hydrateRoot;const Tx="\u3041".charCodeAt(0)-"\u30A1".charCodeAt(0),Dx="\u30A1".charCodeAt(0)-"\u3041".charCodeAt(0),jt={NIPPON:"nippon",PASSPORT:"passport",HEPBURN:"hepburn"},$u=function(e){return e=e[0],e>="\u3040"&&e<="\u309F"},ci=function(e){return e=e[0],e>="\u30A0"&&e<="\u30FF"},Uu=function(e){return $u(e)||ci(e)},Yn=function(e){return e=e[0],e>="\u4E00"&&e<="\u9FCF"||e>="\uF900"&&e<="\uFAFF"||e>="\u3400"&&e<="\u4DBF"},b0=function(e){return Uu(e)||Yn(e)},x0=function(e){for(let n=0;n<e.length;n++)if($u(e[n]))return!0;return!1},S0=function(e){for(let n=0;n<e.length;n++)if(ci(e[n]))return!0;return!1},Rx=function(e){for(let n=0;n<e.length;n++)if(Uu(e[n]))return!0;return!1},E0=function(e){for(let n=0;n<e.length;n++)if(Yn(e[n]))return!0;return!1},uf=function(e){for(let n=0;n<e.length;n++)if(b0(e[n]))return!0;return!1},an=function(e){return[...e].map(n=>n>"\u30A0"&&n<"\u30F7"?String.fromCharCode(n.charCodeAt(0)+Tx):n).join("")},Sr=function(e){return[...e].map(n=>n>"\u3040"&&n<"\u3097"?String.fromCharCode(n.charCodeAt(0)+Dx):n).join("")},Su=function(e,n){n=n||jt.HEPBURN;const i={nippon:{"\uFF11":"1","\uFF12":"2","\uFF13":"3","\uFF14":"4","\uFF15":"5","\uFF16":"6","\uFF17":"7","\uFF18":"8","\uFF19":"9","\uFF10":"0","\uFF01":"!","\u201C":'"',"\u201D":'"',"\uFF03":"#","\uFF04":"$","\uFF05":"%","\uFF06":"&","\u2019":"'","\uFF08":"(","\uFF09":")","\uFF1D":"=","\uFF5E":"~","\uFF5C":"|","\uFF20":"@","\u2018":"`","\uFF0B":"+","\uFF0A":"*","\uFF1B":";","\uFF1A":":","\uFF1C":"<","\uFF1E":">","\u3001":",","\u3002":".","\uFF0F":"/","\uFF1F":"?","\uFF3F":"_","\u30FB":"\uFF65","\u300C":'"',"\u300D":'"',"\uFF5B":"{","\uFF5D":"}","\uFFE5":"\\","\uFF3E":"^",\u3042:"a",\u3044:"i",\u3046:"u",\u3048:"e",\u304A:"o",\u30A2:"a",\u30A4:"i",\u30A6:"u",\u30A8:"e",\u30AA:"o",\u304B:"ka",\u304D:"ki",\u304F:"ku",\u3051:"ke",\u3053:"ko",\u30AB:"ka",\u30AD:"ki",\u30AF:"ku",\u30B1:"ke",\u30B3:"ko",\u3055:"sa",\u3057:"si",\u3059:"su",\u305B:"se",\u305D:"so",\u30B5:"sa",\u30B7:"si",\u30B9:"su",\u30BB:"se",\u30BD:"so",\u305F:"ta",\u3061:"ti",\u3064:"tu",\u3066:"te",\u3068:"to",\u30BF:"ta",\u30C1:"ti",\u30C4:"tu",\u30C6:"te",\u30C8:"to",\u306A:"na",\u306B:"ni",\u306C:"nu",\u306D:"ne",\u306E:"no",\u30CA:"na",\u30CB:"ni",\u30CC:"nu",\u30CD:"ne",\u30CE:"no",\u306F:"ha",\u3072:"hi",\u3075:"hu",\u3078:"he",\u307B:"ho",\u30CF:"ha",\u30D2:"hi",\u30D5:"hu",\u30D8:"he",\u30DB:"ho",\u307E:"ma",\u307F:"mi",\u3080:"mu",\u3081:"me",\u3082:"mo",\u30DE:"ma",\u30DF:"mi",\u30E0:"mu",\u30E1:"me",\u30E2:"mo",\u3084:"ya",\u3086:"yu",\u3088:"yo",\u30E4:"ya",\u30E6:"yu",\u30E8:"yo",\u3089:"ra",\u308A:"ri",\u308B:"ru",\u308C:"re",\u308D:"ro",\u30E9:"ra",\u30EA:"ri",\u30EB:"ru",\u30EC:"re",\u30ED:"ro",\u308F:"wa",\u3090:"wi",\u3091:"we",\u3092:"wo",\u30EF:"wa",\u30F0:"wi",\u30F1:"we",\u30F2:"wo",\u304C:"ga",\u304E:"gi",\u3050:"gu",\u3052:"ge",\u3054:"go",\u30AC:"ga",\u30AE:"gi",\u30B0:"gu",\u30B2:"ge",\u30B4:"go",\u3056:"za",\u3058:"zi",\u305A:"zu",\u305C:"ze",\u305E:"zo",\u30B6:"za",\u30B8:"zi",\u30BA:"zu",\u30BC:"ze",\u30BE:"zo",\u3060:"da",\u3062:"di",\u3065:"du",\u3067:"de",\u3069:"do",\u30C0:"da",\u30C2:"di",\u30C5:"du",\u30C7:"de",\u30C9:"do",\u3070:"ba",\u3073:"bi",\u3076:"bu",\u3079:"be",\u307C:"bo",\u30D0:"ba",\u30D3:"bi",\u30D6:"bu",\u30D9:"be",\u30DC:"bo",\u3071:"pa",\u3074:"pi",\u3077:"pu",\u307A:"pe",\u307D:"po",\u30D1:"pa",\u30D4:"pi",\u30D7:"pu",\u30DA:"pe",\u30DD:"po",\u304D\u3083:"kya",\u304D\u3085:"kyu",\u304D\u3087:"kyo",\u3057\u3083:"sya",\u3057\u3085:"syu",\u3057\u3087:"syo",\u3061\u3083:"tya",\u3061\u3085:"tyu",\u3061\u3087:"tyo",\u306B\u3083:"nya",\u306B\u3085:"nyu",\u306B\u3087:"nyo",\u3072\u3083:"hya",\u3072\u3085:"hyu",\u3072\u3087:"hyo",\u307F\u3083:"mya",\u307F\u3085:"myu",\u307F\u3087:"myo",\u308A\u3083:"rya",\u308A\u3085:"ryu",\u308A\u3087:"ryo",\u30AD\u30E3:"kya",\u30AD\u30E5:"kyu",\u30AD\u30E7:"kyo",\u30B7\u30E3:"sya",\u30B7\u30E5:"syu",\u30B7\u30E7:"syo",\u30C1\u30E3:"tya",\u30C1\u30E5:"tyu",\u30C1\u30E7:"tyo",\u30CB\u30E3:"nya",\u30CB\u30E5:"nyu",\u30CB\u30E7:"nyo",\u30D2\u30E3:"hya",\u30D2\u30E5:"hyu",\u30D2\u30E7:"hyo",\u30DF\u30E3:"mya",\u30DF\u30E5:"myu",\u30DF\u30E7:"myo",\u30EA\u30E3:"rya",\u30EA\u30E5:"ryu",\u30EA\u30E7:"ryo",\u304E\u3083:"gya",\u304E\u3085:"gyu",\u304E\u3087:"gyo",\u3058\u3083:"zya",\u3058\u3085:"zyu",\u3058\u3087:"zyo",\u3062\u3083:"dya",\u3062\u3085:"dyu",\u3062\u3087:"dyo",\u3073\u3083:"bya",\u3073\u3085:"byu",\u3073\u3087:"byo",\u3074\u3083:"pya",\u3074\u3085:"pyu",\u3074\u3087:"pyo",\u304F\u308E:"kwa",\u3050\u308E:"gwa",\u30AE\u30E3:"gya",\u30AE\u30E5:"gyu",\u30AE\u30E7:"gyo",\u30B8\u30E3:"zya",\u30B8\u30E5:"zyu",\u30B8\u30E7:"zyo",\u30C2\u30E3:"dya",\u30C2\u30E5:"dyu",\u30C2\u30E7:"dyo",\u30D3\u30E3:"bya",\u30D3\u30E5:"byu",\u30D3\u30E7:"byo",\u30D4\u30E3:"pya",\u30D4\u30E5:"pyu",\u30D4\u30E7:"pyo",\u30AF\u30EE:"kwa",\u30B0\u30EE:"gwa",\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o",\u3083:"ya",\u3085:"yu",\u3087:"yo",\u308E:"wa",\u30A1:"a",\u30A3:"i",\u30A5:"u",\u30A7:"e",\u30A9:"o",\u30E3:"ya",\u30E5:"yu",\u30E7:"yo",\u30EE:"wa",\u30F5:"ka",\u30F6:"ke",\u3093:"n",\u30F3:"n","\u3000":" ",\u3044\u3047:"ye",\u304D\u3047:"kye",\u304F\u3043:"kwi",\u304F\u3047:"kwe",\u304F\u3049:"kwo",\u3050\u3043:"gwi",\u3050\u3047:"gwe",\u3050\u3049:"gwo",\u30A4\u30A7:"ye",\u30AD\u30A7:"kya",\u30AF\u30A3:"kwi",\u30AF\u30A7:"kwe",\u30AF\u30A9:"kwo",\u30B0\u30A3:"gwi",\u30B0\u30A7:"gwe",\u30B0\u30A9:"gwo",\u3057\u3047:"sye",\u3058\u3047:"zye",\u3059\u3043:"swi",\u305A\u3043:"zwi",\u3061\u3047:"tye",\u3064\u3041:"twa",\u3064\u3043:"twi",\u3064\u3047:"twe",\u3064\u3049:"two",\u306B\u3047:"nye",\u3072\u3047:"hye",\u3075\u3041:"hwa",\u3075\u3043:"hwi",\u3075\u3047:"hwe",\u3075\u3049:"hwo",\u3075\u3085:"hwyu",\u3075\u3087:"hwyo",\u30B7\u30A7:"sye",\u30B8\u30A7:"zye",\u30B9\u30A3:"swi",\u30BA\u30A3:"zwi",\u30C1\u30A7:"tye",\u30C4\u30A1:"twa",\u30C4\u30A3:"twi",\u30C4\u30A7:"twe",\u30C4\u30A9:"two",\u30CB\u30A7:"nye",\u30D2\u30A7:"hye",\u30D5\u30A1:"hwa",\u30D5\u30A3:"hwi",\u30D5\u30A7:"hwe",\u30D5\u30A9:"hwo",\u30D5\u30E5:"hwyu",\u30D5\u30E7:"hwyo"},passport:{"\uFF11":"1","\uFF12":"2","\uFF13":"3","\uFF14":"4","\uFF15":"5","\uFF16":"6","\uFF17":"7","\uFF18":"8","\uFF19":"9","\uFF10":"0","\uFF01":"!","\u201C":'"',"\u201D":'"',"\uFF03":"#","\uFF04":"$","\uFF05":"%","\uFF06":"&","\u2019":"'","\uFF08":"(","\uFF09":")","\uFF1D":"=","\uFF5E":"~","\uFF5C":"|","\uFF20":"@","\u2018":"`","\uFF0B":"+","\uFF0A":"*","\uFF1B":";","\uFF1A":":","\uFF1C":"<","\uFF1E":">","\u3001":",","\u3002":".","\uFF0F":"/","\uFF1F":"?","\uFF3F":"_","\u30FB":"\uFF65","\u300C":'"',"\u300D":'"',"\uFF5B":"{","\uFF5D":"}","\uFFE5":"\\","\uFF3E":"^",\u3042:"a",\u3044:"i",\u3046:"u",\u3048:"e",\u304A:"o",\u30A2:"a",\u30A4:"i",\u30A6:"u",\u30A8:"e",\u30AA:"o",\u304B:"ka",\u304D:"ki",\u304F:"ku",\u3051:"ke",\u3053:"ko",\u30AB:"ka",\u30AD:"ki",\u30AF:"ku",\u30B1:"ke",\u30B3:"ko",\u3055:"sa",\u3057:"shi",\u3059:"su",\u305B:"se",\u305D:"so",\u30B5:"sa",\u30B7:"shi",\u30B9:"su",\u30BB:"se",\u30BD:"so",\u305F:"ta",\u3061:"chi",\u3064:"tsu",\u3066:"te",\u3068:"to",\u30BF:"ta",\u30C1:"chi",\u30C4:"tsu",\u30C6:"te",\u30C8:"to",\u306A:"na",\u306B:"ni",\u306C:"nu",\u306D:"ne",\u306E:"no",\u30CA:"na",\u30CB:"ni",\u30CC:"nu",\u30CD:"ne",\u30CE:"no",\u306F:"ha",\u3072:"hi",\u3075:"fu",\u3078:"he",\u307B:"ho",\u30CF:"ha",\u30D2:"hi",\u30D5:"fu",\u30D8:"he",\u30DB:"ho",\u307E:"ma",\u307F:"mi",\u3080:"mu",\u3081:"me",\u3082:"mo",\u30DE:"ma",\u30DF:"mi",\u30E0:"mu",\u30E1:"me",\u30E2:"mo",\u3084:"ya",\u3086:"yu",\u3088:"yo",\u30E4:"ya",\u30E6:"yu",\u30E8:"yo",\u3089:"ra",\u308A:"ri",\u308B:"ru",\u308C:"re",\u308D:"ro",\u30E9:"ra",\u30EA:"ri",\u30EB:"ru",\u30EC:"re",\u30ED:"ro",\u308F:"wa",\u3090:"i",\u3091:"e",\u3092:"o",\u30EF:"wa",\u30F0:"i",\u30F1:"e",\u30F2:"o",\u304C:"ga",\u304E:"gi",\u3050:"gu",\u3052:"ge",\u3054:"go",\u30AC:"ga",\u30AE:"gi",\u30B0:"gu",\u30B2:"ge",\u30B4:"go",\u3056:"za",\u3058:"ji",\u305A:"zu",\u305C:"ze",\u305E:"zo",\u30B6:"za",\u30B8:"ji",\u30BA:"zu",\u30BC:"ze",\u30BE:"zo",\u3060:"da",\u3062:"ji",\u3065:"zu",\u3067:"de",\u3069:"do",\u30C0:"da",\u30C2:"ji",\u30C5:"zu",\u30C7:"de",\u30C9:"do",\u3070:"ba",\u3073:"bi",\u3076:"bu",\u3079:"be",\u307C:"bo",\u30D0:"ba",\u30D3:"bi",\u30D6:"bu",\u30D9:"be",\u30DC:"bo",\u3071:"pa",\u3074:"pi",\u3077:"pu",\u307A:"pe",\u307D:"po",\u30D1:"pa",\u30D4:"pi",\u30D7:"pu",\u30DA:"pe",\u30DD:"po",\u304D\u3083:"kya",\u304D\u3085:"kyu",\u304D\u3087:"kyo",\u3057\u3083:"sha",\u3057\u3085:"shu",\u3057\u3087:"sho",\u3061\u3083:"cha",\u3061\u3085:"chu",\u3061\u3087:"cho",\u306B\u3083:"nya",\u306B\u3085:"nyu",\u306B\u3087:"nyo",\u3072\u3083:"hya",\u3072\u3085:"hyu",\u3072\u3087:"hyo",\u307F\u3083:"mya",\u307F\u3085:"myu",\u307F\u3087:"myo",\u308A\u3083:"rya",\u308A\u3085:"ryu",\u308A\u3087:"ryo",\u30AD\u30E3:"kya",\u30AD\u30E5:"kyu",\u30AD\u30E7:"kyo",\u30B7\u30E3:"sha",\u30B7\u30E5:"shu",\u30B7\u30E7:"sho",\u30C1\u30E3:"cha",\u30C1\u30E5:"chu",\u30C1\u30E7:"cho",\u30CB\u30E3:"nya",\u30CB\u30E5:"nyu",\u30CB\u30E7:"nyo",\u30D2\u30E3:"hya",\u30D2\u30E5:"hyu",\u30D2\u30E7:"hyo",\u30DF\u30E3:"mya",\u30DF\u30E5:"myu",\u30DF\u30E7:"myo",\u30EA\u30E3:"rya",\u30EA\u30E5:"ryu",\u30EA\u30E7:"ryo",\u304E\u3083:"gya",\u304E\u3085:"gyu",\u304E\u3087:"gyo",\u3058\u3083:"ja",\u3058\u3085:"ju",\u3058\u3087:"jo",\u3062\u3083:"ja",\u3062\u3085:"ju",\u3062\u3087:"jo",\u3073\u3083:"bya",\u3073\u3085:"byu",\u3073\u3087:"byo",\u3074\u3083:"pya",\u3074\u3085:"pyu",\u3074\u3087:"pyo",\u30AE\u30E3:"gya",\u30AE\u30E5:"gyu",\u30AE\u30E7:"gyo",\u30B8\u30E3:"ja",\u30B8\u30E5:"ju",\u30B8\u30E7:"jo",\u30C2\u30E3:"ja",\u30C2\u30E5:"ju",\u30C2\u30E7:"jo",\u30D3\u30E3:"bya",\u30D3\u30E5:"byu",\u30D3\u30E7:"byo",\u30D4\u30E3:"pya",\u30D4\u30E5:"pyu",\u30D4\u30E7:"pyo",\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o",\u3083:"ya",\u3085:"yu",\u3087:"yo",\u308E:"wa",\u30A1:"a",\u30A3:"i",\u30A5:"u",\u30A7:"e",\u30A9:"o",\u30E3:"ya",\u30E5:"yu",\u30E7:"yo",\u30EE:"wa",\u30F5:"ka",\u30F6:"ke",\u3093:"n",\u30F3:"n","\u3000":" ",\u30F4:"b"},hepburn:{"\uFF11":"1","\uFF12":"2","\uFF13":"3","\uFF14":"4","\uFF15":"5","\uFF16":"6","\uFF17":"7","\uFF18":"8","\uFF19":"9","\uFF10":"0","\uFF01":"!","\u201C":'"',"\u201D":'"',"\uFF03":"#","\uFF04":"$","\uFF05":"%","\uFF06":"&","\u2019":"'","\uFF08":"(","\uFF09":")","\uFF1D":"=","\uFF5E":"~","\uFF5C":"|","\uFF20":"@","\u2018":"`","\uFF0B":"+","\uFF0A":"*","\uFF1B":";","\uFF1A":":","\uFF1C":"<","\uFF1E":">","\u3001":",","\u3002":".","\uFF0F":"/","\uFF1F":"?","\uFF3F":"_","\u30FB":"\uFF65","\u300C":'"',"\u300D":'"',"\uFF5B":"{","\uFF5D":"}","\uFFE5":"\\","\uFF3E":"^",\u3042:"a",\u3044:"i",\u3046:"u",\u3048:"e",\u304A:"o",\u30A2:"a",\u30A4:"i",\u30A6:"u",\u30A8:"e",\u30AA:"o",\u304B:"ka",\u304D:"ki",\u304F:"ku",\u3051:"ke",\u3053:"ko",\u30AB:"ka",\u30AD:"ki",\u30AF:"ku",\u30B1:"ke",\u30B3:"ko",\u3055:"sa",\u3057:"shi",\u3059:"su",\u305B:"se",\u305D:"so",\u30B5:"sa",\u30B7:"shi",\u30B9:"su",\u30BB:"se",\u30BD:"so",\u305F:"ta",\u3061:"chi",\u3064:"tsu",\u3066:"te",\u3068:"to",\u30BF:"ta",\u30C1:"chi",\u30C4:"tsu",\u30C6:"te",\u30C8:"to",\u306A:"na",\u306B:"ni",\u306C:"nu",\u306D:"ne",\u306E:"no",\u30CA:"na",\u30CB:"ni",\u30CC:"nu",\u30CD:"ne",\u30CE:"no",\u306F:"ha",\u3072:"hi",\u3075:"fu",\u3078:"he",\u307B:"ho",\u30CF:"ha",\u30D2:"hi",\u30D5:"fu",\u30D8:"he",\u30DB:"ho",\u307E:"ma",\u307F:"mi",\u3080:"mu",\u3081:"me",\u3082:"mo",\u30DE:"ma",\u30DF:"mi",\u30E0:"mu",\u30E1:"me",\u30E2:"mo",\u3084:"ya",\u3086:"yu",\u3088:"yo",\u30E4:"ya",\u30E6:"yu",\u30E8:"yo",\u3089:"ra",\u308A:"ri",\u308B:"ru",\u308C:"re",\u308D:"ro",\u30E9:"ra",\u30EA:"ri",\u30EB:"ru",\u30EC:"re",\u30ED:"ro",\u308F:"wa",\u3090:"i",\u3091:"e",\u3092:"o",\u30EF:"wa",\u30F0:"i",\u30F1:"e",\u30F2:"o",\u304C:"ga",\u304E:"gi",\u3050:"gu",\u3052:"ge",\u3054:"go",\u30AC:"ga",\u30AE:"gi",\u30B0:"gu",\u30B2:"ge",\u30B4:"go",\u3056:"za",\u3058:"ji",\u305A:"zu",\u305C:"ze",\u305E:"zo",\u30B6:"za",\u30B8:"ji",\u30BA:"zu",\u30BC:"ze",\u30BE:"zo",\u3060:"da",\u3062:"ji",\u3065:"zu",\u3067:"de",\u3069:"do",\u30C0:"da",\u30C2:"ji",\u30C5:"zu",\u30C7:"de",\u30C9:"do",\u3070:"ba",\u3073:"bi",\u3076:"bu",\u3079:"be",\u307C:"bo",\u30D0:"ba",\u30D3:"bi",\u30D6:"bu",\u30D9:"be",\u30DC:"bo",\u3071:"pa",\u3074:"pi",\u3077:"pu",\u307A:"pe",\u307D:"po",\u30D1:"pa",\u30D4:"pi",\u30D7:"pu",\u30DA:"pe",\u30DD:"po",\u304D\u3083:"kya",\u304D\u3085:"kyu",\u304D\u3087:"kyo",\u3057\u3083:"sha",\u3057\u3085:"shu",\u3057\u3087:"sho",\u3061\u3083:"cha",\u3061\u3085:"chu",\u3061\u3087:"cho",\u306B\u3083:"nya",\u306B\u3085:"nyu",\u306B\u3087:"nyo",\u3072\u3083:"hya",\u3072\u3085:"hyu",\u3072\u3087:"hyo",\u307F\u3083:"mya",\u307F\u3085:"myu",\u307F\u3087:"myo",\u308A\u3083:"rya",\u308A\u3085:"ryu",\u308A\u3087:"ryo",\u30AD\u30E3:"kya",\u30AD\u30E5:"kyu",\u30AD\u30E7:"kyo",\u30B7\u30E3:"sha",\u30B7\u30E5:"shu",\u30B7\u30E7:"sho",\u30C1\u30E3:"cha",\u30C1\u30E5:"chu",\u30C1\u30E7:"cho",\u30CB\u30E3:"nya",\u30CB\u30E5:"nyu",\u30CB\u30E7:"nyo",\u30D2\u30E3:"hya",\u30D2\u30E5:"hyu",\u30D2\u30E7:"hyo",\u30DF\u30E3:"mya",\u30DF\u30E5:"myu",\u30DF\u30E7:"myo",\u30EA\u30E3:"rya",\u30EA\u30E5:"ryu",\u30EA\u30E7:"ryo",\u304E\u3083:"gya",\u304E\u3085:"gyu",\u304E\u3087:"gyo",\u3058\u3083:"ja",\u3058\u3085:"ju",\u3058\u3087:"jo",\u3062\u3083:"ja",\u3062\u3085:"ju",\u3062\u3087:"jo",\u3073\u3083:"bya",\u3073\u3085:"byu",\u3073\u3087:"byo",\u3074\u3083:"pya",\u3074\u3085:"pyu",\u3074\u3087:"pyo",\u30AE\u30E3:"gya",\u30AE\u30E5:"gyu",\u30AE\u30E7:"gyo",\u30B8\u30E3:"ja",\u30B8\u30E5:"ju",\u30B8\u30E7:"jo",\u30C2\u30E3:"ja",\u30C2\u30E5:"ju",\u30C2\u30E7:"jo",\u30D3\u30E3:"bya",\u30D3\u30E5:"byu",\u30D3\u30E7:"byo",\u30D4\u30E3:"pya",\u30D4\u30E5:"pyu",\u30D4\u30E7:"pyo",\u3041:"a",\u3043:"i",\u3045:"u",\u3047:"e",\u3049:"o",\u3083:"ya",\u3085:"yu",\u3087:"yo",\u308E:"wa",\u30A1:"a",\u30A3:"i",\u30A5:"u",\u30A7:"e",\u30A9:"o",\u30E3:"ya",\u30E5:"yu",\u30E7:"yo",\u30EE:"wa",\u30F5:"ka",\u30F6:"ke",\u3093:"n",\u30F3:"n","\u3000":" ",\u3044\u3047:"ye",\u3046\u3043:"wi",\u3046\u3047:"we",\u3046\u3049:"wo",\u304D\u3047:"kye",\u304F\u3041:"kwa",\u304F\u3043:"kwi",\u304F\u3047:"kwe",\u304F\u3049:"kwo",\u3050\u3041:"gwa",\u3050\u3043:"gwi",\u3050\u3047:"gwe",\u3050\u3049:"gwo",\u30A4\u30A7:"ye",\u30A6\u30A3:"wi",\u30A6\u30A7:"we",\u30A6\u30A9:"wo",\u30F4:"vu",\u30F4\u30A1:"va",\u30F4\u30A3:"vi",\u30F4\u30A7:"ve",\u30F4\u30A9:"vo",\u30F4\u30E5:"vyu",\u30F4\u30E7:"vyo",\u30AD\u30A7:"kya",\u30AF\u30A1:"kwa",\u30AF\u30A3:"kwi",\u30AF\u30A7:"kwe",\u30AF\u30A9:"kwo",\u30B0\u30A1:"gwa",\u30B0\u30A3:"gwi",\u30B0\u30A7:"gwe",\u30B0\u30A9:"gwo",\u3057\u3047:"she",\u3058\u3047:"je",\u3061\u3047:"che",\u3064\u3041:"tsa",\u3064\u3043:"tsi",\u3064\u3047:"tse",\u3064\u3049:"tso",\u3066\u3043:"ti",\u3066\u3085:"tyu",\u3067\u3043:"di",\u3067\u3085:"dyu",\u3068\u3045:"tu",\u3069\u3045:"du",\u306B\u3047:"nye",\u3072\u3047:"hye",\u3075\u3041:"fa",\u3075\u3043:"fi",\u3075\u3047:"fe",\u3075\u3049:"fo",\u3075\u3085:"fyu",\u3075\u3087:"fyo",\u30B7\u30A7:"she",\u30B8\u30A7:"je",\u30C1\u30A7:"che",\u30C4\u30A1:"tsa",\u30C4\u30A3:"tsi",\u30C4\u30A7:"tse",\u30C4\u30A9:"tso",\u30C6\u30A3:"ti",\u30C6\u30E5:"tyu",\u30C7\u30A3:"di",\u30C7\u30E5:"dyu",\u30C8\u30A5:"tu",\u30C9\u30A5:"du",\u30CB\u30A7:"nye",\u30D2\u30A7:"hye",\u30D5\u30A1:"fa",\u30D5\u30A3:"fi",\u30D5\u30A7:"fe",\u30D5\u30A9:"fo",\u30D5\u30E5:"fyu",\u30D5\u30E7:"fyo"}},u=/(|)([bcdfghijklmnopqrstuvwyz])/gm,s=/|/gm;let a=0,l,f,d="";if(n===jt.PASSPORT&&(e=e.replace(//gm,"")),n===jt.NIPPON||n===jt.HEPBURN){const m=new RegExp(/(|)(?=|||||||||||||||||||||||||||||||)/g);let h;const v=[];for(;(h=m.exec(e))!==null;)v.push(h.index+1);if(v.length!==0){let A="";for(let S=0;S<v.length;S++)S===0?A+=`${e.slice(0,v[S])}'`:A+=`${e.slice(v[S-1],v[S])}'`;A+=e.slice(v[v.length-1]),e=A}}const y=e.length;for(;a<=y;)(f=i[n][e.substring(a,a+2)])?(d+=f,a+=2):(d+=(f=i[n][l=e.substring(a,a+1)])?f:l,a+=1);return d=d.replace(u,"$2$2"),(n===jt.PASSPORT||n===jt.HEPBURN)&&(d=d.replace(/cc/gm,"tc")),d=d.replace(s,"tsu"),(n===jt.PASSPORT||n===jt.HEPBURN)&&(d=d.replace(/nm/gm,"mm"),d=d.replace(/nb/gm,"mb"),d=d.replace(/np/gm,"mp")),n===jt.NIPPON&&(d=d.replace(/a/gm,"\xE2"),d=d.replace(/i/gm,"\xEE"),d=d.replace(/u/gm,"\xFB"),d=d.replace(/e/gm,"\xEA"),d=d.replace(/o/gm,"\xF4")),n===jt.HEPBURN&&(d=d.replace(/a/gm,"\u0101"),d=d.replace(/i/gm,"\u012B"),d=d.replace(/u/gm,"\u016B"),d=d.replace(/e/gm,"\u0113"),d=d.replace(/o/gm,"\u014D")),d},Ox=function(e){let n=!1,i=!1;for(let u=0;u<e.length;u++)Yn(e[u])?n=!0:($u(e[u])||ci(e[u]))&&(i=!0);return n&&i?1:n?0:i?2:3},Fx=function(e){for(let n=0;n<e.length;n++)uf(e[n].surface_form)?e[n].reading?x0(e[n].reading)&&(e[n].reading=Sr(e[n].reading)):e[n].surface_form.split("").every(Uu)?e[n].reading=Sr(e[n].surface_form):e[n].reading=e[n].surface_form:e[n].reading=e[n].surface_form;for(let n=0;n<e.length;n++)e[n].pos&&e[n].pos==="\u52A9\u52D5\u8A5E"&&(e[n].surface_form==="\u3046"||e[n].surface_form==="\u30A6")&&n-1>=0&&e[n-1].pos&&e[n-1].pos==="\u52D5\u8A5E"&&(e[n-1].surface_form+="\u3046",e[n-1].pronunciation?e[n-1].pronunciation+="\u30FC":e[n-1].pronunciation=`${e[n-1].reading}\u30FC`,e[n-1].reading+="\u30A6",e.splice(n,1),n--);for(let n=0;n<e.length;n++)e[n].pos&&(e[n].pos==="\u52D5\u8A5E"||e[n].pos==="\u5F62\u5BB9\u8A5E")&&e[n].surface_form.length>1&&(e[n].surface_form[e[n].surface_form.length-1]==="\u3063"||e[n].surface_form[e[n].surface_form.length-1]==="\u30C3")&&n+1<e.length&&(e[n].surface_form+=e[n+1].surface_form,e[n].pronunciation?e[n].pronunciation+=e[n+1].pronunciation:e[n].pronunciation=`${e[n].reading}${e[n+1].reading}`,e[n].reading+=e[n+1].reading,e.splice(n+1,1),n--);return e},Bx=function(e){return an(e)},Px=function(e){return Sr(e)},jx=function(e,n){return Su(e,n)};class af{constructor(){this._analyzer=null}async init(n){if(!n||typeof n!="object"||typeof n.init!="function"||typeof n.parse!="function")throw new Error("Invalid initialization parameter.");if(this._analyzer==null)await n.init(),this._analyzer=n;else throw new Error("Kuroshiro has already been initialized.")}async convert(n,i){if(i=i||{},i.to=i.to||"hiragana",i.mode=i.mode||"normal",i.romajiSystem=i.romajiSystem||jt.HEPBURN,i.delimiter_start=i.delimiter_start||"(",i.delimiter_end=i.delimiter_end||")",n=n||"",["hiragana","katakana","romaji"].indexOf(i.to)===-1)throw new Error("Invalid Target Syllabary.");if(["normal","spaced","okurigana","furigana"].indexOf(i.mode)===-1)throw new Error("Invalid Conversion Mode.");if(Object.keys(jt).map(l=>jt[l]).indexOf(i.romajiSystem)===-1)throw new Error("Invalid Romanization System.");const s=await this._analyzer.parse(n),a=Fx(s);if(i.mode==="normal"||i.mode==="spaced")switch(i.to){case"katakana":return i.mode==="normal"?a.map(f=>f.reading).join(""):a.map(f=>f.reading).join(" ");case"romaji":const l=f=>{let d;return uf(f.surface_form)?d=f.pronunciation||f.reading:d=f.surface_form,Su(d,i.romajiSystem)};return i.mode==="normal"?a.map(l).join(""):a.map(l).join(" ");case"hiragana":for(let f=0;f<a.length;f++)if(E0(a[f].surface_form))if(!S0(a[f].surface_form))a[f].reading=an(a[f].reading);else{a[f].reading=an(a[f].reading);let d="",y="";for(let v=0;v<a[f].surface_form.length;v++)Yn(a[f].surface_form[v])?y+="(.*)":y+=ci(a[f].surface_form[v])?an(a[f].surface_form[v]):a[f].surface_form[v];const h=new RegExp(y).exec(a[f].reading);if(h){let v=0;for(let A=0;A<a[f].surface_form.length;A++)Yn(a[f].surface_form[A])?(d+=h[v+1],v++):d+=a[f].surface_form[A];a[f].reading=d}}else a[f].reading=a[f].surface_form;return i.mode==="normal"?a.map(f=>f.reading).join(""):a.map(f=>f.reading).join(" ");default:throw new Error("Unknown option.to param")}else if(i.mode==="okurigana"||i.mode==="furigana"){const l=[];for(let d=0;d<a.length;d++)switch(Ox(a[d].surface_form)){case 0:l.push([a[d].surface_form,1,an(a[d].reading),a[d].pronunciation||a[d].reading]);break;case 1:let m="",h=!1;const v=[];for(let E=0;E<a[d].surface_form.length;E++)Yn(a[d].surface_form[E])?h?v[v.length-1]+=a[d].surface_form[E]:(h=!0,m+="(.+)",v.push(a[d].surface_form[E])):(h=!1,v.push(a[d].surface_form[E]),m+=ci(a[d].surface_form[E])?an(a[d].surface_form[E]):a[d].surface_form[E]);const S=new RegExp(`^${m}$`).exec(an(a[d].reading));if(S){let E=1;for(let I=0;I<v.length;I++)Yn(v[I][0])?(l.push([v[I],1,S[E],Sr(S[E])]),E+=1):l.push([v[I],2,an(v[I]),Sr(v[I])])}else l.push([a[d].surface_form,1,an(a[d].reading),a[d].pronunciation||a[d].reading]);break;case 2:for(let E=0;E<a[d].surface_form.length;E++)l.push([a[d].surface_form[E],2,an(a[d].reading[E]),a[d].pronunciation&&a[d].pronunciation[E]||a[d].reading[E]]);break;case 3:for(let E=0;E<a[d].surface_form.length;E++)l.push([a[d].surface_form[E],3,a[d].surface_form[E],a[d].surface_form[E]]);break;default:throw new Error("Unknown strType")}let f="";switch(i.to){case"katakana":if(i.mode==="okurigana")for(let d=0;d<l.length;d++)l[d][1]!==1?f+=l[d][0]:f+=l[d][0]+i.delimiter_start+Sr(l[d][2])+i.delimiter_end;else for(let d=0;d<l.length;d++)l[d][1]!==1?f+=l[d][0]:f+=`<ruby>${l[d][0]}<rp>${i.delimiter_start}</rp><rt>${Sr(l[d][2])}</rt><rp>${i.delimiter_end}</rp></ruby>`;return f;case"romaji":if(i.mode==="okurigana")for(let d=0;d<l.length;d++)l[d][1]!==1?f+=l[d][0]:f+=l[d][0]+i.delimiter_start+Su(l[d][3],i.romajiSystem)+i.delimiter_end;else{f+="<ruby>";for(let d=0;d<l.length;d++)f+=`${l[d][0]}<rp>${i.delimiter_start}</rp><rt>${Su(l[d][3],i.romajiSystem)}</rt><rp>${i.delimiter_end}</rp>`;f+="</ruby>"}return f;case"hiragana":if(i.mode==="okurigana")for(let d=0;d<l.length;d++)l[d][1]!==1?f+=l[d][0]:f+=l[d][0]+i.delimiter_start+l[d][2]+i.delimiter_end;else for(let d=0;d<l.length;d++)l[d][1]!==1?f+=l[d][0]:f+=`<ruby>${l[d][0]}<rp>${i.delimiter_start}</rp><rt>${l[d][2]}</rt><rp>${i.delimiter_end}</rp></ruby>`;return f;default:throw new Error("Invalid Target Syllabary.")}}}}const Mx={isHiragana:$u,isKatakana:ci,isKana:Uu,isKanji:Yn,isJapanese:b0,hasHiragana:x0,hasKatakana:S0,hasKana:Rx,hasKanji:E0,hasJapanese:uf,kanaToHiragna:Bx,kanaToKatakana:Px,kanaToRomaji:jx};af.Util=Mx;let kx=0;function Hu(e,n){const i=`atom${++kx}`,u={toString:()=>i};return typeof e=="function"?u.read=e:(u.init=e,u.read=Lx,u.write=Nx),n&&(u.write=n),u}function Lx(e){return e(this)}function Nx(e,n,i){return n(this,typeof i=="function"?i(e(this)):i)}const yu=(e,n)=>e.unstable_is?e.unstable_is(n):n===e,Qh=e=>"init"in e,eg=e=>!!e.write,Bu=new WeakMap,zx=(e,n)=>{Bu.set(e,n),e.catch(()=>{}).finally(()=>Bu.delete(e))},tg=(e,n)=>{const i=Bu.get(e);i&&(Bu.delete(e),i(n))},ng=(e,n)=>{e.status="fulfilled",e.value=n},rg=(e,n)=>{e.status="rejected",e.reason=n},$x=e=>typeof(e==null?void 0:e.then)=="function",Ui=(e,n)=>!!e&&"v"in e&&"v"in n&&Object.is(e.v,n.v),ig=(e,n)=>!!e&&"e"in e&&"e"in n&&Object.is(e.e,n.e),ei=e=>!!e&&"v"in e&&e.v instanceof Promise,Ux=(e,n)=>"v"in e&&"v"in n&&e.v.orig&&e.v.orig===n.v.orig,_u=e=>{if("e"in e)throw e.e;return e.v},sf=()=>{const e=new WeakMap,n=new WeakMap,i=new Map;let u,s;const a=M=>e.get(M),l=(M,G)=>{const re=e.get(M);if(e.set(M,G),i.has(M)||i.set(M,re),ei(re)){const te="v"in G?G.v instanceof Promise?G.v:Promise.resolve(G.v):Promise.reject(G.e);re.v!==te&&tg(re.v,te)}},f=(M,G,re,te)=>{const X=new Map(te?G.d:null);let ne=!1;re.forEach((ee,le)=>{!ee&&yu(M,le)&&(ee=G),ee&&(X.set(le,ee),G.d.get(le)!==ee&&(ne=!0))}),(ne||G.d.size!==X.size)&&(G.d=X)},d=(M,G,re,te)=>{const X=a(M),ne={d:(X==null?void 0:X.d)||new Map,v:G};if(re&&f(M,ne,re,te),Ui(X,ne)&&X.d===ne.d)return X;if(ei(X)&&ei(ne)&&Ux(X,ne)){if(X.d===ne.d)return X;ne.v=X.v}return l(M,ne),ne},y=(M,G,re,te)=>{if($x(G)){let X;const ne=()=>{const le=a(M);if(!ei(le)||le.v!==ee)return;const Oe=d(M,ee,re);n.has(M)&&le.d!==Oe.d&&L(M,Oe,le.d)},ee=new Promise((le,Oe)=>{let fe=!1;G.then(ve=>{fe||(fe=!0,ng(ee,ve),le(ve),ne())},ve=>{fe||(fe=!0,rg(ee,ve),Oe(ve),ne())}),X=ve=>{fe||(fe=!0,ve.then(He=>ng(ee,He),He=>rg(ee,He)),le(ve))}});return ee.orig=G,ee.status="pending",zx(ee,le=>{le&&X(le),te==null||te()}),d(M,ee,re,!0)}return d(M,G,re)},m=(M,G,re)=>{const te=a(M),X={d:(te==null?void 0:te.d)||new Map,e:G};return re&&f(M,X,re),ig(te,X)&&te.d===X.d?te:(l(M,X),X)},h=(M,G)=>{const re=a(M);if(!G&&re&&(n.has(M)||Array.from(re.d).every(([fe,ve])=>{if(yu(M,fe))return!0;const He=h(fe);return He===ve||Ui(He,ve)})))return re;const te=new Map;let X=!0;const ne=fe=>{if(yu(M,fe)){const He=a(fe);if(He)return te.set(fe,He),_u(He);if(Qh(fe))return te.set(fe,void 0),fe.init;throw new Error("no atom init")}const ve=h(fe);return te.set(fe,ve),_u(ve)};let ee,le;const Oe={get signal(){return ee||(ee=new AbortController),ee.signal},get setSelf(){return!le&&eg(M)&&(le=(...fe)=>{if(!X)return j(M,...fe)}),le}};try{const fe=M.read(ne,Oe);return y(M,fe,te,()=>ee==null?void 0:ee.abort())}catch(fe){return m(M,fe,te)}finally{X=!1}},v=M=>_u(h(M)),A=M=>{let G=n.get(M);return G||(G=oe(M)),G},S=(M,G)=>!G.l.size&&(!G.t.size||G.t.size===1&&G.t.has(M)),E=M=>{const G=n.get(M);G&&S(M,G)&&ue(M)},I=M=>{const G=new Map,re=new WeakMap,te=ee=>{var le;const Oe=new Set((le=n.get(ee))==null?void 0:le.t);return i.forEach((fe,ve)=>{var He;(He=a(ve))!=null&&He.d.has(ee)&&Oe.add(ve)}),Oe},X=ee=>{te(ee).forEach(le=>{le!==ee&&(G.set(le,(G.get(le)||new Set).add(ee)),re.set(le,(re.get(le)||0)+1),X(le))})};X(M);const ne=ee=>{te(ee).forEach(le=>{var Oe;if(le!==ee){let fe=re.get(le);if(fe&&re.set(le,--fe),!fe){let ve=!!((Oe=G.get(le))!=null&&Oe.size);if(ve){const He=a(le),In=h(le,!0);ve=!Ui(He,In)}ve||G.forEach(He=>He.delete(le))}ne(le)}})};ne(M)},q=(M,...G)=>{let re=!0;const te=ee=>_u(h(ee)),X=(ee,...le)=>{let Oe;if(yu(M,ee)){if(!Qh(ee))throw new Error("atom not writable");const fe=a(ee),ve=y(ee,le[0]);Ui(fe,ve)||I(ee)}else Oe=q(ee,...le);if(!re){const fe=U()}return Oe},ne=M.write(te,X,...G);return re=!1,ne},j=(M,...G)=>{const re=q(M,...G),te=U();return re},oe=(M,G,re)=>{var te;const X=re||[];(te=a(M))==null||te.d.forEach((ee,le)=>{const Oe=n.get(le);Oe?Oe.t.add(M):le!==M&&oe(le,M,X)}),h(M);const ne={t:new Set(G&&[G]),l:new Set};if(n.set(M,ne),eg(M)&&M.onMount){const{onMount:ee}=M;X.push(()=>{const le=ee((...Oe)=>j(M,...Oe));le&&(ne.u=le)})}return re||X.forEach(ee=>ee()),ne},ue=M=>{var G;const re=(G=n.get(M))==null?void 0:G.u;re&&re(),n.delete(M);const te=a(M);te&&(ei(te)&&tg(te.v),te.d.forEach((X,ne)=>{if(ne!==M){const ee=n.get(ne);ee&&(ee.t.delete(M),S(ne,ee)&&ue(ne))}}))},L=(M,G,re)=>{const te=new Set(G.d.keys()),X=new Set;re==null||re.forEach((ne,ee)=>{if(te.has(ee)){te.delete(ee);return}X.add(ee);const le=n.get(ee);le&&le.t.delete(M)}),te.forEach(ne=>{const ee=n.get(ne);ee?ee.t.add(M):n.has(M)&&oe(ne,M)}),X.forEach(ne=>{const ee=n.get(ne);ee&&S(ne,ee)&&ue(ne)})},U=()=>{let M;for(;i.size;){const G=Array.from(i);i.clear(),G.forEach(([re,te])=>{const X=a(re);if(X){const ne=n.get(re);ne&&X.d!==(te==null?void 0:te.d)&&L(re,X,te==null?void 0:te.d),ne&&!(!ei(te)&&(Ui(te,X)||ig(te,X)))&&ne.l.forEach(ee=>ee())}})}};return{get:v,set:j,sub:(M,G)=>{const re=A(M),te=U(),X=re.l;return X.add(G),()=>{X.delete(G),E(M)}}}};let Qs;const Hx=()=>(Qs||(Qs=sf()),Qs),C0=N.createContext(void 0),A0=e=>{const n=N.useContext(C0);return(e==null?void 0:e.store)||n||Hx()},Wx=({children:e,store:n})=>{const i=N.useRef();return!n&&!i.current&&(i.current=sf()),N.createElement(C0.Provider,{value:n||i.current},e)},qx=e=>typeof(e==null?void 0:e.then)=="function",Gx=Du.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(n=>{e.status="fulfilled",e.value=n},n=>{e.status="rejected",e.reason=n}),e)});function I0(e,n){const i=A0(n),[[u,s,a],l]=N.useReducer(y=>{const m=i.get(e);return Object.is(y[0],m)&&y[1]===i&&y[2]===e?y:[m,i,e]},void 0,()=>[i.get(e),i,e]);let f=u;(s!==i||a!==e)&&(l(),f=i.get(e));const d=n==null?void 0:n.delay;return N.useEffect(()=>{const y=i.sub(e,()=>{if(typeof d=="number"){setTimeout(l,d);return}l()});return l(),y},[i,e,d]),N.useDebugValue(f),qx(f)?Gx(f):f}function T0(e,n){const i=A0(n);return N.useCallback((...s)=>i.set(e,...s),[i,e])}function lf(e,n){return[I0(e,n),T0(e,n)]}const Kx=Hu(null),cf={start:0,end:0,text:""},Vx={fontFamily:"yumincho",fontSize:14,borderRadiusLG:0},Yx=Hu(cf),Xx=Hu(null);async function Yi(e){const n=new Blob([e],{type:"text/plain"}),i=new ClipboardItem({"text/plain":n});await navigator.clipboard.write([i])}async function jc(e,n="image/png"){const i=new ClipboardItem({[n]:e});await navigator.clipboard.write([i])}var Zx=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,Jx=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,Qx=/[^-+\dA-Z]/g;function lo(e,n,i,u){if(arguments.length===1&&typeof e=="string"&&!/\d/.test(e)&&(n=e,e=void 0),e=e||e===0?e:new Date,e instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");n=String(og[n]||n||og.default);var s=n.slice(0,4);(s==="UTC:"||s==="GMT:")&&(n=n.slice(4),i=!0,s==="GMT:"&&(u=!0));var a=function(){return i?"getUTC":"get"},l=function(){return e[a()+"Date"]()},f=function(){return e[a()+"Day"]()},d=function(){return e[a()+"Month"]()},y=function(){return e[a()+"FullYear"]()},m=function(){return e[a()+"Hours"]()},h=function(){return e[a()+"Minutes"]()},v=function(){return e[a()+"Seconds"]()},A=function(){return e[a()+"Milliseconds"]()},S=function(){return i?0:e.getTimezoneOffset()},E=function(){return eS(e)},I=function(){return tS(e)},q={d:function(){return l()},dd:function(){return Bt(l())},ddd:function(){return wt.dayNames[f()]},DDD:function(){return ug({y:y(),m:d(),d:l(),_:a(),dayName:wt.dayNames[f()],short:!0})},dddd:function(){return wt.dayNames[f()+7]},DDDD:function(){return ug({y:y(),m:d(),d:l(),_:a(),dayName:wt.dayNames[f()+7]})},m:function(){return d()+1},mm:function(){return Bt(d()+1)},mmm:function(){return wt.monthNames[d()]},mmmm:function(){return wt.monthNames[d()+12]},yy:function(){return String(y()).slice(2)},yyyy:function(){return Bt(y(),4)},h:function(){return m()%12||12},hh:function(){return Bt(m()%12||12)},H:function(){return m()},HH:function(){return Bt(m())},M:function(){return h()},MM:function(){return Bt(h())},s:function(){return v()},ss:function(){return Bt(v())},l:function(){return Bt(A(),3)},L:function(){return Bt(Math.floor(A()/10))},t:function(){return m()<12?wt.timeNames[0]:wt.timeNames[1]},tt:function(){return m()<12?wt.timeNames[2]:wt.timeNames[3]},T:function(){return m()<12?wt.timeNames[4]:wt.timeNames[5]},TT:function(){return m()<12?wt.timeNames[6]:wt.timeNames[7]},Z:function(){return u?"GMT":i?"UTC":nS(e)},o:function(){return(S()>0?"-":"+")+Bt(Math.floor(Math.abs(S())/60)*100+Math.abs(S())%60,4)},p:function(){return(S()>0?"-":"+")+Bt(Math.floor(Math.abs(S())/60),2)+":"+Bt(Math.floor(Math.abs(S())%60),2)},S:function(){return["th","st","nd","rd"][l()%10>3?0:(l()%100-l()%10!=10)*l()%10]},W:function(){return E()},WW:function(){return Bt(E())},N:function(){return I()}};return n.replace(Zx,function(j){return j in q?q[j]():j.slice(1,j.length-1)})}var og={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},wt={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},Bt=function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(n).padStart(i,"0")},ug=function(n){var i=n.y,u=n.m,s=n.d,a=n._,l=n.dayName,f=n.short,d=f===void 0?!1:f,y=new Date,m=new Date;m.setDate(m[a+"Date"]()-1);var h=new Date;h.setDate(h[a+"Date"]()+1);var v=function(){return y[a+"Date"]()},A=function(){return y[a+"Month"]()},S=function(){return y[a+"FullYear"]()},E=function(){return m[a+"Date"]()},I=function(){return m[a+"Month"]()},q=function(){return m[a+"FullYear"]()},j=function(){return h[a+"Date"]()},oe=function(){return h[a+"Month"]()},ue=function(){return h[a+"FullYear"]()};return S()===i&&A()===u&&v()===s?d?"Tdy":"Today":q()===i&&I()===u&&E()===s?d?"Ysd":"Yesterday":ue()===i&&oe()===u&&j()===s?d?"Tmw":"Tomorrow":l},eS=function(n){var i=new Date(n.getFullYear(),n.getMonth(),n.getDate());i.setDate(i.getDate()-(i.getDay()+6)%7+3);var u=new Date(i.getFullYear(),0,4);u.setDate(u.getDate()-(u.getDay()+6)%7+3);var s=i.getTimezoneOffset()-u.getTimezoneOffset();i.setHours(i.getHours()-s);var a=(i-u)/(864e5*7);return 1+Math.floor(a)},tS=function(n){var i=n.getDay();return i===0&&(i=7),i},nS=function(n){return(String(n).match(Jx)||[""]).pop().replace(Qx,"").replace(/GMT\+0000/g,"UTC")},no,ro,io;class D0{constructor(){Ft(this,no,void 0);Ft(this,ro,void 0);Ft(this,io,void 0);Xs(this,"resolve",n=>{var i;(i=Ge(this,ro))==null||i.call(this,n)});Xs(this,"reject",n=>{var i;(i=Ge(this,io))==null||i.call(this,n)});Jt(this,no,new Promise((n,i)=>{Jt(this,ro,n),Jt(this,io,i)}))}get promise(){return Ge(this,no)}}no=new WeakMap,ro=new WeakMap,io=new WeakMap;function Pu(e=1e3){return new Promise(n=>setTimeout(n,e))}function Mc(e,n=`japen-${lo(Date.now(),"yymmddHHMMss")}`){const i=document.createElement("a");i.download=n,i.href=URL.createObjectURL(e),i.click()}const R0=e=>btoa(encodeURIComponent(JSON.stringify(e))).replace(/=+$/g,"");function O0(e){return JSON.parse(decodeURIComponent(atob(e)))}const Ir=(e,n)=>({list:e.map(i=>n(i)),entities:e.reduce((i,u)=>(i[n(u)]=u,i),{})}),rS=(e,n=i=>i)=>e.list.map(i=>n(e.entities[i]));function iS(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function F0(e){const n=new D0,i=document.createElement("script");return i.src=e,i.async=!0,i.addEventListener("load",()=>{i.remove(),n.resolve(null)}),i.addEventListener("error",()=>{i.remove(),n.reject(new Error(`Load script \`${e}\` failed`))}),document.body.appendChild(i),n.promise}const oS="jape";var oo;class uS{constructor(n){Ft(this,oo,void 0);Jt(this,oo,n)}getKey(n){return[Ge(this,oo),n].join(":")}get(n,i=null){try{const u=localStorage.getItem(this.getKey(n));if(u)return JSON.parse(u)}catch(u){console.error("[localStore#get]",u==null?void 0:u.message)}return i}set(n,i){try{const u=JSON.stringify(i);localStorage.setItem(this.getKey(n),u)}catch(u){console.error("[localStore#set]",u==null?void 0:u.message)}}remove(n){localStorage.removeItem(this.getKey(n))}}oo=new WeakMap;const Er=new uS(oS);function Wu(e){return new DOMParser().parseFromString(e,"text/html").body}var aS=function(e){return function(n,i){var u=N.useRef(!1);e(function(){return function(){u.current=!1}},[]),e(function(){if(!u.current)u.current=!0;else return n()},i)}};function B0(e,n,i,u){function s(a){return a instanceof i?a:new i(function(l){l(a)})}return new(i||(i=Promise))(function(a,l){function f(m){try{y(u.next(m))}catch(h){l(h)}}function d(m){try{y(u.throw(m))}catch(h){l(h)}}function y(m){m.done?a(m.value):s(m.value).then(f,d)}y((u=u.apply(e,n||[])).next())})}function P0(e,n){var i={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},u,s,a,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(y){return function(m){return d([y,m])}}function d(y){if(u)throw new TypeError("Generator is already executing.");for(;l&&(l=0,y[0]&&(i=0)),i;)try{if(u=1,s&&(a=y[0]&2?s.return:y[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,y[1])).done)return a;switch(s=0,a&&(y=[y[0]&2,a.value]),y[0]){case 0:case 1:a=y;break;case 4:return i.label++,{value:y[1],done:!1};case 5:i.label++,s=y[1],y=[0];continue;case 7:y=i.ops.pop(),i.trys.pop();continue;default:if(a=i.trys,!(a=a.length>0&&a[a.length-1])&&(y[0]===6||y[0]===2)){i=0;continue}if(y[0]===3&&(!a||y[1]>a[0]&&y[1]<a[3])){i.label=y[1];break}if(y[0]===6&&i.label<a[1]){i.label=a[1],a=y;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(y);break}a[2]&&i.ops.pop(),i.trys.pop();continue}y=n.call(e,i)}catch(m){y=[6,m],s=0}finally{u=a=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}function Cn(e,n){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var u=i.call(e),s,a=[],l;try{for(;(n===void 0||n-- >0)&&!(s=u.next()).done;)a.push(s.value)}catch(f){l={error:f}}finally{try{s&&!s.done&&(i=u.return)&&i.call(u)}finally{if(l)throw l.error}}return a}function qu(e,n,i){if(i||arguments.length===2)for(var u=0,s=n.length,a;u<s;u++)(a||!(u in n))&&(a||(a=Array.prototype.slice.call(n,0,u)),a[u]=n[u]);return e.concat(a||Array.prototype.slice.call(n))}var cn=function(e){return typeof e=="function"},sS=function(e){return typeof e>"u"},lS=!1;const co=lS;function gt(e){co&&(cn(e)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof e)));var n=N.useRef(e);n.current=N.useMemo(function(){return e},[e]);var i=N.useRef();return i.current||(i.current=function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return n.current.apply(this,u)}),i.current}const ff=aS(N.useEffect);function kc(e,n){if(e===n)return!0;for(var i=0;i<e.length;i++)if(!Object.is(e[i],n[i]))return!1;return!0}function Lc(e,n){var i=N.useRef({deps:n,obj:void 0,initialized:!1}).current;return(i.initialized===!1||!kc(i.deps,n))&&(i.deps=n,i.obj=e(),i.initialized=!0),i.obj}function Gu(e){var n=N.useRef(e);return n.current=e,n}var cS=function(e){co&&(cn(e)||console.error("useUnmount expected parameter is a function, got ".concat(typeof e)));var n=Gu(e);N.useEffect(function(){return function(){n.current()}},[])};const df=cS;function fS(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var hf=fS,dS=typeof Mt=="object"&&Mt&&Mt.Object===Object&&Mt,hS=dS,gS=hS,pS=typeof self=="object"&&self&&self.Object===Object&&self,mS=gS||pS||Function("return this")(),j0=mS,vS=j0,yS=function(){return vS.Date.now()},_S=yS,wS=/\s/;function bS(e){for(var n=e.length;n--&&wS.test(e.charAt(n)););return n}var xS=bS,SS=xS,ES=/^\s+/;function CS(e){return e&&e.slice(0,SS(e)+1).replace(ES,"")}var AS=CS,IS=j0,TS=IS.Symbol,M0=TS,ag=M0,k0=Object.prototype,DS=k0.hasOwnProperty,RS=k0.toString,Hi=ag?ag.toStringTag:void 0;function OS(e){var n=DS.call(e,Hi),i=e[Hi];try{e[Hi]=void 0;var u=!0}catch{}var s=RS.call(e);return u&&(n?e[Hi]=i:delete e[Hi]),s}var FS=OS,BS=Object.prototype,PS=BS.toString;function jS(e){return PS.call(e)}var MS=jS,sg=M0,kS=FS,LS=MS,NS="[object Null]",zS="[object Undefined]",lg=sg?sg.toStringTag:void 0;function $S(e){return e==null?e===void 0?zS:NS:lg&&lg in Object(e)?kS(e):LS(e)}var US=$S;function HS(e){return e!=null&&typeof e=="object"}var WS=HS,qS=US,GS=WS,KS="[object Symbol]";function VS(e){return typeof e=="symbol"||GS(e)&&qS(e)==KS}var YS=VS,XS=AS,cg=hf,ZS=YS,fg=0/0,JS=/^[-+]0x[0-9a-f]+$/i,QS=/^0b[01]+$/i,e2=/^0o[0-7]+$/i,t2=parseInt;function n2(e){if(typeof e=="number")return e;if(ZS(e))return fg;if(cg(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=cg(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=XS(e);var i=QS.test(e);return i||e2.test(e)?t2(e.slice(2),i?2:8):JS.test(e)?fg:+e}var r2=n2,i2=hf,el=_S,dg=r2,o2="Expected a function",u2=Math.max,a2=Math.min;function s2(e,n,i){var u,s,a,l,f,d,y=0,m=!1,h=!1,v=!0;if(typeof e!="function")throw new TypeError(o2);n=dg(n)||0,i2(i)&&(m=!!i.leading,h="maxWait"in i,a=h?u2(dg(i.maxWait)||0,n):a,v="trailing"in i?!!i.trailing:v);function A(U){var Y=u,M=s;return u=s=void 0,y=U,l=e.apply(M,Y),l}function S(U){return y=U,f=setTimeout(q,n),m?A(U):l}function E(U){var Y=U-d,M=U-y,G=n-Y;return h?a2(G,a-M):G}function I(U){var Y=U-d,M=U-y;return d===void 0||Y>=n||Y<0||h&&M>=a}function q(){var U=el();if(I(U))return j(U);f=setTimeout(q,E(U))}function j(U){return f=void 0,v&&u?A(U):(u=s=void 0,l)}function oe(){f!==void 0&&clearTimeout(f),y=0,u=d=s=f=void 0}function ue(){return f===void 0?l:j(el())}function L(){var U=el(),Y=I(U);if(u=arguments,s=this,d=U,Y){if(f===void 0)return S(d);if(h)return clearTimeout(f),f=setTimeout(q,n),A(d)}return f===void 0&&(f=setTimeout(q,n)),l}return L.cancel=oe,L.flush=ue,L}var L0=s2;const l2=uo(L0);var c2=!!(typeof window<"u"&&window.document&&window.document.createElement);const N0=c2;var f2=L0,d2=hf,h2="Expected a function";function g2(e,n,i){var u=!0,s=!0;if(typeof e!="function")throw new TypeError(h2);return d2(i)&&(u="leading"in i?!!i.leading:u,s="trailing"in i?!!i.trailing:s),f2(e,n,{leading:u,maxWait:n,trailing:s})}var p2=g2;const m2=uo(p2);var v2=function(e){co&&(cn(e)||console.error('useMount: parameter `fn` expected to be a function, but got "'.concat(typeof e,'".'))),N.useEffect(function(){e==null||e()},[])};const z0=v2;var y2=function(){var e=Cn(N.useState({}),2),n=e[1];return N.useCallback(function(){return n({})},[])};const _2=y2;function w2(e){return cn(e[Symbol.asyncIterator])}function b2(e,n){N.useEffect(function(){var i=e(),u=!1;function s(){return B0(this,void 0,void 0,function(){var a;return P0(this,function(l){switch(l.label){case 0:if(!w2(i))return[3,4];l.label=1;case 1:return[4,i.next()];case 2:return a=l.sent(),a.done||u?[3,3]:[3,1];case 3:return[3,6];case 4:return[4,i];case 5:l.sent(),l.label=6;case 6:return[2]}})})}return s(),function(){u=!0}},n)}function $0(e,n){if(N0){if(!e)return n;var i;return cn(e)?i=e():"current"in e?i=e.current:i=e,i}}var x2=function(e){var n=function(i,u,s){var a=N.useRef(!1),l=N.useRef([]),f=N.useRef([]),d=N.useRef();e(function(){var y,m=Array.isArray(s)?s:[s],h=m.map(function(v){return $0(v)});if(!a.current){a.current=!0,l.current=h,f.current=u,d.current=i();return}(h.length!==l.current.length||!kc(h,l.current)||!kc(u,f.current))&&((y=d.current)===null||y===void 0||y.call(d),l.current=h,f.current=u,d.current=i())}),df(function(){var y;(y=d.current)===null||y===void 0||y.call(d),a.current=!1})};return n};const S2=x2;var E2=S2(N.useEffect);const C2=E2;function A2(e,n){e===void 0&&(e={}),n===void 0&&(n={});var i=n.defaultValue,u=n.defaultValuePropName,s=u===void 0?"defaultValue":u,a=n.valuePropName,l=a===void 0?"value":a,f=n.trigger,d=f===void 0?"onChange":f,y=e[l],m=e.hasOwnProperty(l),h=N.useMemo(function(){return m?y:e.hasOwnProperty(s)?e[s]:i},[]),v=N.useRef(h);m&&(v.current=y);var A=_2();function S(E){for(var I=[],q=1;q<arguments.length;q++)I[q-1]=arguments[q];var j=cn(E)?E(v.current):E;m||(v.current=j,A()),e[d]&&e[d].apply(e,qu([j],Cn(I),!1))}return[v.current,gt(S)]}function U0(e,n){var i;co&&(cn(e)||console.error("useDebounceFn expected parameter is a function, got ".concat(typeof e)));var u=Gu(e),s=(i=n==null?void 0:n.wait)!==null&&i!==void 0?i:1e3,a=N.useMemo(function(){return l2(function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];return u.current.apply(u,qu([],Cn(l),!1))},s,n)},[]);return df(function(){a.cancel()}),{run:a,cancel:a.cancel,flush:a.flush}}function I2(e,n){var i=Cn(N.useState(e),2),u=i[0],s=i[1],a=U0(function(){s(e)},n).run;return N.useEffect(function(){a()},[e]),u}function ai(e,n,i){i===void 0&&(i={});var u=Gu(n);C2(function(){var s=$0(i.target,window);if(s!=null&&s.addEventListener){var a=function(l){return u.current(l)};return s.addEventListener(e,a,{capture:i.capture,once:i.once,passive:i.passive}),function(){s.removeEventListener(e,a,{capture:i.capture})}}},[e,i.capture,i.once,i.passive],i.target)}function T2(e){function n(i,u){u===void 0&&(u={});var s,a=u.onError,l=a===void 0?function(S){console.error(S)}:a;try{s=e()}catch(S){l(S)}var f=function(S){return u!=null&&u.serializer?u==null?void 0:u.serializer(S):JSON.stringify(S)},d=function(S){return u!=null&&u.deserializer?u==null?void 0:u.deserializer(S):JSON.parse(S)};function y(){try{var S=s==null?void 0:s.getItem(i);if(S)return d(S)}catch(E){l(E)}return cn(u==null?void 0:u.defaultValue)?u==null?void 0:u.defaultValue():u==null?void 0:u.defaultValue}var m=Cn(N.useState(function(){return y()}),2),h=m[0],v=m[1];ff(function(){v(y())},[i]);var A=function(S){var E=cn(S)?S(h):S;if(v(E),sS(E))s==null||s.removeItem(i);else try{s==null||s.setItem(i,f(E))}catch(I){console.error(I)}};return[h,gt(A)]}return n}var D2=T2(function(){return N0?localStorage:void 0});const R2=D2;function gf(e){var n=this,i=N.useRef(!1);return N.useCallback(function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return B0(n,void 0,void 0,function(){var a,l;return P0(this,function(f){switch(f.label){case 0:if(i.current)return[2];i.current=!0,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,e.apply(void 0,qu([],Cn(u),!1))];case 2:return a=f.sent(),i.current=!1,[2,a];case 3:throw l=f.sent(),i.current=!1,l;case 4:return[2]}})})},[e])}function O2(e){var n=function(){return new Map(e)},i=Cn(N.useState(n),2),u=i[0],s=i[1],a=function(m,h){s(function(v){var A=new Map(v);return A.set(m,h),A})},l=function(m){s(new Map(m))},f=function(m){s(function(h){var v=new Map(h);return v.delete(m),v})},d=function(){return s(n())},y=function(m){return u.get(m)};return[u,{set:gt(a),setAll:gt(l),remove:gt(f),reset:gt(d),get:gt(y)}]}var F2=function(){var e=N.useRef(!1);return N.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e};const B2=F2;function P2(e){var n=B2(),i=Cn(N.useState(e),2),u=i[0],s=i[1],a=N.useCallback(function(l){n.current||s(l)},[]);return[u,a]}function pf(e,n){var i;co&&(cn(e)||console.error("useThrottleFn expected parameter is a function, got ".concat(typeof e)));var u=Gu(e),s=(i=n==null?void 0:n.wait)!==null&&i!==void 0?i:1e3,a=N.useMemo(function(){return m2(function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];return u.current.apply(u,qu([],Cn(l),!1))},s,n)},[]);return df(function(){a.cancel()}),{run:a,cancel:a.cancel,flush:a.flush}}var H0=Symbol.for("immer-nothing"),hg=Symbol.for("immer-draftable"),kt=Symbol.for("immer-state");function Qt(e,...n){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var fi=Object.getPrototypeOf;function di(e){return!!e&&!!e[kt]}function Cr(e){var n;return e?W0(e)||Array.isArray(e)||!!e[hg]||!!((n=e.constructor)!=null&&n[hg])||Vu(e)||Yu(e):!1}var j2=Object.prototype.constructor.toString();function W0(e){if(!e||typeof e!="object")return!1;const n=fi(e);if(n===null)return!0;const i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===j2}function Ji(e,n){Ku(e)===0?Object.entries(e).forEach(([i,u])=>{n(i,u,e)}):e.forEach((i,u)=>n(u,i,e))}function Ku(e){const n=e[kt];return n?n.type_:Array.isArray(e)?1:Vu(e)?2:Yu(e)?3:0}function Nc(e,n){return Ku(e)===2?e.has(n):Object.prototype.hasOwnProperty.call(e,n)}function q0(e,n,i){const u=Ku(e);u===2?e.set(n,i):u===3?e.add(i):e[n]=i}function M2(e,n){return e===n?e!==0||1/e===1/n:e!==e&&n!==n}function Vu(e){return e instanceof Map}function Yu(e){return e instanceof Set}function wr(e){return e.copy_||e.base_}function zc(e,n){if(Vu(e))return new Map(e);if(Yu(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!n&&W0(e))return fi(e)?{...e}:Object.assign(Object.create(null),e);const i=Object.getOwnPropertyDescriptors(e);delete i[kt];let u=Reflect.ownKeys(i);for(let s=0;s<u.length;s++){const a=u[s],l=i[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(i[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(fi(e),i)}function mf(e,n=!1){return Xu(e)||di(e)||!Cr(e)||(Ku(e)>1&&(e.set=e.add=e.clear=e.delete=k2),Object.freeze(e),n&&Ji(e,(i,u)=>mf(u,!0))),e}function k2(){Qt(2)}function Xu(e){return Object.isFrozen(e)}var L2={};function Ar(e){const n=L2[e];return n||Qt(0,e),n}var Qi;function G0(){return Qi}function N2(e,n){return{drafts_:[],parent_:e,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gg(e,n){n&&(Ar("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=n)}function $c(e){Uc(e),e.drafts_.forEach(z2),e.drafts_=null}function Uc(e){e===Qi&&(Qi=e.parent_)}function pg(e){return Qi=N2(Qi,e)}function z2(e){const n=e[kt];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function mg(e,n){n.unfinalizedDrafts_=n.drafts_.length;const i=n.drafts_[0];return e!==void 0&&e!==i?(i[kt].modified_&&($c(n),Qt(4)),Cr(e)&&(e=ju(n,e),n.parent_||Mu(n,e)),n.patches_&&Ar("Patches").generateReplacementPatches_(i[kt].base_,e,n.patches_,n.inversePatches_)):e=ju(n,i,[]),$c(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),e!==H0?e:void 0}function ju(e,n,i){if(Xu(n))return n;const u=n[kt];if(!u)return Ji(n,(s,a)=>vg(e,u,n,s,a,i)),n;if(u.scope_!==e)return n;if(!u.modified_)return Mu(e,u.base_,!0),u.base_;if(!u.finalized_){u.finalized_=!0,u.scope_.unfinalizedDrafts_--;const s=u.copy_;let a=s,l=!1;u.type_===3&&(a=new Set(s),s.clear(),l=!0),Ji(a,(f,d)=>vg(e,u,s,f,d,i,l)),Mu(e,s,!1),i&&e.patches_&&Ar("Patches").generatePatches_(u,i,e.patches_,e.inversePatches_)}return u.copy_}function vg(e,n,i,u,s,a,l){if(di(s)){const f=a&&n&&n.type_!==3&&!Nc(n.assigned_,u)?a.concat(u):void 0,d=ju(e,s,f);if(q0(i,u,d),di(d))e.canAutoFreeze_=!1;else return}else l&&i.add(s);if(Cr(s)&&!Xu(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ju(e,s),(!n||!n.scope_.parent_)&&Mu(e,s)}}function Mu(e,n,i=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&mf(n,i)}function $2(e,n){const i=Array.isArray(e),u={type_:i?1:0,scope_:n?n.scope_:G0(),modified_:!1,finalized_:!1,assigned_:{},parent_:n,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=u,a=vf;i&&(s=[u],a=eo);const{revoke:l,proxy:f}=Proxy.revocable(s,a);return u.draft_=f,u.revoke_=l,f}var vf={get(e,n){if(n===kt)return e;const i=wr(e);if(!Nc(i,n))return U2(e,i,n);const u=i[n];return e.finalized_||!Cr(u)?u:u===tl(e.base_,n)?(nl(e),e.copy_[n]=Wc(u,e)):u},has(e,n){return n in wr(e)},ownKeys(e){return Reflect.ownKeys(wr(e))},set(e,n,i){const u=K0(wr(e),n);if(u!=null&&u.set)return u.set.call(e.draft_,i),!0;if(!e.modified_){const s=tl(wr(e),n),a=s==null?void 0:s[kt];if(a&&a.base_===i)return e.copy_[n]=i,e.assigned_[n]=!1,!0;if(M2(i,s)&&(i!==void 0||Nc(e.base_,n)))return!0;nl(e),Hc(e)}return e.copy_[n]===i&&(i!==void 0||n in e.copy_)||Number.isNaN(i)&&Number.isNaN(e.copy_[n])||(e.copy_[n]=i,e.assigned_[n]=!0),!0},deleteProperty(e,n){return tl(e.base_,n)!==void 0||n in e.base_?(e.assigned_[n]=!1,nl(e),Hc(e)):delete e.assigned_[n],e.copy_&&delete e.copy_[n],!0},getOwnPropertyDescriptor(e,n){const i=wr(e),u=Reflect.getOwnPropertyDescriptor(i,n);return u&&{writable:!0,configurable:e.type_!==1||n!=="length",enumerable:u.enumerable,value:i[n]}},defineProperty(){Qt(11)},getPrototypeOf(e){return fi(e.base_)},setPrototypeOf(){Qt(12)}},eo={};Ji(vf,(e,n)=>{eo[e]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}});eo.deleteProperty=function(e,n){return eo.set.call(this,e,n,void 0)};eo.set=function(e,n,i){return vf.set.call(this,e[0],n,i,e[0])};function tl(e,n){const i=e[kt];return(i?wr(i):e)[n]}function U2(e,n,i){var s;const u=K0(n,i);return u?"value"in u?u.value:(s=u.get)==null?void 0:s.call(e.draft_):void 0}function K0(e,n){if(!(n in e))return;let i=fi(e);for(;i;){const u=Object.getOwnPropertyDescriptor(i,n);if(u)return u;i=fi(i)}}function Hc(e){e.modified_||(e.modified_=!0,e.parent_&&Hc(e.parent_))}function nl(e){e.copy_||(e.copy_=zc(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var H2=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,i,u)=>{if(typeof n=="function"&&typeof i!="function"){const a=i;i=n;const l=this;return function(d=a,...y){return l.produce(d,m=>i.call(this,m,...y))}}typeof i!="function"&&Qt(6),u!==void 0&&typeof u!="function"&&Qt(7);let s;if(Cr(n)){const a=pg(this),l=Wc(n,void 0);let f=!0;try{s=i(l),f=!1}finally{f?$c(a):Uc(a)}return gg(a,u),mg(s,a)}else if(!n||typeof n!="object"){if(s=i(n),s===void 0&&(s=n),s===H0&&(s=void 0),this.autoFreeze_&&mf(s,!0),u){const a=[],l=[];Ar("Patches").generateReplacementPatches_(n,s,a,l),u(a,l)}return s}else Qt(1,n)},this.produceWithPatches=(n,i)=>{if(typeof n=="function")return(l,...f)=>this.produceWithPatches(l,d=>n(d,...f));let u,s;return[this.produce(n,i,(l,f)=>{u=l,s=f}),u,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Cr(e)||Qt(8),di(e)&&(e=W2(e));const n=pg(this),i=Wc(e,void 0);return i[kt].isManual_=!0,Uc(n),i}finishDraft(e,n){const i=e&&e[kt];(!i||!i.isManual_)&&Qt(9);const{scope_:u}=i;return gg(u,n),mg(void 0,u)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,n){let i;for(i=n.length-1;i>=0;i--){const s=n[i];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}i>-1&&(n=n.slice(i+1));const u=Ar("Patches").applyPatches_;return di(e)?u(e,n):this.produce(e,s=>u(s,n))}};function Wc(e,n){const i=Vu(e)?Ar("MapSet").proxyMap_(e,n):Yu(e)?Ar("MapSet").proxySet_(e,n):$2(e,n);return(n?n.scope_:G0()).drafts_.push(i),i}function W2(e){return di(e)||Qt(10,e),V0(e)}function V0(e){if(!Cr(e)||Xu(e))return e;const n=e[kt];let i;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,i=zc(e,n.scope_.immer_.useStrictShallowCopy_)}else i=zc(e,!0);return Ji(i,(u,s)=>{q0(i,u,V0(s))}),n&&(n.finalized_=!1),i}var Lt=new H2,Wn=Lt.produce;Lt.produceWithPatches.bind(Lt);Lt.setAutoFreeze.bind(Lt);Lt.setUseStrictShallowCopy.bind(Lt);Lt.applyPatches.bind(Lt);Lt.createDraft.bind(Lt);Lt.finishDraft.bind(Lt);function Y0(e){const n=N.createContext(e),i=N.createContext(()=>{});function u({children:a}){const[l,f]=P2(e),d=gt(y=>{f(m=>typeof y=="function"?Wn(m,y):{...m,...y})});return p.jsx(i.Provider,{value:d,children:p.jsx(n.Provider,{value:l,children:a})})}function s(){return[N.useContext(n),N.useContext(i)]}return{Provider:u,useStore:s}}var X0={exports:{}},Z0={},J0={exports:{}},Q0={};var hi=N;function q2(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var G2=typeof Object.is=="function"?Object.is:q2,K2=hi.useState,V2=hi.useEffect,Y2=hi.useLayoutEffect,X2=hi.useDebugValue;function Z2(e,n){var i=n(),u=K2({inst:{value:i,getSnapshot:n}}),s=u[0].inst,a=u[1];return Y2(function(){s.value=i,s.getSnapshot=n,rl(s)&&a({inst:s})},[e,i,n]),V2(function(){return rl(s)&&a({inst:s}),e(function(){rl(s)&&a({inst:s})})},[e]),X2(i),i}function rl(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!G2(e,i)}catch{return!0}}function J2(e,n){return n()}var Q2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?J2:Z2;Q0.useSyncExternalStore=hi.useSyncExternalStore!==void 0?hi.useSyncExternalStore:Q2;J0.exports=Q0;var eE=J0.exports;var Zu=N,tE=eE;function nE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var rE=typeof Object.is=="function"?Object.is:nE,iE=tE.useSyncExternalStore,oE=Zu.useRef,uE=Zu.useEffect,aE=Zu.useMemo,sE=Zu.useDebugValue;Z0.useSyncExternalStoreWithSelector=function(e,n,i,u,s){var a=oE(null);if(a.current===null){var l={hasValue:!1,value:null};a.current=l}else l=a.current;a=aE(function(){function d(A){if(!y){if(y=!0,m=A,A=u(A),s!==void 0&&l.hasValue){var S=l.value;if(s(S,A))return h=S}return h=A}if(S=h,rE(m,A))return S;var E=u(A);return s!==void 0&&s(S,E)?(m=A,S):(m=A,h=E)}var y=!1,m,h,v=i===void 0?null:i;return[function(){return d(n())},v===null?void 0:function(){return d(v())}]},[n,i,u,s]);var f=iE(e,a[0],a[1]);return uE(function(){l.hasValue=!0,l.value=f},[f]),sE(f),f};X0.exports=Z0;var lE=X0.exports;const cE=uo(lE),yg=e=>{let n;const i=new Set,u=(m,h)=>{const v=typeof m=="function"?m(n):m;if(!Object.is(v,n)){const A=n;n=h??(typeof v!="object"||v===null)?v:Object.assign({},n,v),i.forEach(S=>S(n,A))}},s=()=>n,d={setState:u,getState:s,getInitialState:()=>y,subscribe:m=>(i.add(m),()=>i.delete(m)),destroy:()=>{i.clear()}},y=n=e(u,s,d);return d},fE=e=>e?yg(e):yg,{useDebugValue:dE}=Du,{useSyncExternalStoreWithSelector:hE}=cE,gE=e=>e;function pE(e,n=gE,i){const u=hE(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,i);return dE(u),u}const _g=(e,n)=>{const i=fE(e),u=(s,a=n)=>pE(i,s,a);return Object.assign(u,i),u},mE=(e,n)=>e?_g(e,n):_g;function vE(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[u,s]of e)if(!Object.is(s,n.get(u)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const u of e)if(!n.has(u))return!1;return!0}const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!1;for(const u of i)if(!Object.prototype.hasOwnProperty.call(n,u)||!Object.is(e[u],n[u]))return!1;return!0}const yE=e=>(n,i,u)=>{const s=u.subscribe;return u.subscribe=(l,f,d)=>{let y=l;if(f){const m=(d==null?void 0:d.equalityFn)||Object.is;let h=l(u.getState());y=v=>{const A=l(v);if(!m(h,A)){const S=h;f(h=A,S)}},d!=null&&d.fireImmediately&&f(h,h)}return s(y)},e(n,i,u)},_E=yE;function em(e,n){let i;try{i=e()}catch{return}return{getItem:s=>{var a;const l=d=>d===null?null:JSON.parse(d,n==null?void 0:n.reviver),f=(a=i.getItem(s))!=null?a:null;return f instanceof Promise?f.then(l):l(f)},setItem:(s,a)=>i.setItem(s,JSON.stringify(a,n==null?void 0:n.replacer)),removeItem:s=>i.removeItem(s)}}const to=e=>n=>{try{const i=e(n);return i instanceof Promise?i:{then(u){return to(u)(i)},catch(u){return this}}}catch(i){return{then(u){return this},catch(u){return to(u)(i)}}}},wE=(e,n)=>(i,u,s)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:I=>I,version:0,merge:(I,q)=>({...q,...I}),...n},l=!1;const f=new Set,d=new Set;let y;try{y=a.getStorage()}catch{}if(!y)return e((...I)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),i(...I)},u,s);const m=to(a.serialize),h=()=>{const I=a.partialize({...u()});let q;const j=m({state:I,version:a.version}).then(oe=>y.setItem(a.name,oe)).catch(oe=>{q=oe});if(q)throw q;return j},v=s.setState;s.setState=(I,q)=>{v(I,q),h()};const A=e((...I)=>{i(...I),h()},u,s);let S;const E=()=>{var I;if(!y)return;l=!1,f.forEach(j=>j(u()));const q=((I=a.onRehydrateStorage)==null?void 0:I.call(a,u()))||void 0;return to(y.getItem.bind(y))(a.name).then(j=>{if(j)return a.deserialize(j)}).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==a.version){if(a.migrate)return a.migrate(j.state,j.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return j.state}).then(j=>{var oe;return S=a.merge(j,(oe=u())!=null?oe:A),i(S,!0),h()}).then(()=>{q==null||q(S,void 0),l=!0,d.forEach(j=>j(S))}).catch(j=>{q==null||q(void 0,j)})};return s.persist={setOptions:I=>{a={...a,...I},I.getStorage&&(y=I.getStorage())},clearStorage:()=>{y==null||y.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>E(),hasHydrated:()=>l,onHydrate:I=>(f.add(I),()=>{f.delete(I)}),onFinishHydration:I=>(d.add(I),()=>{d.delete(I)})},E(),S||A},bE=(e,n)=>(i,u,s)=>{let a={storage:em(()=>localStorage),partialize:E=>E,version:0,merge:(E,I)=>({...I,...E}),...n},l=!1;const f=new Set,d=new Set;let y=a.storage;if(!y)return e((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),i(...E)},u,s);const m=()=>{const E=a.partialize({...u()});return y.setItem(a.name,{state:E,version:a.version})},h=s.setState;s.setState=(E,I)=>{h(E,I),m()};const v=e((...E)=>{i(...E),m()},u,s);s.getInitialState=()=>v;let A;const S=()=>{var E,I;if(!y)return;l=!1,f.forEach(j=>{var oe;return j((oe=u())!=null?oe:v)});const q=((I=a.onRehydrateStorage)==null?void 0:I.call(a,(E=u())!=null?E:v))||void 0;return to(y.getItem.bind(y))(a.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==a.version){if(a.migrate)return[!0,a.migrate(j.state,j.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var oe;const[ue,L]=j;if(A=a.merge(L,(oe=u())!=null?oe:v),i(A,!0),ue)return m()}).then(()=>{q==null||q(A,void 0),A=u(),l=!0,d.forEach(j=>j(A))}).catch(j=>{q==null||q(void 0,j)})};return s.persist={setOptions:E=>{a={...a,...E},E.storage&&(y=E.storage)},clearStorage:()=>{y==null||y.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>S(),hasHydrated:()=>l,onHydrate:E=>(f.add(E),()=>{f.delete(E)}),onFinishHydration:E=>(d.add(E),()=>{d.delete(E)})},a.skipHydration||S(),A||v},xE=(e,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?wE(e,n):bE(e,n),SE=xE,EE=e=>(n,i,u)=>(u.setState=(s,a,...l)=>{const f=typeof s=="function"?Wn(s):s;return n(f,a,...l)},e(u.setState,i,u)),CE=EE;function yf(e,{persist:n}={}){let i=_E(CE(()=>e));n&&(i=SE(i,n));const u=mE()(i,vE);return{store:u,useStore:()=>{const a=u(({...d})=>d),l=gt(d=>{u.setState(d,!1)}),f=gt(()=>{l(e)});return[a,l,f]}}}function Ju(e,n){for(const i of e.childNodes)Ju(i,n);n(e)}const AE=Object.freeze(Object.defineProperty({__proto__:null,Deferred:D0,convertToEntityList:rS,copyFile:jc,copyText:Yi,createEntityCollection:Ir,createTinyStore:Y0,createZustandStore:yf,dateFormat:lo,decrypt:O0,delay:Pu,downloadFile:Mc,encrypt:R0,escapeRegExp:iS,loadScript:F0,localStore:Er,parseStringAsDom:Wu,traverseDomBottomUp:Ju},Symbol.toStringTag,{value:"Module"})),IE=["\u30D2\u30E9\u30AE\u30CE\u89D2\u30B4 ProN","Hiragino Kaku Gothic ProN","\u6E38\u30B4\u30B7\u30C3\u30AF","\u6E38\u30B4\u30B7\u30C3\u30AF\u4F53","YuGothic","Yu Gothic","\u30E1\u30A4\u30EA\u30AA","Meiryo","\uFF2D\uFF33 \u30B4\u30B7\u30C3\u30AF","MS Gothic","HiraKakuProN-W3","TakaoEx\u30B4\u30B7\u30C3\u30AF","TakaoExGothic","MotoyaLCedar","Droid Sans Japanese","sans-serif"].map(e=>`"${e}"`).join(", ");var Ve=(e=>(e.YUMINCHO="yumincho",e.YUMINCHO_36P_KANA="yumincho-36p-kana",e.HIRAGINO_MINCHO_PRON="hiragino-mincho-pron",e.YUKYOKASHO="yukyokasho",e.YUKYOKASHO_YOKO="yukyokasho-yoko",e.KLEE="klee",e.HIRAGINO_SANS="hiragino-sans",e.HIRAGINO_SANS_GB="hiragino-sans-gb",e.TOPPAN_BUNKYU_GOTHIC="toppan-bunkyu-gothic",e.TOPPAN_BUNKYU_MIDASHI_GOTHIC="toppan-bunkyu-midashi-gothic",e.TOPPAN_BUNKYU_MINCHO="toppan-bunkyu-mincho",e.TOPPAN_BUNKYU_MIDASHI_MINCHO="toppan-bunkyu-midashi-mincho",e.HIRAGINO_MARU_GOTHIC_PRON="hiragino-maru-gothic-pron",e.TSUKUSHI_A_ROUND_GOTHIC="tsukushi-a-round-gothic",e.TSUKUSHI_B_ROUND_GOTHIC="tsukushi-b-round-gothic",e.BIZ_UD_GOTHIC="biz-ud-gothic",e.BIZ_UD_MINCHO="biz-ud-mincho",e.OSAKA="osaka",e.SONGTI_SC="songti-sc",e.SONGTI_KING_HWA="songti-king-hwa",e.KAITI_SC="kaiti-sc",e.KAITI_JIN="kaiti-jin",e.SONGTI_YUE="songti-yue",e.BAOLI_SC="baoli-sc",e.HEITI_LAN="heiti-lan",e.PINGFANG_SC="pingfang-sc",e.PMING_LIU_TW="pming-liu-tw",e.LI_SONG_PRO="li-song-pro",e.LI_HEI_PRO="li-hei-pro",e.SOURCE_HAN_TW="source-han-tw",e.SOURCE_HAN_TW_LIGHT="source-han-tw-light",e))(Ve||{});const tm=[{value:"yumincho",label:"\u6E38\u660E\u671D\u4F53"},{value:"yumincho-36p-kana",label:"\u6E38\u660E\u671D\u4F53 +36\u30DD \u304B\u306A"},{value:"hiragino-mincho-pron",label:"\u30D2\u30E9\u30AE\u30CE \u660E\u671D ProN"},{value:"yukyokasho",label:"\u6E38\u6559\u79D1\u66F8\u4F53"},{value:"yukyokasho-yoko",label:"\u6E38\u6559\u79D1\u66F8\u4F53\u6A2A\u7528"},{value:"klee",label:"KLEE (\u624B\u5199\u4F53)"},{value:"hiragino-sans",label:"\u50B3\u7D71\u9ED1\u9AD4"},{value:"hiragino-sans-gb",label:"\u50B3\u7D71\u9ED1\u9AD4 (GB)"},{value:"toppan-bunkyu-gothic",label:"\u51F8\u7248\u6587\u4E45\u9ED1\u4F53"},{value:"toppan-bunkyu-midashi-gothic",label:"\u51F8\u7248\u6587\u4E45\u9ED1\u4F53 (\u7C97)"},{value:"toppan-bunkyu-mincho",label:"\u51F8\u7248\u6587\u4E45\u660E\u671D\u4F53"},{value:"toppan-bunkyu-midashi-mincho",label:"\u51F8\u7248\u6587\u4E45\u660E\u671D\u4F53 (\u7C97)"},{value:"hiragino-maru-gothic-pron",label:"\u30D2\u30E9\u30AE\u30CE \u4E38\u30B4 ProN"},{value:"tsukushi-a-round-gothic",label:"\u7B51\u7D2B A \u4E38"},{value:"tsukushi-b-round-gothic",label:"\u7B51\u7D2B B \u4E38"},{value:"biz-ud-gothic",label:"\u68EE\u6CFD BIZ UD Gothic"},{value:"biz-ud-mincho",label:"\u68EE\u6CFD BIZ UD Mincho"},{value:"osaka",label:"\u5927\u962A"},{value:"songti-sc",label:"\u5B8B\u4F53 (\u7B80)"},{value:"songti-king-hwa",label:"\u5B8B\u4F53 (\u4EAC\u534E)"},{value:"kaiti-sc",label:"\u6977\u4F53 (\u7B80)"},{value:"kaiti-jin",label:"\u6977\u4F53 (\u4ECA)"},{value:"songti-yue",label:"\u5B8B\u4F53 (\u60A6)"},{value:"heiti-lan",label:"\u9ED1\u4F53 (\u5170)"},{value:"pingfang-sc",label:"\u82F9\u65B9 (\u7B80)"},{value:"pming-liu-tw",label:"\u81FA\u7063\u65B0\u7D30\u660E\u9AD4 (\u7E41)"},{value:"li-song-pro",label:"\u5137\u5B8B Pro (\u7E41)"},{value:"li-hei-pro",label:"\u5137\u9ED1 Pro (\u7E41)"},{value:"source-han-tw",label:"\u601D\u6E90\u5B8B\u9AD4 (\u7E41)"},{value:"source-han-tw-light",label:"\u601D\u6E90\u7D30\u5B8B (\u7E41)"}].map(e=>({...e,label:p.jsx("div",{style:{fontFamily:e.value},children:e.label})}));Ir(tm,e=>e.value);var br=(e=>(e[e.MIN=12]="MIN",e[e.DEFAULT=18]="DEFAULT",e[e.MAX=72]="MAX",e))(br||{}),oi=(e=>(e[e.MIN=12]="MIN",e[e.DEFAULT=16]="DEFAULT",e[e.MAX=32]="MAX",e))(oi||{}),TE=N.createContext({});const nm=TE;var wu=2,wg=.16,DE=.05,RE=.05,OE=.15,rm=5,im=4,FE=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function bg(e){var n=e.r,i=e.g,u=e.b,s=lx(n,i,u);return{h:s.h*360,s:s.s,v:s.v}}function bu(e){var n=e.r,i=e.g,u=e.b;return"#".concat(cx(n,i,u,!1))}function BE(e,n,i){var u=i/100,s={r:(n.r-e.r)*u+e.r,g:(n.g-e.g)*u+e.g,b:(n.b-e.b)*u+e.b};return s}function xg(e,n,i){var u;return Math.round(e.h)>=60&&Math.round(e.h)<=240?u=i?Math.round(e.h)-wu*n:Math.round(e.h)+wu*n:u=i?Math.round(e.h)+wu*n:Math.round(e.h)-wu*n,u<0?u+=360:u>=360&&(u-=360),u}function Sg(e,n,i){if(e.h===0&&e.s===0)return e.s;var u;return i?u=e.s-wg*n:n===im?u=e.s+wg:u=e.s+DE*n,u>1&&(u=1),i&&n===rm&&u>.1&&(u=.1),u<.06&&(u=.06),Number(u.toFixed(2))}function Eg(e,n,i){var u;return i?u=e.v+RE*n:u=e.v-OE*n,u>1&&(u=1),Number(u.toFixed(2))}function qc(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=[],u=$i(e),s=rm;s>0;s-=1){var a=bg(u),l=bu($i({h:xg(a,s,!0),s:Sg(a,s,!0),v:Eg(a,s,!0)}));i.push(l)}i.push(bu(u));for(var f=1;f<=im;f+=1){var d=bg(u),y=bu($i({h:xg(d,f),s:Sg(d,f),v:Eg(d,f)}));i.push(y)}return n.theme==="dark"?FE.map(function(m){var h=m.index,v=m.opacity,A=bu(BE($i(n.backgroundColor||"#141414"),$i(i[h]),v*100));return A}):i}var il={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Eu={},ol={};Object.keys(il).forEach(function(e){Eu[e]=qc(il[e]),Eu[e].primary=Eu[e][5],ol[e]=qc(il[e],{theme:"dark",backgroundColor:"#141414"}),ol[e].primary=ol[e][5]});var PE=Eu.blue;function om(e){var n;return e==null||(n=e.getRootNode)===null||n===void 0?void 0:n.call(e)}function jE(e){return om(e)instanceof ShadowRoot}function ME(e){return jE(e)?om(e):null}function kE(e){return e.replace(/-(.)/g,function(n,i){return i.toUpperCase()})}function LE(e,n){fx(e,"[@ant-design/icons] ".concat(n))}function Cg(e){return Gh(e)==="object"&&typeof e.name=="string"&&typeof e.theme=="string"&&(Gh(e.icon)==="object"||typeof e.icon=="function")}function Ag(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(n,i){var u=e[i];switch(i){case"class":n.className=u,delete n.class;break;default:delete n[i],n[kE(i)]=u}return n},{})}function Gc(e,n,i){return i?Du.createElement(e.tag,Vn(Vn({key:n},Ag(e.attrs)),i),(e.children||[]).map(function(u,s){return Gc(u,"".concat(n,"-").concat(e.tag,"-").concat(s))})):Du.createElement(e.tag,Vn({key:n},Ag(e.attrs)),(e.children||[]).map(function(u,s){return Gc(u,"".concat(n,"-").concat(e.tag,"-").concat(s))}))}function um(e){return qc(e)[0]}function am(e){return e?Array.isArray(e)?e:[e]:[]}var NE=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,zE=function(n){var i=N.useContext(nm),u=i.csp,s=i.prefixCls,a=NE;s&&(a=a.replace(/anticon/g,s)),N.useEffect(function(){var l=n.current,f=ME(l);dx(a,"@ant-design-icons",{prepend:!0,csp:u,attachTo:f})},[])},$E=["icon","className","onClick","style","primaryColor","secondaryColor"],Xi={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function UE(e){var n=e.primaryColor,i=e.secondaryColor;Xi.primaryColor=n,Xi.secondaryColor=i||um(n),Xi.calculated=!!i}function HE(){return Vn({},Xi)}var Qu=function(n){var i=n.icon,u=n.className,s=n.onClick,a=n.style,l=n.primaryColor,f=n.secondaryColor,d=h0(n,$E),y=N.useRef(),m=Xi;if(l&&(m={primaryColor:l,secondaryColor:f||um(l)}),zE(y),LE(Cg(i),"icon should be icon definiton, but got ".concat(i)),!Cg(i))return null;var h=i;return h&&typeof h.icon=="function"&&(h=Vn(Vn({},h),{},{icon:h.icon(m.primaryColor,m.secondaryColor)})),Gc(h.icon,"svg-".concat(h.name),Vn(Vn({className:u,onClick:s,style:a,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},d),{},{ref:y}))};Qu.displayName="IconReact";Qu.getTwoToneColors=HE;Qu.setTwoToneColors=UE;const _f=Qu;function sm(e){var n=am(e),i=g0(n,2),u=i[0],s=i[1];return _f.setTwoToneColors({primaryColor:u,secondaryColor:s})}function WE(){var e=_f.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor}var qE=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];sm(PE.primary);var ea=N.forwardRef(function(e,n){var i,u=e.className,s=e.icon,a=e.spin,l=e.rotate,f=e.tabIndex,d=e.onClick,y=e.twoToneColor,m=h0(e,qE),h=N.useContext(nm),v=h.prefixCls,A=v===void 0?"anticon":v,S=h.rootClassName,E=Xn(S,A,(i={},Kh(i,"".concat(A,"-").concat(s.name),!!s.name),Kh(i,"".concat(A,"-spin"),!!a||s.name==="loading"),i),u),I=f;I===void 0&&d&&(I=-1);var q=l?{msTransform:"rotate(".concat(l,"deg)"),transform:"rotate(".concat(l,"deg)")}:void 0,j=am(y),oe=g0(j,2),ue=oe[0],L=oe[1];return N.createElement("span",it({role:"img","aria-label":s.name},m,{ref:n,tabIndex:I,onClick:d,className:E}),N.createElement(_f,{icon:s,primaryColor:ue,secondaryColor:L,style:q}))});ea.displayName="AntdIcon";ea.getTwoToneColor=WE;ea.setTwoToneColor=sm;const st=ea;var GE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};const KE=GE;var VE=function(n,i){return N.createElement(st,it({},n,{ref:i,icon:KE}))};const YE=N.forwardRef(VE);var XE={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};const ZE=XE;var JE=function(n,i){return N.createElement(st,it({},n,{ref:i,icon:ZE}))};const lm=N.forwardRef(JE);var QE={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};const e6=QE;var t6=function(n,i){return N.createElement(st,it({},n,{ref:i,icon:e6}))};const n6=N.forwardRef(t6);var r6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 416H616c-4.4 0-8 3.6-8 8v112c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-56h60v320h-46c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h164c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8h-46V480h60v56c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V424c0-4.4-3.6-8-8-8zM656 296V168c0-4.4-3.6-8-8-8H104c-4.4 0-8 3.6-8 8v128c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-64h168v560h-92c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-92V232h168v64c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8z"}}]},name:"font-size",theme:"outlined"};const i6=r6;var o6=function(n,i){return N.createElement(st,it({},n,{ref:i,icon:i6}))};const yr=N.forwardRef(o6);var u6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]},name:"fullscreen-exit",theme:"outlined"};const a6=u6;var s6=function(n,i){return N.createElement(st,it({},n,{ref:i,icon:a6}))};const l6=N.forwardRef(s6);var c6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"};const f6=c6;var d6=function(n,i){return N.createElement(st,it({},n,{ref:i,icon:f6}))};const h6=N.forwardRef(d6);var g6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M365.3 518.5l246 178c5.3 3.8 12.7 0 12.7-6.5v-46.9c0-10.2-4.9-19.9-13.2-25.9L465.4 512l145.4-105.2c8.3-6 13.2-15.6 13.2-25.9V334c0-6.5-7.4-10.3-12.7-6.5l-246 178a8.05 8.05 0 000 13z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"left-square",theme:"outlined"};const p6=g6;var m6=function(n,i){return N.createElement(st,it({},n,{ref:i,icon:p6}))};const v6=N.forwardRef(m6);var y6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"};const _6=y6;var w6=function(n,i){return N.createElement(st,it({},n,{ref:i,icon:_6}))};const b6=N.forwardRef(w6);var x6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};const S6=x6;var E6=function(n,i){return N.createElement(st,it({},n,{ref:i,icon:S6}))};const C6=N.forwardRef(E6);var A6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const I6=A6;var T6=function(n,i){return N.createElement(st,it({},n,{ref:i,icon:I6}))};const wf=N.forwardRef(T6);var D6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 708c-22.1 0-40-17.9-40-40s17.9-40 40-40 40 17.9 40 40-17.9 40-40 40zm62.9-219.5a48.3 48.3 0 00-30.9 44.8V620c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-21.5c0-23.1 6.7-45.9 19.9-64.9 12.9-18.6 30.9-32.8 52.1-40.9 34-13.1 56-41.6 56-72.7 0-44.1-43.1-80-96-80s-96 35.9-96 80v7.6c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V420c0-39.3 17.2-76 48.4-103.3C430.4 290.4 470 276 512 276s81.6 14.5 111.6 40.7C654.8 344 672 380.7 672 420c0 57.8-38.1 109.8-97.1 132.5z"}}]},name:"question-circle",theme:"filled"};const R6=D6;var O6=function(n,i){return N.createElement(st,it({},n,{ref:i,icon:R6}))};const F6=N.forwardRef(O6);var B6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"};const P6=B6;var j6=function(n,i){return N.createElement(st,it({},n,{ref:i,icon:P6}))};const M6=N.forwardRef(j6);var k6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M412.7 696.5l246-178c4.4-3.2 4.4-9.7 0-12.9l-246-178c-5.3-3.8-12.7 0-12.7 6.5V381c0 10.2 4.9 19.9 13.2 25.9L558.6 512 413.2 617.2c-8.3 6-13.2 15.6-13.2 25.9V690c0 6.5 7.4 10.3 12.7 6.5z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"right-square",theme:"outlined"};const L6=k6;var N6=function(n,i){return N.createElement(st,it({},n,{ref:i,icon:L6}))};const z6=N.forwardRef(N6);var $6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"};const U6=$6;var H6=function(n,i){return N.createElement(st,it({},n,{ref:i,icon:U6}))};const Cu=N.forwardRef(H6);var W6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512.5 390.6c-29.9 0-57.9 11.6-79.1 32.8-21.1 21.2-32.8 49.2-32.8 79.1 0 29.9 11.7 57.9 32.8 79.1 21.2 21.1 49.2 32.8 79.1 32.8 29.9 0 57.9-11.7 79.1-32.8 21.1-21.2 32.8-49.2 32.8-79.1 0-29.9-11.7-57.9-32.8-79.1a110.96 110.96 0 00-79.1-32.8zm412.3 235.5l-65.4-55.9c3.1-19 4.7-38.4 4.7-57.7s-1.6-38.8-4.7-57.7l65.4-55.9a32.03 32.03 0 009.3-35.2l-.9-2.6a442.5 442.5 0 00-79.6-137.7l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.2 28.9c-30-24.6-63.4-44-99.6-57.5l-15.7-84.9a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52-9.4-106.8-9.4-158.8 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.3a353.44 353.44 0 00-98.9 57.3l-81.8-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a445.93 445.93 0 00-79.6 137.7l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.2 56.5c-3.1 18.8-4.6 38-4.6 57 0 19.2 1.5 38.4 4.6 57l-66 56.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.3 44.8 96.8 79.6 137.7l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.8-29.1c29.8 24.5 63 43.9 98.9 57.3l15.8 85.3a32.05 32.05 0 0025.8 25.7l2.7.5a448.27 448.27 0 00158.8 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-84.9c36.2-13.6 69.6-32.9 99.6-57.5l81.2 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.5-87.4 79.6-137.7l.9-2.6c4.3-12.4.6-26.3-9.5-35zm-412.3 52.2c-97.1 0-175.8-78.7-175.8-175.8s78.7-175.8 175.8-175.8 175.8 78.7 175.8 175.8-78.7 175.8-175.8 175.8z"}}]},name:"setting",theme:"filled"};const q6=W6;var G6=function(n,i){return N.createElement(st,it({},n,{ref:i,icon:q6}))};const K6=N.forwardRef(G6);var V6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const Y6=V6;var X6=function(n,i){return N.createElement(st,it({},n,{ref:i,icon:Y6}))};const Z6=N.forwardRef(X6);var pe=(e=>(e.TITLE="title",e.BOLD="bold",e.HIGHLIGHT="highlight",e.HIGHLIGHT_L2="highlight-2",e.DIMMED="dimmed",e.FLUORESCENT="fluorescent",e.FILL="fill",e.STROKE="stroke",e.UNDERLINE_SOLID="underline-solid",e.UNDERLINE_DASHED="underline-dashed",e.UNDERLINE_DOTTED="underline-dotted",e.UNDERLINE_WAVY="underline-wavy",e.UNDERLINE_MARK="underline-mark",e.LINE_THROUGH="line-through",e.SIDELINE_SOLID="sideline-solid",e.EMPHASIS="emphasis",e.COMBINE_UPRIGHT="combine-upright",e.SHADOW_TOGGLER="shadow-toggler",e.FONT_SIZE_INCR_2PX="font-size-incr-2px",e.FONT_SIZE_INCR_4PX="font-size-incr-4px",e.FONT_SIZE_INCR_6PX="font-size-incr-6px",e.FONT_SIZE_DECR_2PX="font-size-decr-2px",e.FONT_SIZE_DECR_4PX="font-size-decr-4px",e.FONT_SIZE_DECR_6PX="font-size-decr-6px",e.NO_HURIGANA="no-hurigana",e.CUSTOM_HURIGANA="custom-hurigana",e.ZH_SONG_SC="zh-song-sc",e.ZH_KAITI_SC="zh-kaiti-sc",e.ZH_KAITI_JIN="zh-kaiti-jin",e.ZH_BAOLI_SC="zh-baoli-sc",e.ZH_SONGTI_YUE="zh-songti-yue",e.ZH_HEITI_LAN="zh-heiti-lan",e.ZH_PINGFANG_SC="zh-pingfang-sc",e.ZH_SONG_KING_HWA="zh-song-king-hwa",e.PMING_LIU_TW="zh-pming-liu-tw",e.ZH_SONG_TC="zh-song-tc",e.ZH_HEI_TC="zh-hei-tc",e.ZH_SOURCE_HAN_TW="zh-source-han-tw",e.ZH_SOURCE_HAN_TW_LIGHT="zh-source-han-tw-light",e.JA_YUMINCHO="ja-yumincho",e.JA_YUMINCHO_36P_KANA="ja-yumincho-36p-kana",e.JA_TOPPAN_BUNKYU_MIDASHI_GOTHIC="ja-toppan-bunkyu-midashi-gothic",e.JA_TOPPAN_BUNKYU_MIDASHI_MINCHO="ja-toppan-bunkyu-midashi-mincho",e.JA_YUKYOKASHO="ja-yukyokasho",e))(pe||{});const J6=[{group:1,value:"title",mark:"\uFE5F",markClass:"text-title",icon:p.jsx(yr,{style:{fontSize:16,color:"var(--preview-highlight-color)"}}),tooltips:{add:"\u6807\u9898\u5316",remove:"\u53BB\u6807\u9898\u5316"}},{group:1,value:"bold",mark:"\uFE61",markClass:"text-bold",icon:p.jsx(p.Fragment,{children:"B"}),tooltips:{add:"\u6587\u5B57\u52A0\u7C97",remove:"\u53D6\u6D88\u6587\u5B57\u52A0\u7C97"}},{group:1,value:"highlight",mark:"\u2042",markClass:"text-highlight",icon:p.jsx("span",{style:{color:"var(--preview-highlight-color)"},children:"H\xB9"}),tooltips:{add:"\u6587\u5B57\u9AD8\u4EAE (L1)",remove:"\u53D6\u6D88\u6587\u5B57\u9AD8\u4EAE"}},{group:1,value:"highlight-2",mark:"\u2363",markClass:"text-highlight-2",icon:p.jsx("span",{style:{color:"var(--preview-highlight-color-2)"},children:"H\xB2"}),tooltips:{add:"\u6587\u5B57\u9AD8\u4EAE (L2)",remove:"\u53D6\u6D88\u6587\u5B57\u9AD8\u4EAE"}},{group:1,value:"dimmed",mark:"\u2304",markClass:"text-dimmed",icon:p.jsx("span",{style:{opacity:.65},children:"D"}),tooltips:{add:"\u6587\u5B57\u534A\u900F\u660E",remove:"\u53D6\u6D88\u6587\u5B57\u534A\u900F\u660E"}},{group:1,value:"fluorescent",mark:"\u203C",markClass:"text-fluorescent",icon:p.jsx("span",{style:{padding:"0 5px",backgroundColor:"var(--preview-fluorescent-color)"},children:"Y"}),tooltips:{add:"\u6DFB\u52A0\u8367\u5149\u80CC\u666F",remove:"\u79FB\u9664\u8367\u5149\u80CC\u666F"}},{group:1,value:"fill",mark:"\u2051",markClass:"text-fill",icon:p.jsx("span",{style:{padding:"0 6px",color:"var(--preview-highlight-invert-color)",backgroundColor:"var(--preview-highlight-color)"},children:"F"}),tooltips:{add:"\u6DFB\u52A0\u5B9E\u4F53\u80CC\u666F",remove:"\u79FB\u9664\u6587\u5B57\u80CC\u666F"}},{group:1,value:"stroke",mark:"\u29E0",markClass:"text-stroke",icon:p.jsx("span",{style:{padding:"0 6px",outline:"1.5px solid var(--preview-text-stroke-color)"},children:"S"}),tooltips:{add:"\u6DFB\u52A0\u6587\u5B57\u63CF\u8FB9",remove:"\u79FB\u9664\u6587\u5B57\u63CF\u8FB9"}},{group:1,value:"underline-solid",mark:"\uFF3F",markClass:"text-underline text-underline-solid",icon:p.jsx("span",{className:"icon-text icon-text-underline",children:"T"}),tooltips:{add:"\u6DFB\u52A0\u4E0B\u5212\u7EBF (\u5B9E\u7EBF)",remove:"\u79FB\u9664\u6587\u5B57\u4E0B\u5212\u7EBF (\u5B9E\u7EBF)"}},{group:1,value:"underline-dashed",mark:"\uFE4D",markClass:"text-underline text-underline-dashed",icon:p.jsx("span",{className:"icon-text icon-text-underline-dashed",children:"T"}),tooltips:{add:"\u6DFB\u52A0\u4E0B\u5212\u7EBF (\u865A\u7EBF)",remove:"\u79FB\u9664\u4E0B\u5212\u7EBF (\u865A\u7EBF)"}},{group:1,value:"underline-dotted",mark:"\uFE4E",markClass:"text-underline text-underline-dotted",icon:p.jsx("span",{className:"icon-text icon-text-underline-dotted",children:"T"}),tooltips:{add:"\u6DFB\u52A0\u4E0B\u5212\u7EBF (\u70B9\u7EBF)",remove:"\u79FB\u9664\u4E0B\u5212\u7EBF (\u70B9\u7EBF)"}},{group:1,value:"underline-wavy",mark:"\uFE4F",markClass:"text-wavy",icon:p.jsx("span",{className:"icon-text icon-text-underline-wavy",children:"T"}),tooltips:{add:"\u6DFB\u52A0\u4E0B\u5212\u7EBF (\u6CE2\u6D6A\u7EBF)",remove:"\u79FB\u9664\u4E0B\u5212\u7EBF (\u6CE2\u6D6A\u7EBF)"}},{group:1,value:"underline-mark",mark:"\u208C\u208C",markClass:"text-underline-mark",icon:p.jsx("span",{className:"icon-text icon-text-underline-mark",children:"T"}),tooltips:{add:"\u6DFB\u52A0\u4E0B\u5212\u7EBF (\u8367\u5149\u7EBF)",remove:"\u79FB\u9664\u4E0B\u5212\u7EBF (\u8367\u5149\u7EBF)"}},{group:1,value:"line-through",mark:"\u207B\u207B",markClass:"text-line-through",icon:p.jsx("span",{className:"icon-text icon-text-line-through",children:"T"}),tooltips:{add:"\u6DFB\u52A0\u5220\u9664\u7EBF",remove:"\u79FB\u9664\u5220\u9664\u7EBF"}},{group:1,value:"sideline-solid",mark:"\uFF5C",markClass:"text-sideline",icon:p.jsx("span",{className:"icon-text icon-text-sideline",children:"T"}),tooltips:{add:"\u6DFB\u52A0\u65C1\u7EBF",remove:"\u79FB\u9664\u65C1\u7EBF"}},{group:1,value:"emphasis",mark:"\uFE45",markClass:"text-emphasis",icon:p.jsx("span",{className:"icon-text icon-text-emphasis",children:"T"}),tooltips:{add:"\u6DFB\u52A0\u5F3A\u8C03\u6807\u8BB0",remove:"\u79FB\u9664\u5F3A\u8C03\u6807\u8BB0"}},{group:1,value:"combine-upright",mark:["\u2191\u207D","\u207E\u2191"],markClass:"text-combine-upright",icon:p.jsx("span",{className:"icon-text icon-text-combine-upright",children:"T"}),tooltips:{add:"\u6DFB\u52A0\u6587\u5B57\u7EC4\u5408\u76F4\u7ACB\u6807\u8BB0",remove:"\u79FB\u9664\u6587\u5B57\u7EC4\u5408\u76F4\u7ACB\u6807\u8BB0"}},{group:1,value:"shadow-toggler",mark:"\u271E",markClass:"text-shadow-toggler",icon:p.jsx("span",{className:"icon-text icon-text-shadow-toggler",children:"T"}),tooltips:{add:"\u6DFB\u52A0\u6587\u5B57\u9634\u5F71\u5207\u6362\u5F00\u5173",remove:"\u79FB\u9664\u6587\u5B57\u9634\u5F71\u5207\u6362\u5F00\u5173"}},{group:1,value:"no-hurigana",mark:"\u16A6",markClass:"text-no-hurigana",icon:p.jsx("span",{style:{textDecoration:"line-through",textDecorationColor:"var(--preview-text-delete-color)"},children:"\u304B"}),tooltips:{add:"\u6DFB\u52A0\u4E0D\u6807\u6CE8\u5047\u540D\u8BB0\u53F7",remove:"\u79FB\u9664\u4E0D\u6807\u6CE8\u5047\u540D\u8BB0\u53F7"}},{group:1,value:"custom-hurigana",mark:"\u2365",markClass:"text-custom-hurigana",icon:p.jsx("span",{style:{border:"1px dashed var(--preview-text-delete-color)",borderRadius:"50%",padding:"0 2px"},children:"\u304B"}),tooltips:{add:"\u6DFB\u52A0\u5206\u7EC4\u5047\u540D\u6807\u6CE8\u8BB0\u53F7",remove:"\u79FB\u9664\u5206\u7EC4\u5047\u540D\u6807\u6CE8\u8BB0\u53F7"}},{group:2,value:"zh-song-sc",mark:["\u207D\u32A5\u2776","\u32A5\u2776\u207E"],markClass:"text-song-sc",icon:p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{fontFamily:`"${Ve.SONGTI_SC}"`},children:"\u5B8B"}),p.jsx("sup",{style:{fontSize:9},children:"\u7B80"}),p.jsx("sub",{style:{fontSize:9,position:"relative",left:-9},children:"\u2776"})]}),tooltips:{add:"\u7528\u5B8B\u4F53 (\u7B80) \u5C55\u793A",remove:"\u4E0D\u7528\u5B8B\u4F53 (\u7B80) \u5C55\u793A"}},{group:2,value:"zh-kaiti-sc",mark:["\u207D\u32A5\u2777","\u32A5\u2777\u207E"],markClass:"text-kaiti-sc",icon:p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{fontFamily:`"${Ve.KAITI_SC}"`},children:"\u6977"}),p.jsx("sup",{style:{fontSize:9},children:"\u7B80"}),p.jsx("sub",{style:{fontSize:9,position:"relative",left:-9},children:"\u2777"})]}),tooltips:{add:"\u7528\u6977\u4F53 (\u7B80) \u5C55\u793A",remove:"\u4E0D\u7528\u6977\u4F53 (\u7B80) \u5C55\u793A"}},{group:2,value:"zh-kaiti-jin",mark:["\u207D\u32A5\u2778","\u32A5\u2778\u207E"],markClass:"text-kaiti-jin",icon:p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{fontFamily:`"${Ve.KAITI_JIN}"`},children:"\u6977"}),p.jsx("sup",{style:{fontSize:9},children:"\u4ECA"}),p.jsx("sub",{style:{fontSize:9,position:"relative",left:-9},children:"\u2778"})]}),tooltips:{add:"\u7528\u6977\u4F53 (\u4ECA) \u5C55\u793A",remove:"\u4E0D\u7528\u6977\u4F53 (\u4ECA) \u5C55\u793A"}},{group:2,value:"zh-songti-yue",mark:["\u207D\u32A5\u2779","\u32A5\u2779\u207E"],markClass:"text-song-yue",icon:p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{fontFamily:`"${Ve.SONGTI_YUE}"`},children:"\u5B8B"}),p.jsx("sup",{style:{fontSize:9},children:"\u60A6"}),p.jsx("sub",{style:{fontSize:9,position:"relative",left:-9},children:"\u2779"})]}),tooltips:{add:"\u7528\u5B8B\u4F53 (\u60A6) \u5C55\u793A",remove:"\u4E0D\u7528\u5B8B\u4F53 (\u60A6) \u5C55\u793A"}},{group:2,value:"zh-heiti-lan",mark:["\u207D\u32A5\u277A","\u32A5\u277A\u207E"],markClass:"text-heiti-lan",icon:p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{fontFamily:`"${Ve.HEITI_LAN}"`},children:"\u9ED1"}),p.jsx("sup",{style:{fontSize:9},children:"\u5170"}),p.jsx("sub",{style:{fontSize:9,position:"relative",left:-9},children:"\u277A"})]}),tooltips:{add:"\u7528\u9ED1\u4F53 (\u5170) \u5C55\u793A",remove:"\u4E0D\u7528\u9ED1\u4F53 (\u5170) \u5C55\u793A"}},{group:2,value:"zh-pingfang-sc",mark:["\u207D\u32A5\u277B","\u32A5\u277B\u207E"],markClass:"text-pingfang-sc",icon:p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{fontFamily:`"${Ve.PINGFANG_SC}"`},children:"\u5E73"}),p.jsx("sup",{style:{fontSize:9},children:"\u7B80"}),p.jsx("sub",{style:{fontSize:9,position:"relative",left:-9},children:"\u277B"})]}),tooltips:{add:"\u7528\u5E73\u65B9 (\u7B80) \u5C55\u793A",remove:"\u4E0D\u7528\u5E73\u65B9 (\u7B80) \u5C55\u793A"}},{group:2,value:"zh-song-king-hwa",mark:["\u207D\u32A5\u277C","\u32A5\u277C\u207E"],markClass:"text-song-king-hwa",icon:p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{fontFamily:`"${Ve.SONGTI_KING_HWA}"`},children:"\u5B8B"}),p.jsx("sup",{style:{fontSize:9},children:"\u4EAC"}),p.jsx("sub",{style:{fontSize:9,position:"relative",left:-9},children:"\u277C"})]}),tooltips:{add:"\u7528\u5B8B\u4F53 (\u4EAC\u534E\u8001\u5B8B) \u5C55\u793A",remove:"\u4E0D\u7528\u5B8B\u4F53 (\u4EAC\u534E\u8001\u5B8B) \u5C55\u793A"}},{group:2,value:"zh-pming-liu-tw",mark:["\u207D\u32A5\u24EA","\u32A5\u24EA\u207E"],markClass:"text-pming-liu-tw",icon:p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{fontFamily:`"${Ve.LI_SONG_PRO}"`},children:"\u660E"}),p.jsx("sup",{style:{fontSize:9},children:"\u7E41"}),p.jsx("sub",{style:{fontSize:9,position:"relative",left:-9},children:"\u24EA"})]}),tooltips:{add:"\u7528\u81FA\u7063\u65B0\u7D30\u660E\u9AD4\u5C55\u793A",remove:"\u4E0D\u7528\u81FA\u7063\u65B0\u7D30\u660E\u9AD4\u5C55\u793A"}},{group:2,value:"zh-song-tc",mark:["\u207D\u32A5\u3280","\u32A5\u3280\u207E"],markClass:"text-song-tc",icon:p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{fontFamily:`"${Ve.LI_SONG_PRO}"`},children:"\u5B8B"}),p.jsx("sup",{style:{fontSize:9},children:"\u7E41"}),p.jsx("sub",{style:{fontSize:9,position:"relative",left:-9},children:"\u3280"})]}),tooltips:{add:"\u7528\u5137\u5B8B Pro (\u7E41) \u5C55\u793A",remove:"\u4E0D\u7528\u5137\u5B8B Pro (\u7E41) \u5C55\u793A"}},{group:2,value:"zh-hei-tc",mark:["\u207D\u32A5\u3281","\u32A5\u3281\u207E"],markClass:"text-hei-tc",icon:p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{fontFamily:`"${Ve.LI_HEI_PRO}"`},children:"\u9ED1"}),p.jsx("sup",{style:{fontSize:9},children:"\u7E41"}),p.jsx("sub",{style:{fontSize:9,position:"relative",left:-9},children:"\u3281"})]}),tooltips:{add:"\u7528\u5137\u9ED1 Pro (\u7E41) \u5C55\u793A",remove:"\u4E0D\u7528\u5137\u9ED1 Pro (\u7E41) \u5C55\u793A"}},{group:2,value:"zh-source-han-tw",mark:["\u207D\u32A5\u3282","\u32A5\u3282\u207E"],markClass:"text-source-han-tw",icon:p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{fontFamily:`"${Ve.SOURCE_HAN_TW}"`},children:"\u6E90"}),p.jsx("sup",{style:{fontSize:9},children:"\u7E41"}),p.jsx("sub",{style:{fontSize:9,position:"relative",left:-9},children:"\u3282"})]}),tooltips:{add:"\u7528\u601D\u6E90\u5B8B\u9AD4 (\u7E41) \u5C55\u793A",remove:"\u4E0D\u7528\u601D\u6E90\u5B8B\u9AD4 (\u7E41) \u5C55\u793A"}},{group:2,value:"zh-source-han-tw-light",mark:["\u207D\u32A5\u3283","\u32A5\u3283\u207E"],markClass:"text-source-han-tw-light",icon:p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{fontFamily:`"${Ve.SOURCE_HAN_TW_LIGHT}"`},children:"\u7D30"}),p.jsx("sup",{style:{fontSize:9},children:"\u7E41"}),p.jsx("sub",{style:{fontSize:9,position:"relative",left:-9},children:"\u3283"})]}),tooltips:{add:"\u7528\u601D\u6E90\u7D30\u5B8B (\u7E41) \u5C55\u793A",remove:"\u4E0D\u7528\u601D\u6E90\u7D30\u5B8B (\u7E41) \u5C55\u793A"}},{group:3,value:"ja-yumincho",mark:["\u207D\u3290\u2460","\u3290\u2460\u207E"],markClass:"text-yumincho",icon:p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{fontFamily:`"${Ve.YUMINCHO}"`},children:"\u6E38"}),p.jsx("sup",{style:{fontSize:9},children:"\u660E"}),p.jsx("sub",{style:{fontSize:9,position:"relative",left:-9},children:"\u2460"})]}),tooltips:{add:"\u7528\u6E38\u660E\u671D\u4F53\u5C55\u793A",remove:"\u4E0D\u7528\u6E38\u660E\u671D\u4F53\u5C55\u793A"}},{group:3,value:"ja-yumincho-36p-kana",mark:["\u207D\u3290\u2461","\u3290\u2461\u207E"],markClass:"text-yumincho-36p-kana",icon:p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{fontFamily:`"${Ve.YUMINCHO_36P_KANA}"`},children:"\u6E38"}),p.jsx("sup",{style:{fontSize:9},children:"\u660E"}),p.jsx("sub",{style:{fontSize:9,position:"relative",left:-9},children:"\u2461"})]}),tooltips:{add:"\u7528\u6E38\u660E\u671D\u4F53 (+36p Kana) \u5C55\u793A",remove:"\u4E0D\u7528\u6E38\u660E\u671D\u4F53 (+36p Kana) \u5C55\u793A"}},{group:3,value:"ja-toppan-bunkyu-midashi-gothic",mark:["\u207D\u3290\u2462","\u3290\u2462\u207E"],markClass:"text-toppan-bunkyu-midashi-gothic",icon:p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{fontFamily:`"${Ve.TOPPAN_BUNKYU_MIDASHI_GOTHIC}"`},children:"\u51F8"}),p.jsx("sup",{style:{fontSize:9},children:"\u9ED1"}),p.jsx("sub",{style:{fontSize:9,position:"relative",left:-9},children:"\u2462"})]}),tooltips:{add:"\u7528\u51F8\u7248\u6587\u4E45\u9ED1\u4F53 (\u7C97) \u5C55\u793A",remove:"\u4E0D\u7528\u51F8\u7248\u6587\u4E45\u9ED1\u4F53 (\u7C97) \u5C55\u793A"}},{group:3,value:"ja-toppan-bunkyu-midashi-mincho",mark:["\u207D\u3290\u2463","\u3290\u2463\u207E"],markClass:"text-toppan-bunkyu-midashi-mincho",icon:p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{fontFamily:`"${Ve.TOPPAN_BUNKYU_MIDASHI_MINCHO}"`},children:"\u51F8"}),p.jsx("sup",{style:{fontSize:9},children:"\u660E"}),p.jsx("sub",{style:{fontSize:9,position:"relative",left:-9},children:"\u2463"})]}),tooltips:{add:"\u7528\u51F8\u7248\u6587\u4E45\u660E\u671D\u4F53 (\u7C97) \u5C55\u793A",remove:"\u4E0D\u7528\u51F8\u7248\u6587\u4E45\u660E\u671D\u4F53 (\u7C97) \u5C55\u793A"}},{group:3,value:"ja-yukyokasho",mark:["\u207D\u3290\u2464","\u3290\u2464\u207E"],markClass:"text-yukyokasho",icon:p.jsxs(p.Fragment,{children:[p.jsx("span",{style:{fontFamily:`"${Ve.YUKYOKASHO}"`},children:"\u6E38"}),p.jsx("sup",{style:{fontSize:9},children:"\u79D1"}),p.jsx("sub",{style:{fontSize:9,position:"relative",left:-9},children:"\u2464"})]}),tooltips:{add:"\u7528\u6E38\u6559\u79D1\u66F8\u4F53\u5C55\u793A",remove:"\u4E0D\u7528\u6E38\u6559\u79D1\u66F8\u4F53\u5C55\u793A"}},{group:4,value:"font-size-incr-2px",mark:"\u29CD\u207A\xB2",markClass:"text-size-incr-2px",icon:p.jsxs("span",{style:{position:"relative",display:"block"},children:[p.jsx(yr,{style:{fontSize:16}}),p.jsx("span",{style:{position:"absolute",top:0,right:2,fontSize:10},children:"\u207A\xB2"})]}),tooltips:{add:"\u5B57\u53F7\u589E\u5927 2px",remove:"\u53D6\u6D88\u5B57\u53F7\u589E\u5927 2px"}},{group:4,value:"font-size-incr-4px",mark:"\u29CD\u207A\u2074",markClass:"text-size-incr-4px",icon:p.jsxs("span",{style:{position:"relative",display:"block"},children:[p.jsx(yr,{style:{fontSize:16}}),p.jsx("span",{style:{position:"absolute",top:0,right:2,fontSize:10},children:"\u207A\u2074"})]}),tooltips:{add:"\u5B57\u53F7\u589E\u5927 4px",remove:"\u53D6\u6D88\u5B57\u53F7\u589E\u5927 4px"}},{group:4,value:"font-size-incr-6px",mark:"\u29CD\u207A\u2076",markClass:"text-size-incr-6px",icon:p.jsxs("span",{style:{position:"relative",display:"block"},children:[p.jsx(yr,{style:{fontSize:16}}),p.jsx("span",{style:{position:"absolute",top:0,right:2,fontSize:10},children:"\u207A\u2076"})]}),tooltips:{add:"\u5B57\u53F7\u589E\u5927 6px",remove:"\u53D6\u6D88\u5B57\u53F7\u589E\u5927 6px"}},{group:4,value:"font-size-decr-2px",mark:"\u29CD\u207B\xB2",markClass:"text-size-decr-2px",icon:p.jsxs("span",{style:{position:"relative",display:"block"},children:[p.jsx(yr,{style:{fontSize:16}}),p.jsx("span",{style:{position:"absolute",top:0,right:2,fontSize:10},children:"\u207B\xB2"})]}),tooltips:{add:"\u5B57\u53F7\u51CF\u5C0F 2px",remove:"\u53D6\u6D88\u5B57\u53F7\u51CF\u5C0F 2px"}},{group:4,value:"font-size-decr-4px",mark:"\u29CD\u207B\u2074",markClass:"text-size-decr-4px",icon:p.jsxs("span",{style:{position:"relative",display:"block"},children:[p.jsx(yr,{style:{fontSize:16}}),p.jsx("span",{style:{position:"absolute",top:0,right:2,fontSize:10},children:"\u207B\u2074"})]}),tooltips:{add:"\u5B57\u53F7\u51CF\u5C0F 4px",remove:"\u53D6\u6D88\u5B57\u53F7\u51CF\u5C0F 4px"}},{group:4,value:"font-size-decr-6px",mark:"\u29CD\u207B\u2076",markClass:"text-size-decr-6px",icon:p.jsxs("span",{style:{position:"relative",display:"block"},children:[p.jsx(yr,{style:{fontSize:16}}),p.jsx("span",{style:{position:"absolute",top:0,right:2,fontSize:10},children:"\u207B\u2076"})]}),tooltips:{add:"\u5B57\u53F7\u51CF\u5C0F 6px",remove:"\u53D6\u6D88\u5B57\u53F7\u51CF\u5C0F 6px"}}],ta=J6.map(e=>{const{mark:n,...i}=e;let{markClass:u}=e;return e.group===2?u=`text-zh-font ${u}`:e.group===3&&(u=`text-ja-font ${u}`),{...i,mark:n,markClass:u,get pattern(){const[s,a]=Array.isArray(n)?n:[n,n];return new RegExp(`${Xe.escapeRegExp(s)}([\\s\\S]+?)${Xe.escapeRegExp(a)}`,"g")}}}),na=Ir(ta,e=>e.value);var ln=(e=>(e.LIGHT="light",e.DARK="dark",e))(ln||{});const cm=[{value:"light",label:"\u6D45\u8272",themeToken:{colorPrimary:"#2073d1",colorInfo:"#2073d1",colorSuccess:"#13c2c2"}},{value:"dark",label:"\u6DF1\u8272",themeToken:{colorPrimary:"#827cc1",colorInfo:"#827cc1",colorSuccess:"#13c2c2"}}],Q6=Ir(cm,e=>e.value),xu={light:{"--preview-text-color":"#3b3b3b","--preview-background-color":"#fbfbfb","--preview-highlight-color":"#cf425b","--preview-highlight-color-2":"#18a0b6","--preview-highlight-invert-color":"#fbfbfb","--preview-fluorescent-color":"rgba(207, 66, 91, 0.3)","--preview-fluorescent-underline-color":"rgba(38, 212, 239, 0.8)","--preview-text-stroke-color":"rgba(38, 212, 239, 0.9)","--preview-text-wavy-color":"#ef9026","--preview-text-delete-color":"rgba(255, 77, 79, 0.9)","--preview-text-sideline-color":"#f93630","--preview-text-emphasis-color":"#3b3b3b"},dark:{"--preview-text-color":"#f3f4e9","--preview-background-color":"#282828","--preview-highlight-color":"#ef9026","--preview-highlight-color-2":"#0eabc3","--preview-highlight-invert-color":"#221d10","--preview-fluorescent-color":"rgba(85, 121, 160, 0.6)","--preview-fluorescent-underline-color":"rgba(10, 167, 87, 0.8)","--preview-text-stroke-color":"rgba(255, 77, 80, 0.6)","--preview-text-wavy-color":"rgba(255, 77, 80, 0.6)","--preview-text-delete-color":"rgba(255, 77, 79, 0.9)","--preview-text-sideline-color":"#f93630","--preview-text-emphasis-color":"#f3f4e9"}},Kc=[{value:"--preview-text-color",label:"\u30C6\u30AD\u30B9\u30C8\u306E\u8272",disabledAlpha:!1,getPresetColors:e=>e==="light"?["#3b3b3b","#0b0801","#4d4e4c"]:["#f3f4e9","#4d4e4c"]},{value:"--preview-background-color",label:"\u80CC\u666F\u8272",disabledAlpha:!0,getPresetColors:e=>e==="light"?["#e6eae6","#f4e19b","#efd88f","#d2d0c8","#f8f1dd","#d3e0de","#ffffff"]:["#42525e","#000000"]},{value:"--preview-highlight-color",label:"\u30CF\u30A4\u30E9\u30A4\u30C8\u30AB\u30E9\u30FC 1",disabledAlpha:!1,getPresetColors:e=>e==="light"?["#4074c0","#ec7c3b","#b3292c"]:["#26c067","#ffbf32","#e6c573","#f6d76b","#b3292c"]},{value:"--preview-highlight-color-2",label:"\u30CF\u30A4\u30E9\u30A4\u30C8\u30AB\u30E9\u30FC 2",disabledAlpha:!1,getPresetColors:e=>e==="light"?["#0f9999"]:["#46adc1","#18aabc"]},{value:"--preview-highlight-invert-color",label:"\u5358\u8272\u80CC\u666F\u306E\u30C6\u30AD\u30B9\u30C8\u8272",disabledAlpha:!1},{value:"--preview-fluorescent-color",label:"\u86CD\u5149\u8272",disabledAlpha:!1},{value:"--preview-fluorescent-underline-color",label:"\u86CD\u5149\u4E0B\u7DDA\u8272",disabledAlpha:!1},{value:"--preview-text-stroke-color",label:"\u30B9\u30C8\u30ED\u30FC\u30AF\u306E\u8272",disabledAlpha:!1},{value:"--preview-text-wavy-color",label:"\u6CE2\u7DDA\u8272",disabledAlpha:!1},{value:"--preview-text-delete-color",label:"\u524A\u9664\u8272",disabledAlpha:!1},{value:"--preview-text-sideline-color",label:"\u5074\u7DDA\u8272",disabledAlpha:!1},{value:"--preview-text-emphasis-color",label:"\u5F37\u8ABF\u8272",disabledAlpha:!1}],Vc={[ln.LIGHT]:{xOffset:-.5,yOffset:.5,blurRadius:1,color:"rgba(0, 0, 0, 0.5)"},[ln.DARK]:{xOffset:-1,yOffset:1,blurRadius:1,color:"rgba(0, 0, 0, 0.8)"}};var xr=(e=>(e[e.MIN=400]="MIN",e[e.DEFAULT=600]="DEFAULT",e[e.MAX=1200]="MAX",e))(xr||{}),gi=(e=>(e.HORIZONTAL_TB="horizontal-tb",e.VERTICAL_RL="vertical-rl",e))(gi||{});const fm=[{value:"horizontal-tb",label:"\u6A2A\u5217"},{value:"vertical-rl",label:"\u7E26\u5217"}];Ir(fm,e=>e.value);const eC={"horizontal-tb":{"--preview-writing-mode":"horizontal-tb","--preview-min-height":"400px","--preview-height":"auto","--preview-text-underline-offset":"2px"},"vertical-rl":{"--preview-writing-mode":"vertical-rl","--preview-min-height":"400px","--preview-height":"auto","--preview-text-underline-offset":"1px"}},si={theme:ln.DARK,fontFamily:Ve.YUMINCHO,fontSize:br.DEFAULT,textShadow:{globalEnabled:!1,...Vc[ln.DARK]},writingMode:gi.VERTICAL_RL,verticalPreviewHeight:xr.DEFAULT,huriganaize:!1,content:"",previewPosition:"left",contentFontSize:oi.DEFAULT},tC=(()=>{try{const e=nC();if(e)return location.hash="",Er.set("settings",e),e;const n=Er.get("settings");if(n)return{...si,...Xe.pick(n,Object.keys(si))}}catch{}return si})(),Yc=Hu(tC);function nC(){try{if(location.hash){const e=location.hash.slice(1),n={...si,...Xe.pick(O0(e),Object.keys(si))};if(n.content)return n}}catch{}return null}setTimeout(()=>{const e=Xe.debounce(()=>{const n={...si,...Xc.get(Yc)};Er.set("settings",n)},500,{leading:!1,trailing:!0});Xc.sub(Yc,e)});const Xc=sf(),dm=Y0({huriganaizeReady:!1}),hm=()=>{const[e,n]=dm.useStore();return{globalState:e,setGlobalState:n}};function bf(e){const{mark:n}=na.entities[e],[i,u]=Array.isArray(n)?n:[n,n];return[i,u]}function rt(e,n){const[i,u]=bf(n);return[i,e,u].join("")}function li(e,n){return n?Array.isArray(n)?n.length?n.reduce((i,u)=>li(i,u),e):e:rt(e,n):e}function en(e){if(typeof e=="string")return e;if(Array.isArray(e))return e.map(en).join("");const{text:n,notation:i}=e;if(typeof n=="string")return li(n,i);const u=[];for(const s of n)typeof s=="string"?u.push(s):typeof s.text=="string"?u.push(li(s.text,s.notation)):u.push(en(s));return li(u.join(""),i)}const rC=()=>en({notation:pe.NO_HURIGANA,text:[{text:"\u65E5\u66F8",notation:[pe.HIGHLIGHT,pe.UNDERLINE_MARK,pe.BOLD,pe.ZH_HEITI_LAN]}," ",{text:lo(new Date,"yyyy.mm.dd"),notation:pe.ZH_KAITI_JIN}]}),xf=()=>en({notation:[pe.UNDERLINE_SOLID,pe.NO_HURIGANA,pe.JA_YUMINCHO_36P_KANA],text:[{notation:pe.FILL,text:" "}," ",{notation:[pe.HIGHLIGHT,pe.BOLD,pe.ZH_HEITI_LAN],text:"\u65E5\u66F8"}," ",{notation:pe.ZH_SONG_KING_HWA,text:lo(new Date,"yy.mm.dd")}]}),gm=()=>{const[e,n,i]=lo(new Date,"yyyy.mm.dd").split(".");return en({notation:[pe.UNDERLINE_SOLID,pe.NO_HURIGANA,pe.JA_YUMINCHO_36P_KANA],text:[{notation:pe.FILL,text:" "}," ",{notation:[pe.HIGHLIGHT,pe.BOLD,pe.ZH_HEITI_LAN],text:"\u65E5\u66F8"}," ",{notation:[pe.ZH_SONG_KING_HWA,pe.FONT_SIZE_DECR_2PX],text:[{text:e.slice(0,2),notation:pe.COMBINE_UPRIGHT},{text:e.slice(2),notation:pe.COMBINE_UPRIGHT},{text:"/",notation:pe.COMBINE_UPRIGHT},{text:n,notation:pe.COMBINE_UPRIGHT},{text:"/",notation:pe.COMBINE_UPRIGHT},{text:i,notation:pe.COMBINE_UPRIGHT}]}]})},iC=Object.freeze(Object.defineProperty({__proto__:null,v1:rC,v2:xf,v3:gm},Symbol.toStringTag,{value:"Module"}));async function pm(e,{transform:n=[]}={}){if(!e.trim())return null;const i=[],u=e.split(/(?:\r?\n){2,}/);for(const[s,a]of Object.entries(u)){const l=a.split(/(?:\r?\n)/);if(l.every(y=>!(y!=null&&y.trim())))continue;const f=[];let d=!0;for(const[y,m]of Object.entries(l)){if(!m.trim())continue;const h=Array.isArray(n)?n:[n];let v=m,A=!1;v.startsWith("> ")&&(A=!0,v=v.replace(/^>\s+/,"")),d&&(d=A);for(const S of h)v=await S(v);f.push(p.jsx("div",{className:"text-piece","data-hint-quote":A?"":null,dangerouslySetInnerHTML:{__html:v}},y))}i.push(p.jsx("div",{className:"text-block","data-hint-quote":d?"":null,children:f},s))}return p.jsx(p.Fragment,{children:i})}function mm(e){const n=Wu(e);return Ju(n,i=>{var u,s;if(i.nodeType===Node.ELEMENT_NODE&&i.tagName==="SPAN"&&i.children.length===1&&i.childNodes.length===1){const a=i.firstElementChild;if(a.tagName==="SPAN"){i.dataset.notation=[...((u=a.dataset.notation)==null?void 0:u.split(","))||[],...((s=i.dataset.notation)==null?void 0:s.split(","))||[]].join(",");const l=`${a.className} ${i.className}`.split(" "),f=[...new Set(l)].join(" ");i.className=f,i.innerHTML=a.innerHTML}}}),n.innerHTML}function Zi(e){if(Array.isArray(e))return e.length===1?Zi(e[0]):e.map(Zi);if(typeof e=="string")return e;let n=Zi(e.text);if(Array.isArray(n)&&n.every(i=>typeof i=="string")&&(n=n.join("")),e.notation){if(Array.isArray(e.notation)){if(e.notation.length===0)return n;if(e.notation.length===1)return{text:n,notation:e.notation[0]}}}else return n;return{text:n,notation:e.notation}}function fo(e){const n=Wu(e),i={text:[]};function u(s,a){var l,f;for(const d of s.childNodes){const y={text:[],notation:[]};switch(d.nodeType){case Node.ELEMENT_NODE:{y.notation=((l=d.dataset.notation)==null?void 0:l.split(","))||[],d.childNodes.length===1?y.text=((f=d.firstChild)==null?void 0:f.textContent)||"":u(d,{manifest:y});break}case Node.TEXT_NODE:{y.text=d.textContent||"";break}}Array.isArray(a.manifest.text)&&a.manifest.text.push(y)}}return u(n,{manifest:i}),Zi(i)}const Ig=of.createInstance({name:"jape",storeName:"script"});async function vm({key:e,version:n,src:i}){try{const u=await Ig.getItem(e);let s;!u||u.version!==n?(s=await fetch(i).then(a=>a.text()),Ig.setItem(e,{content:s,version:n})):s=u.content,new Function(`return ${s}`).call(globalThis)}catch(u){console.error("[loadScriptWithCaching] error",u),await F0(i)}}function ym(e){return ta.reduce((n,i)=>n.replace(i.pattern,`<span class="${i.markClass}" data-notation="${i.value}">$1</span>`),e)}function Sf(e){const{xOffset:n,yOffset:i,blurRadius:u,color:s}=e.textShadow;return`${n}px ${i}px ${u}px ${s}`}function _m(e,{huriganaize:n}){const i=Wu(e);return Ju(i,u=>{if(u.nodeType===Node.ELEMENT_NODE&&!["RT","RP"].includes(u.nodeName))for(const s of u.childNodes)if(s.nodeType===Node.TEXT_NODE){const a=document.createElement("span");a.dataset.text="",a.textContent=s.textContent,u.replaceChild(a,s)}else{if(!n)continue;if(s.nodeType===Node.ELEMENT_NODE){const a=s,{entities:l}=na,{markClass:f}=l[pe.CUSTOM_HURIGANA];if(a.classList.contains(f)){const d=v=>v.map(A=>A.innerText).join(""),y=d([...a.querySelectorAll("span[data-text]")]),m=d([...a.querySelectorAll("rt")]),h=["<ruby>",`<span data-text>${y}</span>`,"<rp>(</rp>",`<rt contenteditable>${m}</rt>`,"<rp>)</rp>","</ruby>"].join("");a.innerHTML=h}}}}),i.innerHTML}function pi(e){return mm(ym(e))}const wm=e=>[["sourl.cn","6url.cn"]].reduce((n,[i,u])=>n.replace(i,u),e);var Ef={},oC=function(){var e,n;if(typeof WeakMap!="function")return!1;try{e=new WeakMap([[n={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(e)!=="[object WeakMap]"||typeof e.set!="function"||e.set({},1)!==e||typeof e.delete!="function"||typeof e.has!="function"||e.get(n)!=="one")},ul,Tg;function uC(){return Tg||(Tg=1,ul=function(){}),ul}var al,Dg;function Tr(){if(Dg)return al;Dg=1;var e=uC()();return al=function(n){return n!==e&&n!==null},al}var sl,Rg;function bm(){if(Rg)return sl;Rg=1;var e=Object.create,n=Object.getPrototypeOf,i={};return sl=function(){var u=Object.setPrototypeOf,s=arguments[0]||e;return typeof u!="function"?!1:n(u(s(null),i))===i},sl}var ll,Og;function xm(){if(Og)return ll;Og=1;var e=Tr(),n={function:!0,object:!0};return ll=function(i){return e(i)&&n[typeof i]||!1},ll}var cl,Fg;function Qn(){if(Fg)return cl;Fg=1;var e=Tr();return cl=function(n){if(!e(n))throw new TypeError("Cannot use null or undefined");return n},cl}var fl,Bg;function aC(){if(Bg)return fl;Bg=1;var e=Object.create,n;return bm()()||(n=Sm()),fl=function(){var i,u,s;return!n||n.level!==1?e:(i={},u={},s={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(a){if(a==="__proto__"){u[a]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}u[a]=s}),Object.defineProperties(i,u),Object.defineProperty(n,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(a,l){return e(a===null?i:a,l)})}(),fl}var dl,Pg;function Sm(){if(Pg)return dl;Pg=1;var e=xm(),n=Qn(),i=Object.prototype.isPrototypeOf,u=Object.defineProperty,s={configurable:!0,enumerable:!1,writable:!0,value:void 0},a;return a=function(l,f){if(n(l),f===null||e(f))return l;throw new TypeError("Prototype must be null or an object")},dl=function(l){var f,d;return l?(l.level===2?l.set?(d=l.set,f=function(y,m){return d.call(a(y,m),m),y}):f=function(y,m){return a(y,m).__proto__=m,y}:f=function y(m,h){var v;return a(m,h),v=i.call(y.nullPolyfill,m),v&&delete y.nullPolyfill.__proto__,h===null&&(h=y.nullPolyfill),m.__proto__=h,v&&u(y.nullPolyfill,"__proto__",s),m},Object.defineProperty(f,"level",{configurable:!1,enumerable:!1,writable:!1,value:l.level})):null}(function(){var l=Object.create(null),f={},d,y=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(y){try{d=y.set,d.call(l,f)}catch{}if(Object.getPrototypeOf(l)===f)return{set:d,level:2}}return l.__proto__=f,Object.getPrototypeOf(l)===f?{level:2}:(l={},l.__proto__=f,Object.getPrototypeOf(l)===f?{level:1}:!1)}()),aC(),dl}var hl,jg;function Cf(){return jg||(jg=1,hl=bm()()?Object.setPrototypeOf:Sm()),hl}var gl,Mg;function sC(){if(Mg)return gl;Mg=1;var e=xm();return gl=function(n){if(!e(n))throw new TypeError(n+" is not an Object");return n},gl}var pl,kg;function lC(){if(kg)return pl;kg=1;var e=Object.create(null),n=Math.random;return pl=function(){var i;do i=n().toString(36).slice(2);while(e[i]);return i},pl}var ml={exports:{}},vl,Lg;function mi(){if(Lg)return vl;Lg=1;var e=void 0;return vl=function(n){return n!==e&&n!==null},vl}var yl,Ng;function Em(){if(Ng)return yl;Ng=1;var e=mi(),n={object:!0,function:!0,undefined:!0};return yl=function(i){return e(i)?hasOwnProperty.call(n,typeof i):!1},yl}var _l,zg;function cC(){if(zg)return _l;zg=1;var e=Em();return _l=function(n){if(!e(n))return!1;try{return n.constructor?n.constructor.prototype===n:!1}catch{return!1}},_l}var wl,$g;function fC(){if($g)return wl;$g=1;var e=cC();return wl=function(n){if(typeof n!="function"||!hasOwnProperty.call(n,"length"))return!1;try{if(typeof n.length!="number"||typeof n.call!="function"||typeof n.apply!="function")return!1}catch{return!1}return!e(n)},wl}var bl,Ug;function Cm(){if(Ug)return bl;Ug=1;var e=fC(),n=/^\s*class[\s{/}]/,i=Function.prototype.toString;return bl=function(u){return!(!e(u)||n.test(i.call(u)))},bl}var xl,Hg;function dC(){return Hg||(Hg=1,xl=function(){var e=Object.assign,n;return typeof e!="function"?!1:(n={foo:"raz"},e(n,{bar:"dwa"},{trzy:"trzy"}),n.foo+n.bar+n.trzy==="razdwatrzy")}),xl}var Sl,Wg;function hC(){return Wg||(Wg=1,Sl=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),Sl}var El,qg;function gC(){if(qg)return El;qg=1;var e=Tr(),n=Object.keys;return El=function(i){return n(e(i)?Object(i):i)},El}var Cl,Gg;function pC(){return Gg||(Gg=1,Cl=hC()()?Object.keys:gC()),Cl}var Al,Kg;function mC(){if(Kg)return Al;Kg=1;var e=pC(),n=Qn(),i=Math.max;return Al=function(u,s){var a,l,f=i(arguments.length,2),d;for(u=Object(n(u)),d=function(y){try{u[y]=s[y]}catch(m){a||(a=m)}},l=1;l<f;++l)s=arguments[l],e(s).forEach(d);if(a!==void 0)throw a;return u},Al}var Il,Vg;function Af(){return Vg||(Vg=1,Il=dC()()?Object.assign:mC()),Il}var Tl,Yg;function Am(){if(Yg)return Tl;Yg=1;var e=Tr(),n=Array.prototype.forEach,i=Object.create,u=function(s,a){var l;for(l in s)a[l]=s[l]};return Tl=function(s){var a=i(null);return n.call(arguments,function(l){e(l)&&u(Object(l),a)}),a},Tl}var Dl,Xg;function vC(){if(Xg)return Dl;Xg=1;var e="razdwatrzy";return Dl=function(){return typeof e.contains!="function"?!1:e.contains("dwa")===!0&&e.contains("foo")===!1},Dl}var Rl,Zg;function yC(){if(Zg)return Rl;Zg=1;var e=String.prototype.indexOf;return Rl=function(n){return e.call(this,n,arguments[1])>-1},Rl}var Ol,Jg;function Im(){return Jg||(Jg=1,Ol=vC()()?String.prototype.contains:yC()),Ol}var Qg;function er(){if(Qg)return ml.exports;Qg=1;var e=mi(),n=Cm(),i=Af(),u=Am(),s=Im(),a=ml.exports=function(l,f){var d,y,m,h,v;return arguments.length<2||typeof l!="string"?(h=f,f=l,l=null):h=arguments[2],e(l)?(d=s.call(l,"c"),y=s.call(l,"e"),m=s.call(l,"w")):(d=m=!0,y=!1),v={value:f,configurable:d,enumerable:y,writable:m},h?i(u(h),v):v};return a.gs=function(l,f,d){var y,m,h,v;return typeof l!="string"?(h=d,d=f,f=l,l=null):h=arguments[3],e(f)?n(f)?e(d)?n(d)||(h=d,d=void 0):d=void 0:(h=f,f=d=void 0):f=void 0,e(l)?(y=s.call(l,"c"),m=s.call(l,"e")):(y=!0,m=!1),v={get:f,set:d,configurable:y,enumerable:m},h?i(u(h),v):v},ml.exports}var Fl,ep;function ra(){if(ep)return Fl;ep=1;var e=Object.prototype.toString,n=e.call(function(){return arguments}());return Fl=function(i){return e.call(i)===n},Fl}var Bl,tp;function ia(){if(tp)return Bl;tp=1;var e=Object.prototype.toString,n=e.call("");return Bl=function(i){return typeof i=="string"||i&&typeof i=="object"&&(i instanceof String||e.call(i)===n)||!1},Bl}var Pl={exports:{}},jl,np;function _C(){return np||(np=1,jl=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}),jl}var Ml,rp;function wC(){if(rp)return Ml;rp=1;var e=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Ml=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return e()}try{return __global__||e()}finally{delete Object.prototype.__global__}}(),Ml}var kl,ip;function oa(){return ip||(ip=1,kl=_C()()?globalThis:wC()),kl}var Ll,op;function bC(){if(op)return Ll;op=1;var e=oa(),n={object:!0,symbol:!0};return Ll=function(){var i=e.Symbol,u;if(typeof i!="function")return!1;u=i("test symbol");try{String(u)}catch{return!1}return!(!n[typeof i.iterator]||!n[typeof i.toPrimitive]||!n[typeof i.toStringTag])},Ll}var Nl,up;function xC(){return up||(up=1,Nl=function(e){return e?typeof e=="symbol"?!0:!e.constructor||e.constructor.name!=="Symbol"?!1:e[e.constructor.toStringTag]==="Symbol":!1}),Nl}var zl,ap;function Tm(){if(ap)return zl;ap=1;var e=xC();return zl=function(n){if(!e(n))throw new TypeError(n+" is not a symbol");return n},zl}var $l,sp;function SC(){if(sp)return $l;sp=1;var e=er(),n=Object.create,i=Object.defineProperty,u=Object.prototype,s=n(null);return $l=function(a){for(var l=0,f,d;s[a+(l||"")];)++l;return a+=l||"",s[a]=!0,f="@@"+a,i(u,f,e.gs(null,function(y){d||(d=!0,i(this,f,e(y)),d=!1)})),f},$l}var Ul,lp;function EC(){if(lp)return Ul;lp=1;var e=er(),n=oa().Symbol;return Ul=function(i){return Object.defineProperties(i,{hasInstance:e("",n&&n.hasInstance||i("hasInstance")),isConcatSpreadable:e("",n&&n.isConcatSpreadable||i("isConcatSpreadable")),iterator:e("",n&&n.iterator||i("iterator")),match:e("",n&&n.match||i("match")),replace:e("",n&&n.replace||i("replace")),search:e("",n&&n.search||i("search")),species:e("",n&&n.species||i("species")),split:e("",n&&n.split||i("split")),toPrimitive:e("",n&&n.toPrimitive||i("toPrimitive")),toStringTag:e("",n&&n.toStringTag||i("toStringTag")),unscopables:e("",n&&n.unscopables||i("unscopables"))})},Ul}var Hl,cp;function CC(){if(cp)return Hl;cp=1;var e=er(),n=Tm(),i=Object.create(null);return Hl=function(u){return Object.defineProperties(u,{for:e(function(s){return i[s]?i[s]:i[s]=u(String(s))}),keyFor:e(function(s){var a;n(s);for(a in i)if(i[a]===s)return a})})},Hl}var Wl,fp;function AC(){if(fp)return Wl;fp=1;var e=er(),n=Tm(),i=oa().Symbol,u=SC(),s=EC(),a=CC(),l=Object.create,f=Object.defineProperties,d=Object.defineProperty,y,m,h;if(typeof i=="function")try{String(i()),h=!0}catch{}else i=null;return m=function(A){if(this instanceof m)throw new TypeError("Symbol is not a constructor");return y(A)},Wl=y=function v(A){var S;if(this instanceof v)throw new TypeError("Symbol is not a constructor");return h?i(A):(S=l(m.prototype),A=A===void 0?"":String(A),f(S,{__description__:e("",A),__name__:e("",u(A))}))},s(y),a(y),f(m.prototype,{constructor:e(y),toString:e("",function(){return this.__name__})}),f(y.prototype,{toString:e(function(){return"Symbol ("+n(this).__description__+")"}),valueOf:e(function(){return n(this)})}),d(y.prototype,y.toPrimitive,e("",function(){var v=n(this);return typeof v=="symbol"?v:v.toString()})),d(y.prototype,y.toStringTag,e("c","Symbol")),d(m.prototype,y.toStringTag,e("c",y.prototype[y.toStringTag])),d(m.prototype,y.toPrimitive,e("c",y.prototype[y.toPrimitive])),Wl}var ql,dp;function Dr(){return dp||(dp=1,ql=bC()()?oa().Symbol:AC()),ql}var Gl,hp;function IC(){if(hp)return Gl;hp=1;var e=Qn();return Gl=function(){return e(this).length=0,this},Gl}var Kl,gp;function ho(){return gp||(gp=1,Kl=function(e){if(typeof e!="function")throw new TypeError(e+" is not a function");return e}),Kl}var Vl,pp;function TC(){if(pp)return Vl;pp=1;var e=mi(),n=Em(),i=Object.prototype.toString;return Vl=function(u){if(!e(u))return null;if(n(u)){var s=u.toString;if(typeof s!="function"||s===i)return null}try{return""+u}catch{return null}},Vl}var Yl,mp;function DC(){return mp||(mp=1,Yl=function(e){try{return e.toString()}catch{try{return String(e)}catch{return null}}}),Yl}var Xl,vp;function RC(){if(vp)return Xl;vp=1;var e=DC(),n=/[\n\r\u2028\u2029]/g;return Xl=function(i){var u=e(i);return u===null?"<Non-coercible to string value>":(u.length>100&&(u=u.slice(0,99)+"\u2026"),u=u.replace(n,function(s){switch(s){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),u)},Xl}var Zl,yp;function OC(){if(yp)return Zl;yp=1;var e=TC(),n=RC();return Zl=function(i,u,s){s&&s.errorMessage&&(i=e(s.errorMessage));var a=i.indexOf("%v"),l=a>-1?n(u):null;if(s&&s.name){var f=i.indexOf("%n");if(f>-1){if(a>-1){var d,y,m,h;return f>a?(d=l,m=a,y=s.name,h=f):(d=s.name,m=f,y=l,h=a),i.slice(0,m)+d+i.slice(m+2,h)+y+i.slice(h+2)}return i.slice(0,f)+s.name+i.slice(f+2)}}return a>-1?i.slice(0,a)+l+i.slice(a+2):i},Zl}var Jl,_p;function Dm(){if(_p)return Jl;_p=1;var e=mi(),n=OC();return Jl=function(i,u,s){if(s&&!e(i)){if("default"in s)return s.default;if(s.isOptional)return null}var a=s&&s.Error||TypeError,l=new a(n(u,i,s));throw s&&s.errorCode&&(l.code=s.errorCode),l},Jl}var Ql,wp;function FC(){if(wp)return Ql;wp=1;var e=Dm(),n=mi();return Ql=function(i){if(n(i))return i;var u=arguments[1],s=u&&u.name?"Expected a value for %n, received %v":"Cannot use %v";return e(i,s,u)},Ql}var ec,bp;function BC(){if(bp)return ec;bp=1;var e=Dm(),n=Cm();return ec=function(i){if(n(i))return i;var u=arguments[1],s=u&&u.name?"Expected a plain function for %n, received %v":"%v is not a plain function";return e(i,s,u)},ec}var tc,xp;function PC(){return xp||(xp=1,tc=function(){var e=Array.from,n,i;return typeof e!="function"?!1:(n=["raz","dwa"],i=e(n),!!(i&&i!==n&&i[1]==="dwa"))}),tc}var nc,Sp;function jC(){if(Sp)return nc;Sp=1;var e=Object.prototype.toString,n=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);return nc=function(i){return typeof i=="function"&&n(e.call(i))},nc}var rc,Ep;function MC(){return Ep||(Ep=1,rc=function(){var e=Math.sign;return typeof e!="function"?!1:e(10)===1&&e(-20)===-1}),rc}var ic,Cp;function kC(){return Cp||(Cp=1,ic=function(e){return e=Number(e),isNaN(e)||e===0?e:e>0?1:-1}),ic}var oc,Ap;function LC(){return Ap||(Ap=1,oc=MC()()?Math.sign:kC()),oc}var uc,Ip;function NC(){if(Ip)return uc;Ip=1;var e=LC(),n=Math.abs,i=Math.floor;return uc=function(u){return isNaN(u)?0:(u=Number(u),u===0||!isFinite(u)?u:e(u)*i(n(u)))},uc}var ac,Tp;function zC(){if(Tp)return ac;Tp=1;var e=NC(),n=Math.max;return ac=function(i){return n(0,e(i))},ac}var sc,Dp;function $C(){if(Dp)return sc;Dp=1;var e=Dr().iterator,n=ra(),i=jC(),u=zC(),s=ho(),a=Qn(),l=Tr(),f=ia(),d=Array.isArray,y=Function.prototype.call,m={configurable:!0,enumerable:!0,writable:!0,value:null},h=Object.defineProperty;return sc=function(v){var A=arguments[1],S=arguments[2],E,I,q,j,oe,ue,L,U,Y,M;if(v=Object(a(v)),l(A)&&s(A),!this||this===Array||!i(this)){if(!A){if(n(v))return oe=v.length,oe!==1?Array.apply(null,v):(j=new Array(1),j[0]=v[0],j);if(d(v)){for(j=new Array(oe=v.length),I=0;I<oe;++I)j[I]=v[I];return j}}j=[]}else E=this;if(!d(v)){if((Y=v[e])!==void 0){for(L=s(Y).call(v),E&&(j=new E),U=L.next(),I=0;!U.done;)M=A?y.call(A,S,U.value,I):U.value,E?(m.value=M,h(j,I,m)):j[I]=M,U=L.next(),++I;oe=I}else if(f(v)){for(oe=v.length,E&&(j=new E),I=0,q=0;I<oe;++I)M=v[I],I+1<oe&&(ue=M.charCodeAt(0),ue>=55296&&ue<=56319&&(M+=v[++I])),M=A?y.call(A,S,M,q):M,E?(m.value=M,h(j,q,m)):j[q]=M,++q;oe=q}}if(oe===void 0)for(oe=u(v.length),E&&(j=new E(oe)),I=0;I<oe;++I)M=A?y.call(A,S,v[I],I):v[I],E?(m.value=M,h(j,I,m)):j[I]=M;return E&&(m.value=null,j.length=oe),j},sc}var lc,Rp;function UC(){return Rp||(Rp=1,lc=PC()()?Array.from:$C()),lc}var cc,Op;function HC(){if(Op)return cc;Op=1;var e=UC(),n=Af(),i=Qn();return cc=function(u){var s=Object(i(u)),a=arguments[1],l=Object(arguments[2]);if(s!==u&&!a)return s;var f={};return a?e(a,function(d){(l.ensure||d in u)&&(f[d]=u[d])}):n(f,u),f},cc}var fc,Fp;function WC(){if(Fp)return fc;Fp=1;var e=ho(),n=Qn(),i=Function.prototype.bind,u=Function.prototype.call,s=Object.keys,a=Object.prototype.propertyIsEnumerable;return fc=function(l,f){return function(d,y){var m,h=arguments[2],v=arguments[3];return d=Object(n(d)),e(y),m=s(d),v&&m.sort(typeof v=="function"?i.call(v,d):void 0),typeof l!="function"&&(l=m[l]),u.call(l,m,function(A,S){return a.call(d,A)?u.call(y,h,d[A],A,d,S):f})}},fc}var dc,Bp;function qC(){return Bp||(Bp=1,dc=WC()("forEach")),dc}var hc,Pp;function GC(){if(Pp)return hc;Pp=1;var e=ho(),n=qC(),i=Function.prototype.call;return hc=function(u,s){var a={},l=arguments[2];return e(s),n(u,function(f,d,y,m){a[d]=i.call(s,l,f,d,y,m)}),a},hc}var gc,jp;function KC(){if(jp)return gc;jp=1;var e=mi(),n=FC(),i=BC(),u=HC(),s=Am(),a=GC(),l=Function.prototype.bind,f=Object.defineProperty,d=Object.prototype.hasOwnProperty,y;return y=function(m,h,v){var A=n(h)&&i(h.value),S;return S=u(h),delete S.writable,delete S.value,S.get=function(){return!v.overwriteDefinition&&d.call(this,m)?A:(h.value=l.call(A,v.resolveContext?v.resolveContext(this):this),f(this,m,h),this[m])},S},gc=function(m){var h=s(arguments[1]);return e(h.resolveContext)&&i(h.resolveContext),a(m,function(v,A){return y(A,v,h)})},gc}var pc,Mp;function Rm(){if(Mp)return pc;Mp=1;var e=IC(),n=Af(),i=ho(),u=Qn(),s=er(),a=KC(),l=Dr(),f=Object.defineProperty,d=Object.defineProperties,y;return pc=y=function(m,h){if(!(this instanceof y))throw new TypeError("Constructor requires 'new'");d(this,{__list__:s("w",u(m)),__context__:s("w",h),__nextIndex__:s("w",0)}),h&&(i(h.on),h.on("_add",this._onAdd),h.on("_delete",this._onDelete),h.on("_clear",this._onClear))},delete y.prototype.constructor,d(y.prototype,n({_next:s(function(){var m;if(this.__list__){if(this.__redo__&&(m=this.__redo__.shift(),m!==void 0))return m;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:s(function(){return this._createResult(this._next())}),_createResult:s(function(m){return m===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(m)}}),_resolve:s(function(m){return this.__list__[m]}),_unBind:s(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:s(function(){return"[object "+(this[l.toStringTag]||"Object")+"]"})},a({_onAdd:s(function(m){if(!(m>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){f(this,"__redo__",s("c",[m]));return}this.__redo__.forEach(function(h,v){h>=m&&(this.__redo__[v]=++h)},this),this.__redo__.push(m)}}),_onDelete:s(function(m){var h;m>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(h=this.__redo__.indexOf(m),h!==-1&&this.__redo__.splice(h,1),this.__redo__.forEach(function(v,A){v>m&&(this.__redo__[A]=--v)},this)))}),_onClear:s(function(){this.__redo__&&e.call(this.__redo__),this.__nextIndex__=0})}))),f(y.prototype,l.iterator,s(function(){return this})),pc}var kp;function VC(){if(kp)return Pl.exports;kp=1;var e=Cf(),n=Im(),i=er(),u=Dr(),s=Rm(),a=Object.defineProperty,l;return l=Pl.exports=function(f,d){if(!(this instanceof l))throw new TypeError("Constructor requires 'new'");s.call(this,f),d?n.call(d,"key+value")?d="key+value":n.call(d,"key")?d="key":d="value":d="value",a(this,"__kind__",i("",d))},e&&e(l,s),delete l.prototype.constructor,l.prototype=Object.create(s.prototype,{_resolve:i(function(f){return this.__kind__==="value"?this.__list__[f]:this.__kind__==="key+value"?[f,this.__list__[f]]:f})}),a(l.prototype,u.toStringTag,i("c","Array Iterator")),Pl.exports}var mc={exports:{}},Lp;function YC(){if(Lp)return mc.exports;Lp=1;var e=Cf(),n=er(),i=Dr(),u=Rm(),s=Object.defineProperty,a;return a=mc.exports=function(l){if(!(this instanceof a))throw new TypeError("Constructor requires 'new'");l=String(l),u.call(this,l),s(this,"__length__",n("",l.length))},e&&e(a,u),delete a.prototype.constructor,a.prototype=Object.create(u.prototype,{_next:n(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:n(function(l){var f=this.__list__[l],d;return this.__nextIndex__===this.__length__?f:(d=f.charCodeAt(0),d>=55296&&d<=56319?f+this.__list__[this.__nextIndex__++]:f)})}),s(a.prototype,i.toStringTag,n("c","String Iterator")),mc.exports}var vc,Np;function XC(){if(Np)return vc;Np=1;var e=ra(),n=Tr(),i=ia(),u=Dr().iterator,s=Array.isArray;return vc=function(a){return n(a)?s(a)||i(a)||e(a)?!0:typeof a[u]=="function":!1},vc}var yc,zp;function ZC(){if(zp)return yc;zp=1;var e=XC();return yc=function(n){if(!e(n))throw new TypeError(n+" is not iterable");return n},yc}var _c,$p;function Om(){if($p)return _c;$p=1;var e=ra(),n=ia(),i=VC(),u=YC(),s=ZC(),a=Dr().iterator;return _c=function(l){return typeof s(l)[a]=="function"?l[a]():e(l)?new i(l):n(l)?new u(l):new i(l)},_c}var wc,Up;function JC(){if(Up)return wc;Up=1;var e=ra(),n=ho(),i=ia(),u=Om(),s=Array.isArray,a=Function.prototype.call,l=Array.prototype.some;return wc=function(f,d){var y,m=arguments[2],h,v,A,S,E,I,q;if(s(f)||e(f)?y="array":i(f)?y="string":f=u(f),n(d),v=function(){A=!0},y==="array"){l.call(f,function(j){return a.call(d,m,j,v),A});return}if(y==="string"){for(E=f.length,S=0;S<E&&(I=f[S],S+1<E&&(q=I.charCodeAt(0),q>=55296&&q<=56319&&(I+=f[++S])),a.call(d,m,I,v),!A);++S);return}for(h=f.next();!h.done;){if(a.call(d,m,h.value,v),A)return;h=f.next()}},wc}var bc,Hp;function QC(){return Hp||(Hp=1,bc=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()),bc}var xc,Wp;function e4(){if(Wp)return xc;Wp=1;var e=Tr(),n=Cf(),i=sC(),u=Qn(),s=lC(),a=er(),l=Om(),f=JC(),d=Dr().toStringTag,y=QC(),m=Array.isArray,h=Object.defineProperty,v=Object.prototype.hasOwnProperty,A=Object.getPrototypeOf,S;return xc=S=function(){var E=arguments[0],I;if(!(this instanceof S))throw new TypeError("Constructor requires 'new'");return I=y&&n&&WeakMap!==S?n(new WeakMap,A(this)):this,e(E)&&(m(E)||(E=l(E))),h(I,"__weakMapData__",a("c","$weakMap$"+s())),E&&f(E,function(q){u(q),I.set(q[0],q[1])}),I},y&&(n&&n(S,WeakMap),S.prototype=Object.create(WeakMap.prototype,{constructor:a(S)})),Object.defineProperties(S.prototype,{delete:a(function(E){return v.call(i(E),this.__weakMapData__)?(delete E[this.__weakMapData__],!0):!1}),get:a(function(E){if(v.call(i(E),this.__weakMapData__))return E[this.__weakMapData__]}),has:a(function(E){return v.call(i(E),this.__weakMapData__)}),set:a(function(E,I){return h(i(E),this.__weakMapData__,a("c",I)),this}),toString:a(function(){return"[object WeakMap]"})}),h(S.prototype,d,a("c","WeakMap")),xc}var t4=oC()?WeakMap:e4();Object.defineProperty(Ef,"__esModule",{value:!0});var n4=t4,qp=Xe,r4=function(){function e(n,i){this.mapFn=n,this.opts=i,this.cache=new n4}return e.prototype.map=function(n){return qp.isArray(n)?this.mapArray(n):qp.isObject(n)?this.mapObject(n):n},e.prototype.mapArray=function(n){if(this.cache.has(n))return this.cache.get(n);var i=n.length,u=[];this.cache.set(n,u);for(var s=0;s<i;s++)u.push(this.map(n[s]));return u},e.prototype.mapObject=function(n){if(this.cache.has(n))return this.cache.get(n);var i=this,u=i.mapFn,s=i.opts.thisArg,a={};this.cache.set(n,a);for(var l in n)n.hasOwnProperty(l)&&(a[u.call(s,l,n[l])]=this.map(n[l]));return a},e}();Ef.DeepMapKeys=r4;var Sc=Xe,i4=Ef;function o4(e,n,i){if(i=Sc.isNil(i)?{}:i,n)if(Sc.isFunction(n)){if(!Sc.isObject(i))throw new TypeError("options must be an object")}else throw new TypeError("mapFn must be a function");else throw new Error("mapFn is required");return new i4.DeepMapKeys(n,i).map(e)}var u4=o4;const Gp=uo(u4),a4="223d79a2a93234d7a04d7d3592b58ac2",s4="v3eced9l";async function Zc(e,n){const i=await fetch(`https://api.xiaomark.com${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apikey:a4,group_sid:s4,...Gp(n,Xe.snakeCase)})}).then(u=>u.json());if(i.code!==0)throw new Error(i.message||"Oops!");return Gp(i.data,Xe.camelCase)}async function Fm(e){const{link:n}=await Zc("/v1/link/create",{originUrl:e});return n.url=wm(n.url),n}async function Bm(e=50){const n="/v1/link/get",{total:i}=await Zc(n,{offset:0,limit:1}),{links:u}=await Zc(n,{offset:Math.max(0,i-e),limit:e});for(const s of u)s.url=wm(s.url);return{list:u}}const l4=Object.freeze(Object.defineProperty({__proto__:null,createLink:Fm,getLinks:Bm},Symbol.toStringTag,{value:"Module"})),c4=Object.freeze(Object.defineProperty({__proto__:null,applyTextNotation:li,contentToBlocks:pm,flattenNestedSpans:mm,getMarkPair:bf,htmlToManifest:fo,loadScriptWithCaching:vm,manifestToText:en,preface:iC,resolveTextNotation:ym,resolveTextShadowStyle:Sf,simplifyTextManifest:Zi,stringifyTextManifest:en,textNodeToElement:_m,textToHtml:pi,wrapWithMark:rt,xiaoMarkApi:l4},Symbol.toStringTag,{value:"Module"}));function Pm(e){return Xe.flow(pi,fo)(e)}function jm(e){return Xe.flow(en,pi)(e)}function Mm(e){return Xe.flow(fo,en)(e)}const f4=Object.freeze(Object.defineProperty({__proto__:null,html2Text:Mm,htmlToManifest:fo,manifest2Html:jm,manifestToText:en,textToHtml:pi,textToManifest:Pm},Symbol.toStringTag,{value:"Module"})),d4=e=>new ua(e);var qn;class ua{constructor(n){Ft(this,qn,void 0);Jt(this,qn,n)}toManifest(){return new aa(Pm(Ge(this,qn)))}toHtml(){return new sa(pi(Ge(this,qn)))}toString(){return Ge(this,qn)}valueOf(){return Ge(this,qn)}}qn=new WeakMap;const h4=e=>new aa(e);var Gn;class aa{constructor(n){Ft(this,Gn,void 0);Jt(this,Gn,n)}toText(){return new ua(en(Ge(this,Gn)))}toHtml(){return new sa(jm(Ge(this,Gn)))}toString(){return JSON.stringify(Ge(this,Gn))}valueOf(){return Ge(this,Gn)}}Gn=new WeakMap;const g4=e=>new sa(e);var Kn;class sa{constructor(n){Ft(this,Kn,void 0);Jt(this,Kn,n)}toText(){return new ua(Mm(Ge(this,Kn)))}toManifest(){return new aa(fo(Ge(this,Kn)))}toString(){return Ge(this,Kn)}valueOf(){return Ge(this,Kn)}}Kn=new WeakMap;const p4=Object.freeze(Object.defineProperty({__proto__:null,HTMLObject:sa,ManifestObject:aa,TextObject:ua,html:g4,manifest:h4,text:d4},Symbol.toStringTag,{value:"Module"})),{store:km,useStore:m4}=yf({drawerVisible:!1,colors:(()=>{try{const{colors:e}=Er.get("custom-theme",{colors:{}});return e}catch{return{}}})(),defaultColors:{}});function If(){const[e,n]=m4();return{customThemeState:e,setCustomThemeState:n}}{const e=Xe.debounce(n=>{Er.set("custom-theme",{colors:n})},500,{leading:!1,trailing:!0});km.subscribe(n=>n.colors,n=>{e(n)},{fireImmediately:!1})}Object.assign(globalThis,{customThemeStore:km});function Tf(){const[e,n]=lf(Kx);return{contentInputDom:e,setContentInputDom:n}}function Df(){const[e,n]=lf(Yx);return{selectedData:e,setSelectedData:n}}function v4(){const{contentInputDom:e}=Tf(),{selectedData:n,setSelectedData:i}=Df(),{run:u}=U0(()=>{const s=document.getSelection();let a=cf;if(e&&(s==null?void 0:s.focusNode)===e.parentNode){const l=e.selectionStart,f=e.selectionEnd,d=e.value.slice(l,f);a={start:l,end:f,text:d}}Xe.isEqual(a,n)||i(a)},{wait:300,leading:!1,trailing:!0});ai("selectionchange",u,{target:document})}function y4(){const{message:e}=ao.useApp(),{setGlobalState:n}=hm(),{settings:i}=An(),u=Lc(()=>new af,[]),[s,a]=N.useState(!1),l=N.useRef(!1),f=N.useRef(!1),d=gf(gt(async()=>{const y="init-loading";try{l.current=!0,e.loading({key:y,content:"\u4EEE\u540D\u8F9E\u66F8\u30C7\u30FC\u30BF\u3092\u8AAD\u307F\u8FBC\u3093\u3067\u3044\u307E\u3059\u3002\u3057\u3070\u3089\u304F\u304A\u5F85\u3061\u304F\u3060\u3055\u3044\u3002",duration:0});const{BASE_URL:m}={VITE_GIT_COMMIT_ID:"22c4488d",BASE_URL:"/jape",MODE:"production",DEV:!1,PROD:!0,SSR:!1};await Pu(250),window.KuromojiAnalyzer||(await vm({key:"kuroshiro-analyzer-kuromoji",version:"v1",src:`${m}/assets/kuroshiro-analyzer-kuromoji-1.1.0.min.js`}),void 0);const h=`${m}/dict/`,v=new KuromojiAnalyzer({dictPath:h});await u.init(v),f.current=!0,a(!0),n({huriganaizeReady:!0}),e.success("\u4EEE\u540D\u8F9E\u66F8\u30C7\u30FC\u30BF\u306E\u8AAD\u307F\u8FBC\u307F\u306B\u6210\u529F\u3057\u307E\u3057\u305F\u3002"),Object.assign(globalThis,{kuroshiro:u})}catch(m){`${(m==null?void 0:m.message)??m}`}finally{l.current=!1,e.destroy(y)}}));return N.useEffect(()=>{i.huriganaize&&!l.current&&!f.current&&d()},[i.huriganaize,d]),{kuroshiro:u,ready:s}}function Lm(){const[e,n]=lf(Xx);return{previewContentDom:e,setPreviewContentDom:n}}function _4(e,n){const i=T0(e,n);return N.useCallback(u=>i(Wn(u)),[i])}function w4(e,n){return[I0(e,n),_4(e,n)]}function An(){const[e,n]=w4(Yc);return{settings:e,setSettings:n}}const Kp=`:scope {
  
}`,b4=of.createInstance({name:"jape",storeName:"custom-css"}),{store:x4,useStore:S4}=yf({enabled:!1,cssText:Kp,bgImages:[],drawerVisible:!1,defaultCssText:Kp},{persist:{name:"data",version:0,storage:em(()=>b4),partialize:e=>({enabled:e.enabled,cssText:e.cssText,bgImages:e.bgImages})}});function vi(){const[e,n]=S4();return{customCssState:e,setCustomCssState:n}}Object.assign(globalThis,{customCssStore:x4});const E4="_previewPanel_s0oyi_1",C4="_iconSetPreviewPosition_s0oyi_10",A4="_preview_s0oyi_1",I4="_content_s0oyi_30",Wi={previewPanel:E4,iconSetPreviewPosition:C4,preview:A4,content:I4};function T4(){const e=N.useRef(null),{settings:n,setSettings:i}=An(),{huriganaize:u,previewPosition:s}=n,{setPreviewContentDom:a}=Lm(),{customCssState:l}=vi(),f=N.useMemo(()=>l.enabled?String(l.cssText).trim().replace(/:scope/g,`.${Wi.content}`).replace(/{{image([1-9])?}}/g,(A,S)=>l.bgImages[Number(S||1)-1]||""):"",[l]),d=I2(n.content,{wait:300,leading:!1,trailing:!0}),{kuroshiro:y,ready:m}=y4(),[h,v]=N.useState(null);return b2(async()=>{const A=bf(pe.NO_HURIGANA),S=await pm(d,{transform:[E=>Xe.escape(E),async E=>{if(!u||!m)return E;if(E.startsWith(A[0])&&E.endsWith(A[1])){const{entities:I}=na;if(!I[pe.CUSTOM_HURIGANA].pattern.test(E))return E}return E=E.replace(/[A-Z]/gi,"<ruby>$&<rp>(</rp><rt></rt><rp>)</rp></ruby>"),E=E.replace(/-?(?:\d*\.)?\d+/g,"<ruby>$&<rp>(</rp><rt></rt><rp>)</rp></ruby>"),E=await y.convert(E,{mode:"furigana",to:"hiragana"}),E=E.replace(/<rt>/g,"<rt contenteditable>"),E},E=>pi(E),E=>_m(E,{huriganaize:u})]});v(S)},[u,d,y,m]),N.useEffect(()=>(a(e.current),()=>{a(null)}),[a]),ai("focusin",A=>{const S=A.target;if(!S.matches("rt[contenteditable]"))return;const E=document.getSelection();if(E){E.removeAllRanges();const I=document.createRange();I.selectNodeContents(S),E.addRange(I)}},{target:e}),ai("beforeprint",()=>{if(e.current){const{scrollWidth:A,scrollHeight:S}=e.current;document.documentElement.style.setProperty("--print-size-w",`${A}px`),document.documentElement.style.setProperty("--print-size-h",`${S}px`)}},{target:window}),ai("afterprint",()=>{document.documentElement.style.removeProperty("--print-size-w"),document.documentElement.style.removeProperty("--print-size-h")},{target:window}),p.jsxs("div",{className:Xn(Wi.previewPanel,"preview-panel"),children:[p.jsxs("div",{className:Xn(Wi.preview,{"no-scrollbar":!0}),children:[p.jsx("div",{ref:e,className:Xn(Wi.content,{"no-scrollbar":!0}),children:h}),!!f&&p.jsx("style",{children:f})]}),p.jsx(at,{title:`\u30D7\u30EC\u30D3\u30E5\u30FC\u30A8\u30EA\u30A2\u304C${s==="left"?"\u53F3\u4FA7":"\u5DE6\u5074"}\u306B\u8868\u793A\u3055\u308C\u307E\u3059`,placement:"right",children:p.jsx(Ye,{type:"link",icon:s==="left"?p.jsx(z6,{}):p.jsx(v6,{}),className:Wi.iconSetPreviewPosition,onClick:A=>{var S;if(A.altKey){(S=e.current)==null||S.requestFullscreen({navigationUI:"hide"});return}i(E=>{E.previewPosition=s==="left"?"right":"left"})}})},s)]})}function D4(e,n){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const i=document.implementation.createHTMLDocument(),u=i.createElement("base"),s=i.createElement("a");return i.head.appendChild(u),i.body.appendChild(s),n&&(u.href=n),s.href=e,s.href}const R4=(()=>{let e=0;const n=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${n()}${e}`)})();function Zn(e){const n=[];for(let i=0,u=e.length;i<u;i++)n.push(e[i]);return n}let ti=null;function Nm(e={}){return ti||(e.includeStyleProperties?(ti=e.includeStyleProperties,ti):(ti=Zn(window.getComputedStyle(document.documentElement)),ti))}function ku(e,n){const u=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(n);return u?parseFloat(u.replace("px","")):0}function O4(e){const n=ku(e,"border-left-width"),i=ku(e,"border-right-width");return e.clientWidth+n+i}function F4(e){const n=ku(e,"border-top-width"),i=ku(e,"border-bottom-width");return e.clientHeight+n+i}function zm(e,n={}){const i=n.width||O4(e),u=n.height||F4(e);return{width:i,height:u}}function B4(){let e,n;try{n=process}catch{}const i=n&&n.env?n.env.devicePixelRatio:null;return i&&(e=parseInt(i,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Pt=16384;function P4(e){(e.width>Pt||e.height>Pt)&&(e.width>Pt&&e.height>Pt?e.width>e.height?(e.height*=Pt/e.width,e.width=Pt):(e.width*=Pt/e.height,e.height=Pt):e.width>Pt?(e.height*=Pt/e.width,e.width=Pt):(e.width*=Pt/e.height,e.height=Pt))}function j4(e,n={}){return e.toBlob?new Promise(i=>{e.toBlob(i,n.type?n.type:"image/png",n.quality?n.quality:1)}):new Promise(i=>{const u=window.atob(e.toDataURL(n.type?n.type:void 0,n.quality?n.quality:void 0).split(",")[1]),s=u.length,a=new Uint8Array(s);for(let l=0;l<s;l+=1)a[l]=u.charCodeAt(l);i(new Blob([a],{type:n.type?n.type:"image/png"}))})}function Lu(e){return new Promise((n,i)=>{const u=new Image;u.onload=()=>{u.decode().then(()=>{requestAnimationFrame(()=>n(u))})},u.onerror=i,u.crossOrigin="anonymous",u.decoding="async",u.src=e})}async function M4(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(n=>`data:image/svg+xml;charset=utf-8,${n}`)}async function k4(e,n,i){const u="http://www.w3.org/2000/svg",s=document.createElementNS(u,"svg"),a=document.createElementNS(u,"foreignObject");return s.setAttribute("width",`${n}`),s.setAttribute("height",`${i}`),s.setAttribute("viewBox",`0 0 ${n} ${i}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),s.appendChild(a),a.appendChild(e),M4(s)}const xt=(e,n)=>{if(e instanceof n)return!0;const i=Object.getPrototypeOf(e);return i===null?!1:i.constructor.name===n.name||xt(i,n)};function L4(e){const n=e.getPropertyValue("content");return`${e.cssText} content: '${n.replace(/'|"/g,"")}';`}function N4(e,n){return Nm(n).map(i=>{const u=e.getPropertyValue(i),s=e.getPropertyPriority(i);return`${i}: ${u}${s?" !important":""};`}).join(" ")}function z4(e,n,i,u){const s=`.${e}:${n}`,a=i.cssText?L4(i):N4(i,u);return document.createTextNode(`${s}{${a}}`)}function Vp(e,n,i,u){const s=window.getComputedStyle(e,i),a=s.getPropertyValue("content");if(a===""||a==="none")return;const l=R4();try{n.className=`${n.className} ${l}`}catch{return}const f=document.createElement("style");f.appendChild(z4(l,i,s,u)),n.appendChild(f)}function $4(e,n,i){Vp(e,n,":before",i),Vp(e,n,":after",i)}const Yp="application/font-woff",Xp="image/jpeg",U4={woff:Yp,woff2:Yp,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Xp,jpeg:Xp,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function H4(e){const n=/\.([^./]*?)$/g.exec(e);return n?n[1]:""}function Rf(e){const n=H4(e).toLowerCase();return U4[n]||""}function W4(e){return e.split(/,/)[1]}function Jc(e){return e.search(/^(data:)/)!==-1}function $m(e,n){return`data:${n};base64,${e}`}async function Um(e,n,i){const u=await fetch(e,n);if(u.status===404)throw new Error(`Resource "${u.url}" not found`);const s=await u.blob();return new Promise((a,l)=>{const f=new FileReader;f.onerror=l,f.onloadend=()=>{try{a(i({res:u,result:f.result}))}catch(d){l(d)}},f.readAsDataURL(s)})}const Ec={};function q4(e,n,i){let u=e.replace(/\?.*/,"");return i&&(u=e),/ttf|otf|eot|woff2?/i.test(u)&&(u=u.replace(/.*\//,"")),n?`[${n}]${u}`:u}async function Of(e,n,i){const u=q4(e,n,i.includeQueryParams);if(Ec[u]!=null)return Ec[u];i.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let s;try{const a=await Um(e,i.fetchRequestInit,({res:l,result:f})=>(n||(n=l.headers.get("Content-Type")||""),W4(f)));s=$m(a,n)}catch(a){s=i.imagePlaceholder||"";let l=`Failed to fetch resource: ${e}`;a&&(l=typeof a=="string"?a:a.message),l&&console.warn(l)}return Ec[u]=s,s}async function G4(e){const n=e.toDataURL();return n==="data:,"?e.cloneNode(!1):Lu(n)}async function K4(e,n){if(e.currentSrc){const a=document.createElement("canvas"),l=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,l==null||l.drawImage(e,0,0,a.width,a.height);const f=a.toDataURL();return Lu(f)}const i=e.poster,u=Rf(i),s=await Of(i,u,n);return Lu(s)}async function V4(e,n){var i;try{if(!((i=e==null?void 0:e.contentDocument)===null||i===void 0)&&i.body)return await la(e.contentDocument.body,n,!0)}catch{}return e.cloneNode(!1)}async function Y4(e,n){return xt(e,HTMLCanvasElement)?G4(e):xt(e,HTMLVideoElement)?K4(e,n):xt(e,HTMLIFrameElement)?V4(e,n):e.cloneNode(Hm(e))}const X4=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Hm=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function Z4(e,n,i){var u,s;if(Hm(n))return n;let a=[];return X4(e)&&e.assignedNodes?a=Zn(e.assignedNodes()):xt(e,HTMLIFrameElement)&&(!((u=e.contentDocument)===null||u===void 0)&&u.body)?a=Zn(e.contentDocument.body.childNodes):a=Zn(((s=e.shadowRoot)!==null&&s!==void 0?s:e).childNodes),a.length===0||xt(e,HTMLVideoElement)||await a.reduce((l,f)=>l.then(()=>la(f,i)).then(d=>{d&&n.appendChild(d)}),Promise.resolve()),n}function J4(e,n,i){const u=n.style;if(!u)return;const s=window.getComputedStyle(e);s.cssText?(u.cssText=s.cssText,u.transformOrigin=s.transformOrigin):Nm(i).forEach(a=>{let l=s.getPropertyValue(a);a==="font-size"&&l.endsWith("px")&&(l=`${Math.floor(parseFloat(l.substring(0,l.length-2)))-.1}px`),xt(e,HTMLIFrameElement)&&a==="display"&&l==="inline"&&(l="block"),a==="d"&&n.getAttribute("d")&&(l=`path(${n.getAttribute("d")})`),u.setProperty(a,l,s.getPropertyPriority(a))})}function Q4(e,n){xt(e,HTMLTextAreaElement)&&(n.innerHTML=e.value),xt(e,HTMLInputElement)&&n.setAttribute("value",e.value)}function eA(e,n){if(xt(e,HTMLSelectElement)){const i=n,u=Array.from(i.children).find(s=>e.value===s.getAttribute("value"));u&&u.setAttribute("selected","")}}function tA(e,n,i){return xt(n,Element)&&(J4(e,n,i),$4(e,n,i),Q4(e,n),eA(e,n)),n}async function nA(e,n){const i=e.querySelectorAll?e.querySelectorAll("use"):[];if(i.length===0)return e;const u={};for(let a=0;a<i.length;a++){const f=i[a].getAttribute("xlink:href");if(f){const d=e.querySelector(f),y=document.querySelector(f);!d&&y&&!u[f]&&(u[f]=await la(y,n,!0))}}const s=Object.values(u);if(s.length){const a="http://www.w3.org/1999/xhtml",l=document.createElementNS(a,"svg");l.setAttribute("xmlns",a),l.style.position="absolute",l.style.width="0",l.style.height="0",l.style.overflow="hidden",l.style.display="none";const f=document.createElementNS(a,"defs");l.appendChild(f);for(let d=0;d<s.length;d++)f.appendChild(s[d]);e.appendChild(l)}return e}async function la(e,n,i){return!i&&n.filter&&!n.filter(e)?null:Promise.resolve(e).then(u=>Y4(u,n)).then(u=>Z4(e,u,n)).then(u=>tA(e,u,n)).then(u=>nA(u,n))}const Wm=/url\((['"]?)([^'"]+?)\1\)/g,rA=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,iA=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function oA(e){const n=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${n})(['"]?\\))`,"g")}function uA(e){const n=[];return e.replace(Wm,(i,u,s)=>(n.push(s),i)),n.filter(i=>!Jc(i))}async function aA(e,n,i,u,s){try{const a=i?D4(n,i):n,l=Rf(n);let f;if(s){const d=await s(a);f=$m(d,l)}else f=await Of(a,l,u);return e.replace(oA(n),`$1${f}$3`)}catch{}return e}function sA(e,{preferredFontFormat:n}){return n?e.replace(iA,i=>{for(;;){const[u,,s]=rA.exec(i)||[];if(!s)return"";if(s===n)return`src: ${u};`}}):e}function qm(e){return e.search(Wm)!==-1}async function Gm(e,n,i){if(!qm(e))return e;const u=sA(e,i);return uA(u).reduce((a,l)=>a.then(f=>aA(f,l,n,i)),Promise.resolve(u))}async function ni(e,n,i){var u;const s=(u=n.style)===null||u===void 0?void 0:u.getPropertyValue(e);if(s){const a=await Gm(s,null,i);return n.style.setProperty(e,a,n.style.getPropertyPriority(e)),!0}return!1}async function lA(e,n){await ni("background",e,n)||await ni("background-image",e,n),await ni("mask",e,n)||await ni("-webkit-mask",e,n)||await ni("mask-image",e,n)||await ni("-webkit-mask-image",e,n)}async function cA(e,n){const i=xt(e,HTMLImageElement);if(!(i&&!Jc(e.src))&&!(xt(e,SVGImageElement)&&!Jc(e.href.baseVal)))return;const u=i?e.src:e.href.baseVal,s=await Of(u,Rf(u),n);await new Promise((a,l)=>{e.onload=a,e.onerror=n.onImageErrorHandler?(...d)=>{try{a(n.onImageErrorHandler(...d))}catch(y){l(y)}}:l;const f=e;f.decode&&(f.decode=a),f.loading==="lazy"&&(f.loading="eager"),i?(e.srcset="",e.src=s):e.href.baseVal=s})}async function fA(e,n){const u=Zn(e.childNodes).map(s=>Km(s,n));await Promise.all(u).then(()=>e)}async function Km(e,n){xt(e,Element)&&(await lA(e,n),await cA(e,n),await fA(e,n))}function dA(e,n){const{style:i}=e;n.backgroundColor&&(i.backgroundColor=n.backgroundColor),n.width&&(i.width=`${n.width}px`),n.height&&(i.height=`${n.height}px`);const u=n.style;return u!=null&&Object.keys(u).forEach(s=>{i[s]=u[s]}),e}const Zp={};async function Jp(e){let n=Zp[e];if(n!=null)return n;const u=await(await fetch(e)).text();return n={url:e,cssText:u},Zp[e]=n,n}async function Qp(e,n){let i=e.cssText;const u=/url\(["']?([^"')]+)["']?\)/g,a=(i.match(/url\([^)]+\)/g)||[]).map(async l=>{let f=l.replace(u,"$1");return f.startsWith("https://")||(f=new URL(f,e.url).href),Um(f,n.fetchRequestInit,({result:d})=>(i=i.replace(l,`url(${d})`),[l,d]))});return Promise.all(a).then(()=>i)}function e0(e){if(e==null)return[];const n=[],i=/(\/\*[\s\S]*?\*\/)/gi;let u=e.replace(i,"");const s=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const d=s.exec(u);if(d===null)break;n.push(d[0])}u=u.replace(s,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",f=new RegExp(l,"gi");for(;;){let d=a.exec(u);if(d===null){if(d=f.exec(u),d===null)break;a.lastIndex=f.lastIndex}else f.lastIndex=a.lastIndex;n.push(d[0])}return n}async function hA(e,n){const i=[],u=[];return e.forEach(s=>{if("cssRules"in s)try{Zn(s.cssRules||[]).forEach((a,l)=>{if(a.type===CSSRule.IMPORT_RULE){let f=l+1;const d=a.href,y=Jp(d).then(m=>Qp(m,n)).then(m=>e0(m).forEach(h=>{try{s.insertRule(h,h.startsWith("@import")?f+=1:s.cssRules.length)}catch(v){console.error("Error inserting rule from remote css",{rule:h,error:v})}})).catch(m=>{console.error("Error loading remote css",m.toString())});u.push(y)}})}catch(a){const l=e.find(f=>f.href==null)||document.styleSheets[0];s.href!=null&&u.push(Jp(s.href).then(f=>Qp(f,n)).then(f=>e0(f).forEach(d=>{l.insertRule(d,l.cssRules.length)})).catch(f=>{console.error("Error loading remote stylesheet",f)})),console.error("Error inlining remote css file",a)}}),Promise.all(u).then(()=>(e.forEach(s=>{if("cssRules"in s)try{Zn(s.cssRules||[]).forEach(a=>{i.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${s.href}`,a)}}),i))}function gA(e){return e.filter(n=>n.type===CSSRule.FONT_FACE_RULE).filter(n=>qm(n.style.getPropertyValue("src")))}async function pA(e,n){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const i=Zn(e.ownerDocument.styleSheets),u=await hA(i,n);return gA(u)}function Vm(e){return e.trim().replace(/["']/g,"")}function mA(e){const n=new Set;function i(u){(u.style.fontFamily||getComputedStyle(u).fontFamily).split(",").forEach(a=>{n.add(Vm(a))}),Array.from(u.children).forEach(a=>{a instanceof HTMLElement&&i(a)})}return i(e),n}async function vA(e,n){const i=await pA(e,n),u=mA(e);return(await Promise.all(i.filter(a=>u.has(Vm(a.style.fontFamily))).map(a=>{const l=a.parentStyleSheet?a.parentStyleSheet.href:null;return Gm(a.cssText,l,n)}))).join(`
`)}async function yA(e,n){const i=n.fontEmbedCSS!=null?n.fontEmbedCSS:n.skipFonts?null:await vA(e,n);if(i){const u=document.createElement("style"),s=document.createTextNode(i);u.appendChild(s),e.firstChild?e.insertBefore(u,e.firstChild):e.appendChild(u)}}async function _A(e,n={}){const{width:i,height:u}=zm(e,n),s=await la(e,n,!0);return await yA(s,n),await Km(s,n),dA(s,n),await k4(s,i,u)}async function wA(e,n={}){const{width:i,height:u}=zm(e,n),s=await _A(e,n),a=await Lu(s),l=document.createElement("canvas"),f=l.getContext("2d"),d=n.pixelRatio||B4(),y=n.canvasWidth||i,m=n.canvasHeight||u;return l.width=y*d,l.height=m*d,n.skipAutoScale||P4(l),l.style.width=`${y}`,l.style.height=`${m}`,n.backgroundColor&&(f.fillStyle=n.backgroundColor,f.fillRect(0,0,l.width,l.height)),f.drawImage(a,0,0,l.width,l.height),l}async function bA(e,n={}){const i=await wA(e,n);return await j4(i)}var sn=new Map,Au=new Map,bt=new Map,Gi=new Map,Iu=new Map,t0=new WeakMap,Sn=new Set,xA=["div","span","p","a","img","ul","li","button","input","select","textarea","label","section","article","header","footer","nav","main","aside","h1","h2","h3","h4","h5","h6","svg","path","circle","rect","line","g","table","thead","tbody","tr","td","th"];function SA(){for(let e of xA)Ym(e)}function Ym(e){if(Gi.has(e))return Gi.get(e);if(new Set(["script","style","meta","link","noscript","template"]).has(e)){const l={};return Gi.set(e,l),l}let i=document.getElementById("snapdom-sandbox");i||(i=document.createElement("div"),i.id="snapdom-sandbox",i.style.position="absolute",i.style.left="-9999px",i.style.top="-9999px",i.style.width="0",i.style.height="0",i.style.overflow="hidden",document.body.appendChild(i));const u=document.createElement(e);u.style.all="initial",i.appendChild(u);const s=getComputedStyle(u),a={};for(let l of s)a[l]=s.getPropertyValue(l);return i.removeChild(u),Gi.set(e,a),a}function Qc(e,n,i=!1){const u=[],s=Ym(n);for(let[a,l]of Object.entries(e))if(!i)l&&u.push(`${a}:${l}`);else{const f=s[a];l&&l!==f&&u.push(`${a}:${l}`)}return u.sort().join(";")}function EA(e){const n=new Set;return e.nodeType!==Node.ELEMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE?[]:(e.tagName&&n.add(e.tagName.toLowerCase()),typeof e.querySelectorAll=="function"&&e.querySelectorAll("*").forEach(i=>n.add(i.tagName.toLowerCase())),Array.from(n))}function CA(e){const n=new Map;for(let u of e){const s=Gi.get(u);if(!s)continue;const a=Object.entries(s).map(([l,f])=>`${l}:${f};`).sort().join("");n.has(a)||n.set(a,[]),n.get(a).push(u)}let i="";for(let[u,s]of n.entries())i+=`${s.join(",")} { ${u} }
`;return i}function AA(e){const n=new Set(e.values()),i=new Map;let u=1;for(const s of n)i.set(s,`c${u++}`);return i}async function Ff(e,n={}){const i=e.match(/url\(["']?(.*?)["']?\)/),u=i==null?void 0:i[1],s=/^((repeating-)?(linear|radial|conic)-gradient)\(/i.test(e);if(u){const a=Bf(u);if(Au.has(a))return n.skipInline?void 0:`url(${Au.get(a)})`;{const l=await fa(a,{useProxy:n.useProxy});return Au.set(a,l),n.skipInline?void 0:`url("${l}")`}}return e}function qi(e,{fast:n=!1}={}){if(n)return e();"requestIdleCallback"in window?requestIdleCallback(e,{timeout:50}):setTimeout(e,1)}function ca(e,n=null){if(!(e instanceof Element))return window.getComputedStyle(e,n);let i=t0.get(e);if(i||(i=new Map,t0.set(e,i)),!i.has(n)){const u=window.getComputedStyle(e,n);i.set(n,u)}return i.get(n)}function IA(e){let n=e.replace(/^['"]|['"]$/g,"");if(n.startsWith("\\"))try{return String.fromCharCode(parseInt(n.replace("\\",""),16))}catch{return n}return n}function Xm(e){const n=e.indexOf("url(");if(n===-1)return null;let i=e.slice(n+4).trim();return i.endsWith(")")&&(i=i.slice(0,-1).trim()),(i.startsWith('"')&&i.endsWith('"')||i.startsWith("'")&&i.endsWith("'"))&&(i=i.slice(1,-1)),i}function fa(e,{timeout:n=3e3,useProxy:i=""}={}){function u(d){try{return new URL(d,window.location.href).origin===window.location.origin?"use-credentials":"anonymous"}catch{return"anonymous"}}async function s(d){const y=m=>fetch(m,{mode:"cors",credentials:u(m)==="use-credentials"?"include":"omit"}).then(h=>h.blob()).then(h=>new Promise((v,A)=>{const S=new FileReader;S.onloadend=()=>{const E=S.result;if(typeof E!="string"||!E.startsWith("data:image/")){A(new Error("Invalid image data URL"));return}v(E)},S.onerror=()=>A(new Error("FileReader error")),S.readAsDataURL(h)}));try{return await y(d)}catch{if(i&&typeof i=="string"){const h=i.replace(/\/$/,"")+Bf(d);try{return await y(h)}catch{throw console.error(`[SnapDOM - fetchImage] Proxy fallback failed for: ${d}`),new Error("CORS restrictions prevented image capture (even via proxy)")}}else throw console.error(`[SnapDOM - fetchImage] No valid proxy URL provided for fallback: ${d}`),new Error("Fetch fallback failed and no proxy provided")}}const a=u(e);return console.log(`[SnapDOM - fetchImage] Start loading image: ${e} with crossOrigin=${a}`),sn.has(e)?(console.log(`[SnapDOM - fetchImage] Cache hit for: ${e}`),Promise.resolve(sn.get(e))):e.startsWith("data:image/")?(sn.set(e,e),Promise.resolve(e)):/\.svg(\?.*)?$/i.test(e)?(async()=>{try{const y=await(await fetch(e,{mode:"cors",credentials:a==="use-credentials"?"include":"omit"})).text(),m=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(y)}`;return sn.set(e,m),m}catch{return s(e)}})():new Promise((d,y)=>{const m=setTimeout(()=>{console.log(`[SnapDOM - fetchImage] Timeout after ${n}ms for image: ${e}`),y(new Error("Image load timed out"))},n),h=new Image;h.crossOrigin=a,h.onload=async()=>{clearTimeout(m);try{await h.decode();const v=document.createElement("canvas");v.width=h.width,v.height=h.height,v.getContext("2d").drawImage(h,0,0,v.width,v.height);const S=v.toDataURL("image/png");sn.set(e,S),d(S)}catch{try{const v=await s(e);sn.set(e,v),d(v)}catch(v){y(v)}}},h.onerror=async()=>{clearTimeout(m),console.error(`[SnapDOM - fetchImage] Image failed to load: ${e}`);try{const v=await s(e);sn.set(e,v),d(v)}catch(v){y(v)}},h.src=e})}function n0(e){const n={};for(let i of e)n[i]=e.getPropertyValue(i);return n}function Zm(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function TA(e){if(!e||e==="none")return"";let n=e.replace(/translate[XY]?\([^)]*\)/g,"");return n=n.replace(/matrix\(([^)]+)\)/g,(i,u)=>{const s=u.split(",").map(a=>a.trim());return s.length!==6?`matrix(${u})`:(s[4]="0",s[5]="0",`matrix(${s.join(", ")})`)}),n=n.replace(/matrix3d\(([^)]+)\)/g,(i,u)=>{const s=u.split(",").map(a=>a.trim());return s.length!==16?`matrix3d(${u})`:(s[12]="0",s[13]="0",`matrix3d(${s.join(", ")})`)}),n.trim().replace(/\s{2,}/g," ")}function Bf(e){if(/%[0-9A-Fa-f]{2}/.test(e))return e;try{return encodeURI(e)}catch{return e}}function Pf(e){const n=[];let i=0,u=0;for(let s=0;s<e.length;s++){const a=e[s];a==="("&&i++,a===")"&&i--,a===","&&i===0&&(n.push(e.slice(u,s).trim()),u=s+1)}return n.push(e.slice(u).trim()),n}var Cc=new WeakMap,Ac=new Map;function DA(e){const n={};for(let i=0;i<e.length;i++){const u=e[i];let s=e.getPropertyValue(u);(u==="background-image"||u==="content")&&s.includes("url(")&&!s.includes("data:")&&(s="none"),n[u]=s}return n}function r0(e,n,i,u,s){var m;if(e.tagName==="STYLE")return;u.has(e)||u.set(e,ca(e));const a=u.get(e);if(!Cc.has(e)){const h=DA(a);Cc.set(e,h)}const l=Cc.get(e),f=Object.entries(l).sort(([h],[v])=>h.localeCompare(v)).map(([h,v])=>`${h}:${v}`).join(";");if(Ac.has(f)){i.set(n,Ac.get(f));return}const d=((m=e.tagName)==null?void 0:m.toLowerCase())||"div",y=Qc(l,d,s);Ac.set(f,y),i.set(n,y)}function RA(e){return e.nodeType===Node.ELEMENT_NODE&&e.tagName==="SLOT"}function Tu(e,n,i,u,s,a={},l){var d,y;if(e.nodeType===Node.TEXT_NODE||e.nodeType!==Node.ELEMENT_NODE)return e.cloneNode(!0);if(e.getAttribute("data-capture")==="exclude"){const m=document.createElement("div"),h=e.getBoundingClientRect();return m.style.cssText=`display: inline-block; width: ${h.width}px; height: ${h.height}px; visibility: hidden;`,m}if(a.exclude&&Array.isArray(a.exclude))for(const m of a.exclude)try{if((d=e.matches)!=null&&d.call(e,m)){const h=document.createElement("div"),v=e.getBoundingClientRect();return h.style.cssText=`display: inline-block; width: ${v.width}px; height: ${v.height}px; visibility: hidden;`,h}}catch(h){console.warn(`Invalid selector in exclude option: ${m}`,h)}if(typeof a.filter=="function")try{if(!a.filter(e,l||e)){const m=document.createElement("div"),h=e.getBoundingClientRect();return m.style.cssText=`display: inline-block; width: ${h.width}px; height: ${h.height}px; visibility: hidden;`,m}}catch(m){console.warn("Error in filter function:",m)}if(e.tagName==="IFRAME"){const m=document.createElement("div");return m.textContent="",m.style.cssText=`width: ${e.offsetWidth}px; height: ${e.offsetHeight}px; background-image: repeating-linear-gradient(45deg, #ddd, #ddd 5px, #f9f9f9 5px, #f9f9f9 10px);display: flex;align-items: center;justify-content: center;font-size: 12px;color: #555; border: 1px solid #aaa;`,m}if(e.getAttribute("data-capture")==="placeholder"){const m=e.cloneNode(!1);u.set(m,e),r0(e,m,n,i,s);const h=document.createElement("div");return h.textContent=e.getAttribute("data-placeholder-text")||"",h.style.cssText="color: #666;font-size: 12px;text-align: center;line-height: 1.4;padding: 0.5em;box-sizing: border-box;",m.appendChild(h),m}if(e.tagName==="CANVAS"){const m=e.toDataURL(),h=document.createElement("img");return h.src=m,h.width=e.width,h.height=e.height,h.style.display="inline-block",h.style.width=e.style.width||`${e.width}px`,h.style.height=e.style.height||`${e.height}px`,h}const f=e.cloneNode(!1);if(u.set(f,e),e instanceof HTMLInputElement)f.value=e.value,f.setAttribute("value",e.value),e.checked!==void 0&&(f.checked=e.checked,e.checked&&f.setAttribute("checked",""));else if(e instanceof HTMLTextAreaElement){const m=e.getBoundingClientRect();f.textContent=e.value,f.style.width=`${m.width}px`,f.style.height=`${m.height}px`}else e instanceof HTMLSelectElement&&(f.value=e.value,Array.from(f.options).forEach(m=>{m.value===e.value?m.setAttribute("selected",""):m.removeAttribute("selected")}));if(r0(e,f,n,i,s),RA(e)){const m=((y=e.assignedNodes)==null?void 0:y.call(e,{flatten:!0}))||[],h=m.length>0?m:Array.from(e.childNodes),v=document.createDocumentFragment();for(const A of h){const S=Tu(A,n,i,u,s,a,l||e);S&&v.appendChild(S)}return v}else if(!(e instanceof HTMLTextAreaElement)){const m=e.shadowRoot?e.shadowRoot.childNodes:e.childNodes;for(const h of m){const v=Tu(h,n,i,u,s,a,l||e);v&&f.appendChild(v)}if(e.shadowRoot&&e.childNodes.length>0&&!e.shadowRoot.querySelector("slot")){const h=document.createDocumentFragment();for(const v of e.childNodes){const A=Tu(v,n,i,u,s,a,l||e);A&&h.appendChild(A)}f.appendChild(h)}}return f}var OA=[/font\s*awesome/i,/material\s*icons/i,/ionicons/i,/glyphicons/i,/feather/i,/bootstrap\s*icons/i,/remix\s*icons/i,/heroicons/i,/layui/i,/lucide/i],ef=[];function FA(e){const n=Array.isArray(e)?e:[e];for(const i of n)i instanceof RegExp?ef.push(i):typeof i=="string"?ef.push(new RegExp(i,"i")):console.warn("[snapdom] Ignored invalid iconFont value:",i)}function Hn(e){const n=typeof e=="string"?e:"",i=[...OA,...ef];for(const u of i)if(u instanceof RegExp&&u.test(n))return!0;return!!(/icon/i.test(n)||/glyph/i.test(n)||/symbols/i.test(n)||/feather/i.test(n)||/fontawesome/i.test(n))}async function BA(e,n,i,u=32,s="#000"){n=n.replace(/^['"]+|['"]+$/g,"");const a=window.devicePixelRatio||1,f=document.createElement("canvas").getContext("2d");f.font=i?`${i} ${u}px "${n}"`:`${u}px "${n}"`;const d=f.measureText(e),y=d.actualBoundingBoxAscent||u*.8,m=d.actualBoundingBoxDescent||u*.2,h=y+m,v=d.width,A=document.createElement("canvas");A.width=Math.ceil(v*a),A.height=Math.ceil(h*a);const S=A.getContext("2d");return S.scale(a,a),S.font=f.font,S.textAlign="left",S.textBaseline="alphabetic",S.fillStyle=s,S.fillText(e,0,y),A.toDataURL()}function Jm(e){return Array.from(document.styleSheets).some(n=>n.href===e)}function PA(e){return new Promise(n=>{if(Jm(e))return n(null);const i=document.createElement("link");i.rel="stylesheet",i.href=e,i.setAttribute("data-snapdom","injected-import"),i.onload=()=>n(i),i.onerror=()=>n(null),document.head.appendChild(i)})}async function Qm({preCached:e=!1}={}){if(bt.has("fonts-embed-css")){if(e){const a=document.createElement("style");a.setAttribute("data-snapdom","embedFonts"),a.textContent=bt.get("fonts-embed-css"),document.head.appendChild(a)}return bt.get("fonts-embed-css")}const n=/@import\s+url\(["']?([^"')]+)["']?\)/g,i=[];for(const a of document.querySelectorAll("style")){const l=a.textContent||"",f=Array.from(l.matchAll(n));for(const d of f){const y=d[1];Hn(y)||Jm(y)||i.push(y)}}await Promise.all(i.map(PA));const u=Array.from(document.querySelectorAll('link[rel="stylesheet"]')).filter(a=>a.href);let s="";for(const a of u)try{const f=await(await fetch(a.href)).text();if(Hn(a.href)||Hn(f))continue;const d=/url\((["']?)([^"')]+)\1\)/g,y=await Promise.all(Array.from(f.matchAll(d)).map(async h=>{let v=Xm(h[0]);if(!v)return null;let A=v;if(!A.startsWith("http")&&!A.startsWith("data:")&&(A=new URL(A,a.href).href),Hn(A))return null;if(bt.has(A))return Sn.add(A),{original:h[0],inlined:`url(${bt.get(A)})`};if(Sn.has(A))return null;try{const E=await(await fetch(A)).blob(),I=await new Promise(q=>{const j=new FileReader;j.onload=()=>q(j.result),j.readAsDataURL(E)});return bt.set(A,I),Sn.add(A),{original:h[0],inlined:`url(${I})`}}catch{return console.warn("[snapdom] Failed to fetch font resource:",A),null}}));let m=f;for(const h of y)h&&(m=m.replace(h.original,h.inlined));s+=m+`
`}catch{console.warn("[snapdom] Failed to fetch CSS:",a.href)}for(const a of document.styleSheets)try{if(!a.href||u.every(l=>l.href!==a.href)){for(const l of a.cssRules)if(l.type===CSSRule.FONT_FACE_RULE){const f=l.style.getPropertyValue("src"),d=l.style.getPropertyValue("font-family");if(!f||Hn(d))continue;const y=/url\((["']?)([^"')]+)\1\)/g;let m=f;const h=Array.from(f.matchAll(y));for(const v of h){let A=v[2].trim();if(!A)continue;let S=A;if(!S.startsWith("http")&&!S.startsWith("data:")&&(S=new URL(S,a.href||location.href).href),!Hn(S)){if(bt.has(S)){Sn.add(S),m=m.replace(v[0],`url(${bt.get(S)})`);continue}if(!Sn.has(S))try{const I=await(await fetch(S)).blob(),q=await new Promise(j=>{const oe=new FileReader;oe.onload=()=>j(oe.result),oe.readAsDataURL(I)});bt.set(S,q),Sn.add(S),m=m.replace(v[0],`url(${q})`)}catch{console.warn("[snapdom] Failed to fetch font URL:",S)}}}s+=`@font-face {
  font-family: ${d};
  src: ${m};
  font-style: ${l.style.getPropertyValue("font-style")||"normal"};
  font-weight: ${l.style.getPropertyValue("font-weight")||"normal"};
}
`}}}catch(l){console.warn("[snapdom] Cannot access stylesheet",a.href,l)}for(const a of document.fonts)if(a.family&&a.status==="loaded"&&a._snapdomSrc){if(Hn(a.family))continue;let l=a._snapdomSrc;if(!l.startsWith("data:")){if(bt.has(a._snapdomSrc))l=bt.get(a._snapdomSrc),Sn.add(a._snapdomSrc);else if(!Sn.has(a._snapdomSrc))try{const d=await(await fetch(a._snapdomSrc)).blob();l=await new Promise(y=>{const m=new FileReader;m.onload=()=>y(m.result),m.readAsDataURL(d)}),bt.set(a._snapdomSrc,l),Sn.add(a._snapdomSrc)}catch{console.warn("[snapdom] Failed to fetch dynamic font src:",a._snapdomSrc);continue}}s+=`@font-face {
  font-family: '${a.family}';
  src: url(${l});
  font-style: ${a.style||"normal"};
  font-weight: ${a.weight||"normal"};
}
`}if(s&&(bt.set("fonts-embed-css",s),e)){const a=document.createElement("style");a.setAttribute("data-snapdom","embedFonts"),a.textContent=s,document.head.appendChild(a)}return s}async function ev(e,n,i,u,s,a=!1,l){if(!(e instanceof Element)||!(n instanceof Element))return;for(const y of["::before","::after","::first-letter"])try{const m=ca(e,y);if(!m||typeof m[Symbol.iterator]!="function")continue;if(y==="::first-letter"){const q=getComputedStyle(e);if(!(m.color!==q.color||m.fontSize!==q.fontSize||m.fontWeight!==q.fontWeight))continue;const oe=Array.from(n.childNodes).find(X=>X.nodeType===Node.TEXT_NODE&&X.textContent&&X.textContent.trim().length>0);if(!oe)continue;const ue=oe.textContent,L=ue.match(/^([^\p{L}\p{N}\s]*[\p{L}\p{N}](?:['])?)/u),U=L==null?void 0:L[0],Y=ue.slice((U==null?void 0:U.length)||0);if(!U||/[\uD800-\uDFFF]/.test(U))continue;const M=document.createElement("span");M.textContent=U,M.dataset.snapdomPseudo="::first-letter";const G=n0(m),re=Qc(G,"span",s);i.set(M,re);const te=document.createTextNode(Y);n.replaceChild(te,oe),n.insertBefore(M,te);continue}const h=m.getPropertyValue("content"),v=m.getPropertyValue("background-image"),A=m.getPropertyValue("background-color"),S=h!=="none",E=v&&v!=="none",I=A&&A!=="transparent"&&A!=="rgba(0, 0, 0, 0)";if(S||E||I){const q=m.getPropertyValue("font-family"),j=parseInt(m.getPropertyValue("font-size"))||32,oe=parseInt(m.getPropertyValue("font-weight"))||!1,ue=m.getPropertyValue("color")||"#000",L=document.createElement("span");L.dataset.snapdomPseudo=y;const U=n0(m),Y=Qc(U,"span",s);i.set(L,Y);const M=Hn(q),G=IA(h);if(M&&G.length===1){const X=document.createElement("img");X.src=await BA(G,q,oe,j,ue),X.style=`width:${j}px;height:auto;object-fit:contain;`,L.appendChild(X)}else if(G.startsWith("url(")){const X=Xm(G);if(X&&X.trim()!=="")try{const ne=document.createElement("img"),ee=await fa(Bf(X,{useProxy:l}));ne.src=ee,ne.style=`width:${j}px;height:auto;object-fit:contain;`,L.appendChild(ne)}catch(ne){console.error(`[snapdom] Error in pseudo ${y} for`,e,ne)}}else!M&&G&&G!=="none"&&(L.textContent=G);if(E)try{const X=Pf(v),ne=await Promise.all(X.map(ee=>Ff(ee)));L.style.backgroundImage=ne.join(", ")}catch(X){console.warn(`[snapdom] Failed to inline background-image for ${y}`,X)}if(I&&(L.style.backgroundColor=A),!(L.childNodes.length>0||L.textContent&&L.textContent.trim()!==""||E||I))continue;y==="::before"?n.insertBefore(L,n.firstChild):n.appendChild(L)}}catch(m){console.warn(`[snapdom] Failed to capture ${y} for`,e,m)}const f=Array.from(e.children),d=Array.from(n.children).filter(y=>!y.dataset.snapdomPseudo);for(let y=0;y<Math.min(f.length,d.length);y++)await ev(f[y],d[y],i,u,s,a,l)}function jA(e){if(!e)return;const n=document.querySelectorAll("svg > defs");n.length&&e.querySelectorAll("svg").forEach(i=>{const u=i.querySelectorAll("use");if(!u.length)return;const s=new Set;if(u.forEach(l=>{const f=l.getAttribute("xlink:href")||l.getAttribute("href");f&&f.startsWith("#")&&s.add(f.slice(1))}),!s.size)return;const a=document.createElementNS("http://www.w3.org/2000/svg","defs");for(const l of s)for(const f of n){const d=f.querySelector(`#${CSS.escape(l)}`);if(d){a.appendChild(d.cloneNode(!0));break}}a.childNodes.length&&i.insertBefore(a,i.firstChild)})}async function MA(e,n=!1,i=!1,u={}){var y;const s=new Map,a=new WeakMap,l=new Map;let f;try{f=Tu(e,s,a,l,n,u,e)}catch(m){throw console.warn("deepClone failed:",m),m}try{await ev(e,f,s,a,n,i,u.useProxy)}catch(m){console.warn("inlinePseudoElements failed:",m)}try{jA(f)}catch(m){console.warn("inlineExternalDef failed:",m)}let d="";if(n){const m=AA(s);d=Array.from(m.entries()).map(([h,v])=>`.${v}{${h}}`).join("");for(const[h,v]of s.entries()){if(h.tagName==="STYLE")continue;const A=m.get(v);A&&h.classList.add(A);const S=(y=h.style)==null?void 0:y.backgroundImage;h.removeAttribute("style"),S&&S!=="none"&&(h.style.backgroundImage=S)}}else for(const[m,h]of s.entries())m.tagName!=="STYLE"&&m.setAttribute("style",h.replace(/;/g,"; "));for(const[m,h]of l.entries()){const v=h.scrollLeft,A=h.scrollTop;if((v||A)&&m instanceof HTMLElement){m.style.overflow="hidden",m.style.scrollbarWidth="none",m.style.msOverflowStyle="none";const E=document.createElement("div");for(E.style.transform=`translate(${-v}px, ${-A}px)`,E.style.willChange="transform",E.style.display="inline-block",E.style.width="100%";m.firstChild;)E.appendChild(m.firstChild);m.appendChild(E)}}if(e===l.get(f)){const m=a.get(e)||window.getComputedStyle(e);a.set(e,m);const h=TA(m.transform);f.style.margin="0",f.style.position="static",f.style.top="auto",f.style.left="auto",f.style.right="auto",f.style.bottom="auto",f.style.zIndex="auto",f.style.float="none",f.style.clear="none",f.style.transform=h||""}for(const[m,h]of l.entries())h.tagName==="PRE"&&(m.style.marginTop="0",m.style.marginBlockStart="0");return{clone:f,classCSS:d,styleCache:a}}async function kA(e,n={}){const i=Array.from(e.querySelectorAll("img")),u=async s=>{const a=s.src;try{const l=await fa(a,{useProxy:n.useProxy});s.src=l,s.width||(s.width=s.naturalWidth||100),s.height||(s.height=s.naturalHeight||100)}catch{const l=document.createElement("div");l.style=`width: ${s.width||100}px; height: ${s.height||100}px; background: #ccc; display: inline-block; text-align: center; line-height: ${s.height||100}px; color: #666; font-size: 12px;`,l.innerText="img",s.replaceWith(l)}};for(let s=0;s<i.length;s+=4){const a=i.slice(s,s+4).map(u);await Promise.allSettled(a)}}async function LA(e,n,i,u={}){const s=[[e,n]],a=["background-image","mask","mask-image","-webkit-mask-image","mask-source","mask-box-image-source","mask-border-source","-webkit-mask-box-image-source"];for(;s.length;){const[l,f]=s.shift(),d=i.get(l)||ca(l);i.has(l)||i.set(l,d);for(const v of a){const A=d.getPropertyValue(v);if(!A||A==="none")continue;const S=Pf(A),E=await Promise.all(S.map(I=>Ff(I,u)));E.some(I=>I&&I!=="none"&&!/^url\(undefined/.test(I))&&f.style.setProperty(v,E.join(", "))}const y=d.getPropertyValue("background-color");y&&y!=="transparent"&&y!=="rgba(0, 0, 0, 0)"&&(f.style.backgroundColor=y);const m=Array.from(l.children),h=Array.from(f.children);for(let v=0;v<Math.min(m.length,h.length);v++)s.push([m[v],h[v]])}}async function NA(e,n={}){if(!e)throw new Error("Element cannot be null or undefined");const{compress:i=!0,embedFonts:u=!1,fast:s=!0,scale:a=1,useProxy:l=""}=n;let f,d,y,m="",h="",v,A;if({clone:f,classCSS:d,styleCache:y}=await MA(e,i,u,n),await new Promise(E=>{qi(async()=>{await kA(f,n),E()},{fast:s})}),await new Promise(E=>{qi(async()=>{await LA(e,f,y,n),E()},{fast:s})}),u&&await new Promise(E=>{qi(async()=>{m=await Qm(),E()},{fast:s})}),i){const E=EA(f).sort(),I=E.join(",");Iu.has(I)?h=Iu.get(I):await new Promise(q=>{qi(()=>{h=CA(E),Iu.set(I,h),q()},{fast:s})})}await new Promise(E=>{qi(()=>{const I=e.getBoundingClientRect();let q=I.width,j=I.height;const oe=Number.isFinite(n.width),ue=Number.isFinite(n.height),L=typeof a=="number"&&a!==1;if(!L){const ne=I.width/I.height;oe&&ue?(q=n.width,j=n.height):oe?(q=n.width,j=q/ne):ue&&(j=n.height,q=j*ne)}if(q=Math.ceil(q),j=Math.ceil(j),f.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),f.style.transformOrigin="top left",!L&&(oe||ue)){const ne=I.width,ee=I.height,le=q/ne,Oe=j/ee,fe=f.style.transform||"",ve=`scale(${le}, ${Oe})`;f.style.transform=`${ve} ${fe}`.trim()}else L&&Zm()&&(f.style.scale=`${a}`);const U="http://www.w3.org/2000/svg",Y=document.createElementNS(U,"foreignObject");Y.setAttribute("width","100%"),Y.setAttribute("height","100%");const M=document.createElement("style");M.textContent=h+m+"svg{overflow:visible;}"+d,Y.appendChild(M),Y.appendChild(f);const re=new XMLSerializer().serializeToString(Y),te=`<svg xmlns="${U}" width="${q}" height="${j}" viewBox="0 0 ${q} ${j}">`,X="</svg>";A=te+re+X,v=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(A)}`,E()},{fast:s})});const S=document.getElementById("snapdom-sandbox");return S&&S.style.position==="absolute"&&S.remove(),v}async function zA(e,{dpr:n=1,scale:i=1}){const u=new Image;return u.src=e,await u.decode(),Zm?(u.width=u.width*i,u.height=u.height*i):(u.width=u.width/i,u.height=u.height/i),u}async function tv(e,{dpr:n=1,scale:i=1}={}){const u=new Image;u.src=e,await u.decode();const s=document.createElement("canvas"),a=u.width*i,l=u.height*i;s.width=Math.ceil(a*n),s.height=Math.ceil(l*n);const f=s.getContext("2d");return f.scale(n,n),f.drawImage(u,0,0,a,l),s.style.width=`${a}px`,s.style.height=`${l}px`,s}async function nv(e,{type:n="svg",scale:i=1,backgroundColor:u="#fff",quality:s}={}){const a={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",webp:"image/webp"}[n]||"image/png";if(n==="svg"){const f=decodeURIComponent(e.split(",")[1]);return new Blob([f],{type:"image/svg+xml"})}const l=await jf(e,{dpr:1,scale:i},u);return new Promise(f=>{l.toBlob(d=>f(d),`${a}`,s)})}async function jf(e,{dpr:n=1,scale:i=1},u){const s=await tv(e,{dpr:n,scale:i});if(!u)return s;const a=document.createElement("canvas");a.width=s.width,a.height=s.height;const l=a.getContext("2d");return l.fillStyle=u,l.fillRect(0,0,a.width,a.height),l.drawImage(s,0,0),a}async function Ic(e,{dpr:n=1,scale:i=1,backgroundColor:u="#fff",quality:s},a="png"){const l=await jf(e,{dpr:n,scale:i},u),f=new Image;return f.src=l.toDataURL(`image/${a}`,s),await f.decode(),f.style.width=`${l.width/n}px`,f.style.height=`${l.height/n}px`,f}async function $A(e,{dpr:n=1,scale:i=1,backgroundColor:u="#fff",format:s="png",filename:a="capture"}={}){if(s==="svg"){const v=await nv(e),A=URL.createObjectURL(v),S=document.createElement("a");S.href=A,S.download=`${a}.svg`,S.click(),URL.revokeObjectURL(A);return}const l=["jpg","jpeg","webp"].includes(s)?"#fff":void 0,d=await jf(e,{dpr:n,scale:i},u??l),y={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",webp:"image/webp"}[s]||"image/png",m=d.toDataURL(y),h=document.createElement("a");h.href=m,h.download=`${a}.${s}`,h.click()}async function Qe(e,n={}){if(n={scale:1,...n},!e)throw new Error("Element cannot be null or undefined");return n.iconFonts&&FA(n.iconFonts),await Qe.capture(e,n)}Qe.capture=async(e,n={})=>{const i=await NA(e,n),u=window.devicePixelRatio||1,s=n.scale||1;return{url:i,options:n,toRaw:()=>i,toImg:()=>zA(i,{dpr:u,scale:s}),toCanvas:()=>tv(i,{dpr:u,scale:s}),toBlob:a=>nv(i,{dpr:u,scale:s,...a}),toPng:a=>Ic(i,{dpr:u,scale:s,...a},"png"),toJpg:a=>Ic(i,{dpr:u,scale:s,...a},"jpeg"),toWebp:a=>Ic(i,{dpr:u,scale:s,...a},"webp"),download:({format:a="png",filename:l="capture",backgroundColor:f}={})=>$A(i,{dpr:u,scale:s,backgroundColor:f,format:a,filename:l})}};Qe.toRaw=async(e,n)=>(await Qe.capture(e,n)).toRaw();Qe.toImg=async(e,n)=>(await Qe.capture(e,n)).toImg();Qe.toCanvas=async(e,n)=>(await Qe.capture(e,n)).toCanvas();Qe.toBlob=async(e,n)=>(await Qe.capture(e,n)).toBlob(n);Qe.toPng=async(e,n)=>(await Qe.capture(e,n)).toPng(n);Qe.toJpg=async(e,n)=>(await Qe.capture(e,n)).toJpg(n);Qe.toWebp=async(e,n)=>(await Qe.capture(e,n)).toWebp(n);Qe.download=async(e,n={})=>{const{format:i="png",filename:u="capture",backgroundColor:s,...a}=n;return await(await Qe.capture(e,a)).download({format:i,filename:u,backgroundColor:s})};async function UA(e=document,n={}){const{embedFonts:i=!0,reset:u=!1}=n;if(u){sn.clear(),Au.clear(),bt.clear(),Iu.clear();return}await document.fonts.ready,SA();let s=[],a=[];e!=null&&e.querySelectorAll&&(s=Array.from(e.querySelectorAll("img[src]")),a=Array.from(e.querySelectorAll("*")));const l=[];for(const f of s){const d=f.src;sn.has(d)||l.push(fa(d,{useProxy:n.useProxy}).then(y=>sn.set(d,y)).catch(()=>{}))}for(const f of a){const d=ca(f).backgroundImage;if(d&&d!=="none"){const y=Pf(d);for(const m of y)m.startsWith("url(")&&l.push(Ff(m,n).catch(()=>{}))}}i&&await Qm({preCached:!0}),await Promise.all(l)}const rv=["shift","alt","meta","mod","ctrl","control"],HA={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function Jn(e){return(HA[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function iv(e){return rv.includes(e)}function Tc(e,n=","){return e.toLowerCase().split(n)}function Dc(e,n="+",i=">",u=!1,s){let a=[],l=!1;e.includes(i)?(l=!0,a=e.toLocaleLowerCase().split(i).map(y=>Jn(y))):a=e.toLocaleLowerCase().split(n).map(y=>Jn(y));const f={alt:a.includes("alt"),ctrl:a.includes("ctrl")||a.includes("control"),shift:a.includes("shift"),meta:a.includes("meta"),mod:a.includes("mod"),useKey:u},d=a.filter(y=>!rv.includes(y));return{...f,keys:d,description:s,isSequence:l}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&ov([Jn(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&uv([Jn(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{En.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{En.clear()},0)}));const En=new Set;function Mf(e){return Array.isArray(e)}function WA(e,n=","){return(Mf(e)?e:e.split(n)).every(i=>En.has(i.trim().toLowerCase()))}function ov(e){const n=Array.isArray(e)?e:[e];En.has("meta")&&En.forEach(i=>!iv(i)&&En.delete(i.toLowerCase())),n.forEach(i=>En.add(i.toLowerCase()))}function uv(e){const n=Array.isArray(e)?e:[e];e==="meta"?En.clear():n.forEach(i=>En.delete(i.toLowerCase()))}function qA(e,n,i){(typeof i=="function"&&i(e,n)||i===!0)&&e.preventDefault()}function GA(e,n,i){return typeof i=="function"?i(e,n):i===!0||i===void 0}function KA(e){return av(e,["input","textarea","select"])}function av(e,n=!1){const{target:i,composed:u}=e;let s;return VA(i)&&u?s=e.composedPath()[0]&&e.composedPath()[0].tagName:s=i&&i.tagName,Mf(n)?!!(s&&n&&n.some(a=>a.toLowerCase()===s.toLowerCase())):!!(s&&n&&n)}function VA(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function YA(e,n){return e.length===0&&n?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):n?e.some(i=>n.includes(i))||e.includes("*"):!0}const XA=(e,n,i=!1)=>{const{alt:u,meta:s,mod:a,shift:l,ctrl:f,keys:d,useKey:y}=n,{code:m,key:h,ctrlKey:v,metaKey:A,shiftKey:S,altKey:E}=e,I=Jn(m);if(y&&(d==null?void 0:d.length)===1&&d.includes(h))return!0;if(!(d!=null&&d.includes(I))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(I))return!1;if(!i){if(u!==E&&I!=="alt"||l!==S&&I!=="shift")return!1;if(a){if(!A&&!v)return!1}else if(s!==A&&I!=="meta"&&I!=="os"||f!==v&&I!=="ctrl"&&I!=="control")return!1}return d&&d.length===1&&d.includes(I)?!0:d?WA(d):!d},ZA=N.createContext(void 0),JA=()=>N.useContext(ZA);function sv(e,n){return e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(e).length===Object.keys(n).length&&Object.keys(e).reduce((i,u)=>i&&sv(e[u],n[u]),!0):e===n}const QA=N.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),e5=()=>N.useContext(QA);function t5(e){const n=N.useRef(void 0);return sv(n.current,e)||(n.current=e),n.current}const i0=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},n5=typeof window<"u"?N.useLayoutEffect:N.useEffect;function o0(e,n,i,u){const s=N.useRef(null),a=N.useRef(!1),l=i instanceof Array?u instanceof Array?void 0:u:i,f=Mf(e)?e.join(l==null?void 0:l.delimiter):e,d=i instanceof Array?i:u instanceof Array?u:void 0,y=N.useCallback(n,d??[]),m=N.useRef(y);d?m.current=y:m.current=n;const h=t5(l),{activeScopes:v}=e5(),A=JA();return n5(()=>{if((h==null?void 0:h.enabled)===!1||!YA(v,h==null?void 0:h.scopes))return;let S=[],E;const I=(ue,L=!1)=>{var U;if(!(KA(ue)&&!av(ue,h==null?void 0:h.enableOnFormTags))){if(s.current!==null){const Y=s.current.getRootNode();if((Y instanceof Document||Y instanceof ShadowRoot)&&Y.activeElement!==s.current&&!s.current.contains(Y.activeElement)){i0(ue);return}}(U=ue.target)!=null&&U.isContentEditable&&!(h!=null&&h.enableOnContentEditable)||Tc(f,h==null?void 0:h.delimiter).forEach(Y=>{var M,G,re,te;if(Y.includes((h==null?void 0:h.splitKey)??"+")&&Y.includes((h==null?void 0:h.sequenceSplitKey)??">")){console.warn(`Hotkey ${Y} contains both ${(h==null?void 0:h.splitKey)??"+"} and ${(h==null?void 0:h.sequenceSplitKey)??">"} which is not supported.`);return}const X=Dc(Y,h==null?void 0:h.splitKey,h==null?void 0:h.sequenceSplitKey,h==null?void 0:h.useKey,h==null?void 0:h.description);if(X.isSequence){E=setTimeout(()=>{S=[]},(h==null?void 0:h.sequenceTimeoutMs)??1e3);const ne=X.useKey?ue.key:Jn(ue.code);if(iv(ne.toLowerCase()))return;S.push(ne);const ee=(M=X.keys)==null?void 0:M[S.length-1];if(ne!==ee){S=[],E&&clearTimeout(E);return}S.length===((G=X.keys)==null?void 0:G.length)&&(m.current(ue,X),E&&clearTimeout(E),S=[])}else if(XA(ue,X,h==null?void 0:h.ignoreModifiers)||(re=X.keys)!=null&&re.includes("*")){if((te=h==null?void 0:h.ignoreEventWhen)!=null&&te.call(h,ue)||L&&a.current)return;if(qA(ue,X,h==null?void 0:h.preventDefault),!GA(ue,X,h==null?void 0:h.enabled)){i0(ue);return}m.current(ue,X),L||(a.current=!0)}})}},q=ue=>{ue.code!==void 0&&(ov(Jn(ue.code)),((h==null?void 0:h.keydown)===void 0&&(h==null?void 0:h.keyup)!==!0||h!=null&&h.keydown)&&I(ue))},j=ue=>{ue.code!==void 0&&(uv(Jn(ue.code)),a.current=!1,h!=null&&h.keyup&&I(ue,!0))},oe=s.current||(l==null?void 0:l.document)||document;return oe.addEventListener("keyup",j,l==null?void 0:l.eventListenerOptions),oe.addEventListener("keydown",q,l==null?void 0:l.eventListenerOptions),A&&Tc(f,h==null?void 0:h.delimiter).forEach(ue=>A.addHotkey(Dc(ue,h==null?void 0:h.splitKey,h==null?void 0:h.sequenceSplitKey,h==null?void 0:h.useKey,h==null?void 0:h.description))),()=>{oe.removeEventListener("keyup",j,l==null?void 0:l.eventListenerOptions),oe.removeEventListener("keydown",q,l==null?void 0:l.eventListenerOptions),A&&Tc(f,h==null?void 0:h.delimiter).forEach(ue=>A.removeHotkey(Dc(ue,h==null?void 0:h.splitKey,h==null?void 0:h.sequenceSplitKey,h==null?void 0:h.useKey,h==null?void 0:h.description))),S=[],E&&clearTimeout(E)}},[f,h,v]),s}const r5=[{theme:ln.DARK,fontFamily:Ve.HIRAGINO_MINCHO_PRON,fontSize:18,writingMode:gi.VERTICAL_RL,content:`
${xf()}

\u6BD4\u8F03\u7684\u5947\u9E97\u306B\u2042\u7247\u3065\u3044\u305F\u2042\u90E8\u5C4B\u3060\u3002\u5C0F\u5B66\u751F\u306E\u90E8\u5C4B\u3068\u3057\u3066\u306F\u3001\u5C11\u3057\u2042\u5730\u5473\u2042\u306A\u611F\u3058\u2363\u3055\u3048\u2363\u3059\u308B\u3002\uFE4E\u5C71\u53E3\u767E\u6075\uFE4E\u3084\uFE4E\u685C\u7530\u6DF3\u5B50\uFE4E\u306E\u30DD\u30B9\u30BF\u30FC\u306F\u8CBC\u3089\u308C\u3066\u3044\u306A\u3044\u3002\u30B9\u30FC\u30D1\u30FC\u30AB\u30FC\u306E\u6A21\u578B\u3082\u98FE\u3089\u308C\u3066\u3044\u306A\u3044\u3002\u672C\u68DA\u306B\u30DE\u30F3\u30AC\u306F\u306A\u304F\u3001\u2363\u4EE3\u308F\u308A\u306B\u2363\u767E\u79D1\u4E8B\u5178\u3084\u3001\u300C\u81EA\u52D5\u8ECA\u306E\u3057\u304F\u307F\u300D\u3001\u300C\u30C6\u30EC\u30D3\u306E\u3057\u304F\u307F\u300D\u2363\u3068\u3044\u3063\u305F\u2363\u5B50\u4F9B\u5411\u3051\u306E\u79D1\u5B66\u672C\u304C\u4E26\u3093\u3067\u3044\u308B\u3002

\u16A6\u207D\u32A5\u2777\u203C\u8BD1\u203C\u32A5\u2777\u207E\u16A6

\u16A6\u207D\u32A5\u2778\u623F\u95F4\u6574\u7406\u5F97\u7B97\u662F\u76F8\u5F53\u5E72\u51C0\u3002\u5C31\u5C0F\u5B66\u751F\u7684\u623F\u95F4\u800C\u8A00\uFF0C\u751A\u81F3\u7ED9\u4EBA\u6709\u70B9\u51B7\u6E05\u7684\u611F\u89C9\u3002\u623F\u5185\u6CA1\u6709\u8D34\u5C71\u53E3\u767E\u60E0\u6216\u6A31\u7530\u6DF3\u5B50\u7684\u6D77\u62A5\uFF0C\u4E5F\u6CA1\u6709\u88C5\u9970\u8D85\u7EA7\u8DD1\u8F66\u56FE\u7247\u3002\u4E66\u67B6\u4E0A\u6CA1\u6709\u6F2B\u753B\uFF0C\u53EA\u6709\u767E\u79D1\u5168\u4E66\u3001\u300A\u6C7D\u8F66\u7684\u6784\u9020\u300B\u300A\u7535\u89C6\u7684\u6784\u9020\u300B\u7B49\u513F\u7AE5\u79D1\u666E\u4E66\u7C4D\u3002\u32A5\u2778\u207E\u16A6
    `.trim()}],i5=`@font-face{font-family:yumincho;src:local("YuMincho Medium"),local("\\6e38\\660e\\671d"),local("Yu Mincho"),local("\\6e38\\660e\\671d\\4f53"),local("YuMincho"),local("MS P\\660e\\671d"),local("MS PMincho"),local("HGS\\660e\\671d E"),local("MS Mincho")}@font-face{font-family:yumincho;src:local("YuMincho Extrabold"),local("YuMincho Demibold"),local("\\6e38\\660e\\671d"),local("Yu Mincho"),local("\\6e38\\660e\\671d\\4f53"),local("YuMincho"),local("MS P\\660e\\671d"),local("MS PMincho"),local("HGS\\660e\\671d E"),local("MS Mincho");font-weight:700}@font-face{font-family:yumincho-36p-kana;src:local("YuMincho +36p Kana Medium")}@font-face{font-family:yumincho-36p-kana;src:local("YuMincho +36p Kana Extrabold"),local("YuMincho +36p Kana Demibold");font-weight:700}@font-face{font-family:hiragino-mincho-pron;src:local("Hiragino Mincho ProN W3"),local("\\30d2\\30e9\\30ae\\30ce\\660e\\671d  Pro"),local("Hiragino Mincho ProN")}@font-face{font-family:hiragino-mincho-pron;src:local("Hiragino Mincho ProN W6"),local("\\30d2\\30e9\\30ae\\30ce\\660e\\671d  Pro"),local("Hiragino Mincho ProN");font-weight:700}@font-face{font-family:yukyokasho;src:local("YuKyokasho Medium"),local("UD \\30c7\\30b8\\30bf\\30eb\\6559\\79d1\\66f8\\4f53N-R"),local("UD \\30c7\\30b8\\30bf\\30eb\\6559\\79d1\\66f8\\4f53NP-R"),local("UD \\30c7\\30b8\\30bf\\30eb\\6559\\79d1\\66f8\\4f53NK-R")}@font-face{font-family:yukyokasho;src:local("YuKyokasho Bold"),local("UD \\30c7\\30b8\\30bf\\30eb\\6559\\79d1\\66f8\\4f53N-B"),local("UD \\30c7\\30b8\\30bf\\30eb\\6559\\79d1\\66f8\\4f53NP-B"),local("UD \\30c7\\30b8\\30bf\\30eb\\6559\\79d1\\66f8\\4f53NK-B");font-weight:700}@font-face{font-family:yukyokasho-yoko;src:local("YuKyokasho Yoko Medium"),local("UD \\30c7\\30b8\\30bf\\30eb\\6559\\79d1\\66f8\\4f53NK-R")}@font-face{font-family:yukyokasho-yoko;src:local("YuKyokasho Yoko Bold"),local("UD \\30c7\\30b8\\30bf\\30eb\\6559\\79d1\\66f8\\4f53NK-B");font-weight:700}@font-face{font-family:klee;src:local("Klee Medium")}@font-face{font-family:klee;src:local("Klee Demibold");font-weight:700}@font-face{font-family:hiragino-sans;src:local("Hiragino Sans W1")}@font-face{font-family:hiragino-sans;src:local("Hiragino Sans W4");font-weight:700}@font-face{font-family:hiragino-sans-gb;src:local("Hiragino Sans GB W3"),local("Hiragino Sans W1")}@font-face{font-family:hiragino-sans-gb;src:local("Hiragino Sans GB W6"),local("Hiragino Sans W6");font-weight:700}@font-face{font-family:toppan-bunkyu-gothic;src:local("Toppan Bunkyu Gothic Regular")}@font-face{font-family:toppan-bunkyu-gothic;src:local("Toppan Bunkyu Gothic Demibold");font-weight:700}@font-face{font-family:toppan-bunkyu-midashi-gothic;src:local("Toppan Bunkyu Midashi Gothic Extrabold")}@font-face{font-family:toppan-bunkyu-mincho;src:local("Toppan Bunkyu Mincho Regular"),local("BIZ UDP\\660e\\671d")}@font-face{font-family:toppan-bunkyu-midashi-mincho;src:local("Toppan Bunkyu Midashi Mincho ExtraBold"),local("BIZ UDP\\660e\\671d")}@font-face{font-family:hiragino-maru-gothic-pron;src:local("Hiragino Maru Gothic ProN W4")}@font-face{font-family:tsukushi-a-round-gothic;src:local("Tsukushi A Round Gothic Regular")}@font-face{font-family:tsukushi-a-round-gothic;src:local("Tsukushi A Round Gothic Bold");font-weight:700}@font-face{font-family:tsukushi-b-round-gothic;src:local("Tsukushi B Round Gothic Regular")}@font-face{font-family:tsukushi-b-round-gothic;src:local("Tsukushi B Round Gothic Bold");font-weight:700}@font-face{font-family:biz-ud-gothic;src:local("BIZ UDGothic Regular")}@font-face{font-family:biz-ud-gothic;src:local("BIZ UDGothic Bold");font-weight:700}@font-face{font-family:biz-ud-mincho;src:local("BIZ UDMincho")}@font-face{font-family:osaka;src:local("Osaka Regular"),local("Osaka Regular-Mono")}@font-face{font-family:songti-sc;src:local("Source Han Serif CN Regular"),local("Source Han Serif SC Regular"),local("Songti SC Regular")}@font-face{font-family:songti-sc;src:local("Source Han Serif CN Bold"),local("Source Han Serif SC Bold"),local("Songti SC Bold");font-weight:700}@font-face{font-family:songti-king-hwa;src:local("KingHwaOldSong"),local("KingHwa_OldSong")}@font-face{font-family:songti-king-hwa-mn;src:local("KingHwaOldSong-MN"),local("KingHwaOldSong"),local("KingHwa_OldSong")}@font-face{font-family:songti-king-hwa-lt;src:local("KingHwaOldSong-LT"),local("KingHwaOldSong"),local("KingHwa_OldSong")}@font-face{font-family:songti-king-hwa-gj;src:local("KingHwaOldSong-GJ"),local("KingHwaOldSong"),local("KingHwa_OldSong")}@font-face{font-family:kaiti-sc;src:local("Kaiti SC Regular"),local("Kaiti Regular")}@font-face{font-family:kaiti-sc;src:local("Kaiti SC Bold");font-weight:700}@font-face{font-family:kaiti-jin;src:local("TsangerJinKai03-W03"),local("TsangerJinKai02-W03"),local("TsangerJinKai01-W03"),local("DeDaoJinKai")}@font-face{font-family:kaiti-jin;src:local("TsangerJinKai03-W05"),local("TsangerJinKai02-W05"),local("TsangerJinKai01-W05"),local("DeDaoJinKai");font-weight:700}@font-face{font-family:songti-yue;src:local("FZQingKeBenYueSongS-R-GB")}@font-face{font-family:baoli-sc;src:local("Baoli SC Regular")}@font-face{font-family:heiti-lan;src:local("Lantinghei SC Extralight")}@font-face{font-family:heiti-lan;src:local("Lantinghei SC Heavy"),local("Lantinghei SC Demibold");font-weight:700}@font-face{font-family:pingfang-sc;src:local("PingFang SC Regular")}@font-face{font-family:pingfang-sc;src:local("PingFang SC Semibold");font-weight:700}@font-face{font-family:pming-liu-tw;src:local("PMingLiU-TW")}@font-face{font-family:li-song-pro;src:local("LiSong Pro"),local("DFPLiSong-Lt")}@font-face{font-family:li-hei-pro;src:local("LiHei Pro")}@font-face{font-family:source-han-tw;src:local("Source Han Serif TW")}@font-face{font-family:source-han-tw-light;src:local("Source Han Serif TW ExtraLight")}
`;function o5(e,n){const i={...n.props};e.className&&(i.className=Xn(n.props.className,e.className)),e.style&&(i.style={...i.style,...e.style}),e.id!==void 0&&(i.id=e.id),e.tabIndex!==void 0&&(i.tabIndex=e.tabIndex);for(const u of Object.keys(e))(u.startsWith("data-")||u.startsWith("aria-"))&&(i[u]=e[u]);return N.cloneElement(n,i)}const u5="_visualBox_11yyv_1",a5="_dotHint_11yyv_37",s5="_isDragging_11yyv_79",ri={visualBox:u5,dotHint:a5,isDragging:s5},l5=10,c5=.5,Nu=[-5,5],ui=[0,200],kf=(ui[1]-ui[0])/(Nu[1]-Nu[0]),Ki=kf*c5,u0=e=>(e-Nu[0])*kf,a0=e=>e/kf+Nu[0],f5=(e,n)=>{const i=Math.round(e/Ki)*Ki,u=Math.round(n/Ki)*Ki;return{x:i,y:u}},d5=e=>{const n=N.useRef(null),i=N.useRef(null),u=N.useRef(!0),[s,a]=A2(e,{defaultValuePropName:"defaultValue",valuePropName:"value",trigger:"onChange",defaultValue:{x:0,y:0}});return N.useEffect(()=>{var l;if(n.current){const f=u0(s.x),d=u0(s.y);n.current.style.setProperty("--dot-hint-x",`${f}px`),n.current.style.setProperty("--dot-hint-y",`${d}px`),u.current&&(u.current=!1,(l=n.current)==null||l.classList.add(ri.isDragging),requestAnimationFrame(()=>{var y;(y=n.current)==null||y.classList.remove(ri.isDragging)}))}},[s]),ai("pointerdown",l=>{const{pointerId:f}=l,d=l.currentTarget;d.setPointerCapture(f),d.classList.add(ri.isDragging);const y=({x:v,y:A})=>{const S=d.getBoundingClientRect();let E=v-S.left,I=A-S.top;E=Math.max(0,Math.min(ui[1],E)),I=Math.max(0,Math.min(ui[1],I)),{x:E,y:I}=f5(E,I),d.style.setProperty("--dot-hint-x",`${E}px`),d.style.setProperty("--dot-hint-y",`${I}px`),a({x:a0(E),y:a0(I)})};y({x:l.clientX,y:l.clientY});const m=v=>{v.pointerId===f&&y({x:v.clientX,y:v.clientY})},h=v=>{v.pointerId===f&&(d.classList.remove(ri.isDragging),d.removeEventListener("pointermove",m),d.removeEventListener("pointerup",h),d.removeEventListener("pointercancel",h),d.releasePointerCapture(v.pointerId))};d.addEventListener("pointermove",m),d.addEventListener("pointerup",h),d.addEventListener("pointercancel",h)},{target:n}),o5(e,p.jsx("div",{ref:n,className:ri.visualBox,style:{"--canvas-width":`${ui[1]}px`,"--canvas-height":`${ui[1]}px`,"--cell-unit-size":`${Ki}px`,"--dot-hint-size":`${l5}px`,"--dot-hint-halo-scale":2},children:p.jsx("div",{ref:i,className:ri.dotHint,onMouseDownCapture:()=>{i.current.style.pointerEvents="none",requestAnimationFrame(()=>{i.current.style.pointerEvents=""})}})}))},h5="_textShadowControl_ntpmq_1",g5={textShadowControl:h5},s0=e=>Math.round(Number(e||0)*2)/2,p5=()=>{const{settings:{textShadow:e},setSettings:n}=An(),{run:i}=pf(u=>{n(s=>{Object.assign(s.textShadow,u)})},{wait:80,leading:!1,trailing:!0});return p.jsxs("div",{className:g5.textShadowControl,children:[p.jsxs(Be,{children:[p.jsx(Be.Item,{label:"X offset",children:p.jsx(Vi,{min:-5,max:5,step:.5,precision:1,suffix:"px",value:e.xOffset,onChange:u=>{i({xOffset:s0(u)})}})}),p.jsx(Be.Item,{label:"Y offset",children:p.jsx(Vi,{min:-5,max:5,step:.5,precision:1,suffix:"px",value:e.yOffset,onChange:u=>{i({yOffset:s0(u)})}})}),p.jsx("div",{style:{marginTop:136}}),p.jsx(Be.Item,{label:"Blur radius",children:p.jsxs(Ru,{gap:12,children:[p.jsx(Vi,{min:0,max:5,step:.5,precision:1,suffix:"px",value:e.blurRadius,onChange:u=>{i({blurRadius:Math.round(Number(u||0)*2)/2})}}),p.jsx(hx,{min:0,max:5,step:.5,style:{flex:1},tooltip:{formatter:u=>`${u}px`},value:e.blurRadius,onChange:u=>{i({blurRadius:u})}})]})}),p.jsx(Be.Item,{label:"Shadow color",children:p.jsx(tf,{value:e.color,onChange:u=>{i({color:u.toRgbString()})},showText:u=>u.toRgbString()})})]}),p.jsx(d5,{className:"text-shadow-offset-visual-box",value:{x:e.xOffset,y:e.yOffset},onChange:u=>{i({xOffset:u.x,yOffset:u.y})}})]})},m5="_textShadowSetting_7hoxa_1",v5={textShadowSetting:m5},y5=()=>{const{settings:e,setSettings:n}=An(),[i,u]=N.useState(!1),[s,a]=N.useState(!1),l=N.useMemo(()=>!Xe.isEqual({...e.textShadow,globalEnabled:!1},{...Vc[e.theme],globalEnabled:!1}),[e.textShadow,e.theme]);return p.jsxs(Te,{direction:"horizontal",size:12,className:v5.textShadowSetting,children:[p.jsx(at,{title:"\u30C6\u30AD\u30B9\u30C8\u306E\u5F71\u52B9\u679C\u3092\u8A2D\u5B9A\u3059\u308B",placement:"topLeft",arrow:{pointAtCenter:!0},open:i&&!s,onOpenChange:u,children:p.jsx(nf,{trigger:"click",placement:"right",arrow:{pointAtCenter:!0},destroyOnHidden:!0,open:s,onOpenChange:f=>{f&&u(!1),a(f)},title:p.jsxs(Ru,{justify:"space-between",children:[p.jsx("span",{children:"\u30C6\u30AD\u30B9\u30C8\u306E\u5F71\u52B9\u679C\u3092\u8A2D\u5B9A\u3059\u308B"}),p.jsxs(Ru,{children:[p.jsx(at,{title:"\u30EA\u30BB\u30C3\u30C8",children:p.jsx(Ye,{type:"link",size:"small",disabled:!l,icon:p.jsx(Cu,{}),onClick:()=>{n(f=>{Object.assign(f.textShadow,{...Vc[e.theme],globalEnabled:f.textShadow.globalEnabled})})}})}),p.jsx(at,{title:"\u30AF\u30ED\u30FC\u30BA",children:p.jsx(Ye,{type:"link",size:"small",icon:p.jsx(lm,{}),onClick:()=>{a(!1)}})})]})]}),content:p.jsx(p5,{}),styles:{body:{width:"auto",userSelect:"none"}},children:p.jsx("div",{className:"text-shadow-preview-box",style:{textShadow:Sf(e)},children:"T"})})}),p.jsx(at,{title:"\u30B0\u30ED\u30FC\u30D0\u30EB\u306B\u6709\u52B9\u5316",placement:"right",children:p.jsx(rf,{checkedChildren:"ON",unCheckedChildren:"OFF",checked:e.textShadow.globalEnabled,onChange:()=>{n(f=>{f.textShadow.globalEnabled=!f.textShadow.globalEnabled})}})})]})},{Paragraph:_5,Text:De}=Ou;function w5(){return p.jsxs(_5,{style:{marginBottom:0,userSelect:"none"},children:[p.jsx("div",{children:p.jsx(De,{strong:!0,children:"\u30C1\u30C3\u30D7\u30B9"})}),p.jsxs("ul",{style:{marginBottom:0},children:[p.jsx("li",{children:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(De,{strong:!0,style:{color:"var(--preview-highlight-color)"},children:"\u30BF\u30A4\u30C8\u30EB"}),p.jsx(De,{code:!0,children:rt("TEXT",pe.TITLE)})]})}),p.jsx("li",{children:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(De,{strong:!0,children:"\u30DC\u30FC\u30EB\u30C9"}),p.jsx(De,{code:!0,children:rt("TEXT",pe.BOLD)})]})}),p.jsx("li",{children:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(De,{style:{color:"var(--preview-highlight-color)"},children:"\u30C6\u30AD\u30B9\u30C8\u3092\u30CF\u30A4\u30E9\u30A4\u30C8 (L1)"}),p.jsx(De,{code:!0,children:rt("TEXT",pe.HIGHLIGHT)})]})}),p.jsx("li",{children:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(De,{style:{color:"var(--preview-highlight-color-2)"},children:"\u30C6\u30AD\u30B9\u30C8\u3092\u30CF\u30A4\u30E9\u30A4\u30C8 (L2)"}),p.jsx(De,{code:!0,children:rt("TEXT",pe.HIGHLIGHT_L2)})]})}),p.jsx("li",{children:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(De,{style:{opacity:.65},children:"\u30C6\u30AD\u30B9\u30C8\u3092\u534A\u900F\u660E\u306B\u3059\u308B"}),p.jsx(De,{code:!0,children:rt("TEXT",pe.DIMMED)})]})}),p.jsx("li",{children:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(De,{style:{backgroundColor:"var(--preview-fluorescent-color)"},children:"\u30C6\u30AD\u30B9\u30C8\u3092\u30DE\u30FC\u30AF"}),p.jsx(De,{code:!0,children:rt("TEXT",pe.FLUORESCENT)})]})}),p.jsx("li",{children:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(De,{style:{color:"var(--preview-highlight-invert-color)",backgroundColor:"var(--preview-highlight-color)"},children:"\u30C6\u30AD\u30B9\u30C8\u3092\u30DE\u30FC\u30AF"}),p.jsx(De,{code:!0,children:rt("TEXT",pe.FILL)})]})}),p.jsx("li",{children:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(De,{style:{outline:"1px solid var(--preview-text-stroke-color)"},children:"\u30C6\u30AD\u30B9\u30C8\u306B\u67A0\u3092\u8FFD\u52A0"}),p.jsx(De,{code:!0,children:rt("TEXT",pe.STROKE)})]})}),p.jsxs("li",{children:[p.jsx(De,{children:"\u30A2\u30F3\u30C0\u30FC\u30D0\u30FC"}),p.jsx(so,{theme:{token:{fontFamily:"PingFang SC",fontSize:12}},children:p.jsxs("ul",{children:[p.jsx("li",{children:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(De,{style:{borderBlockEnd:"2px solid var(--preview-highlight-color)"},children:"SOLID"}),p.jsx(De,{code:!0,children:rt("TEXT",pe.UNDERLINE_SOLID)})]})}),p.jsx("li",{children:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(De,{style:{borderBlockEnd:"2px dashed var(--preview-highlight-color-weak)"},children:"DASHED"}),p.jsx(De,{code:!0,children:rt("TEXT",pe.UNDERLINE_DASHED)})]})}),p.jsx("li",{children:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(De,{style:{borderBlockEnd:"2px dotted var(--preview-highlight-color-weak)"},children:"DOTTED"}),p.jsx(De,{code:!0,children:rt("TEXT",pe.UNDERLINE_DOTTED)})]})}),p.jsx("li",{children:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(De,{style:{textDecoration:"underline",textDecorationStyle:"wavy",textUnderlineOffset:3,textDecorationColor:"var(--preview-text-wavy-color)"},children:"WAVY"}),p.jsx(De,{code:!0,children:rt("TEXT",pe.UNDERLINE_WAVY)})]})}),p.jsx("li",{children:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(De,{style:{backgroundImage:"linear-gradient(to top, var(--preview-fluorescent-underline-color) 30%, transparent 0)"},children:"MARK"}),p.jsx(De,{code:!0,children:rt("TEXT",pe.UNDERLINE_MARK)})]})})]})})]}),p.jsx("li",{children:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(De,{style:{textDecoration:"line-through",textDecorationColor:"var(--preview-text-delete-color)"},children:"\u53D6\u308A\u6D88\u3057\u7DDA"}),p.jsx(De,{code:!0,children:rt("TEXT",pe.LINE_THROUGH)})]})}),p.jsx("li",{children:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(De,{children:"\u6F22\u5B57\u306B\u632F\u308A\u4EEE\u540D\u3092\u3064\u3051\u306A\u3044"}),p.jsx(De,{code:!0,children:rt("TEXT",pe.NO_HURIGANA)})]})})]})]})}function b5(e){const{notation:n,selectedData:i}=e,u=na.entities[n],s=Be.useFormInstance(),{contentInputDom:a}=Tf(),l=N.useMemo(()=>{let d=!1,y=!1;return i.text?u.pattern.test(i.text)?y=!0:i.text.includes(`
`)&&(d="\u6240\u9009\u6587\u5B57\u4E0D\u80FD\u5305\u542B\u6362\u884C"):d="\u8BF7\u5148\u9009\u62E9\u6587\u5B57",{disabled:d,applied:y}},[u,i]),f=gf(async()=>{if(!a)return;a.focus();const{start:d,end:y,text:m}=i,{content:h}=s.getFieldsValue();let v;l.applied?v=m.replace(u.pattern,"$1"):v=li(m,n);const A=`${h.slice(0,d)}${v}${h.slice(y)}`;s.setFieldsValue({content:A}),await Pu(0),a.selectionStart=d,a.selectionEnd=d+v.length,await Pu(300),a.focus()});return p.jsx(at,{title:l.disabled||(l.applied?u.tooltips.remove:u.tooltips.add),mouseEnterDelay:.2,mouseLeaveDelay:0,children:p.jsx(Ye,{type:l.disabled?"text":l.applied?"link":"text",disabled:!!l.disabled,icon:u.icon,style:{borderRadius:0},onClick:f})})}const x5="_toolbar_yc0y9_1",S5={toolbar:x5};function E5(){const{selectedData:e}=Df(),n=N.useMemo(()=>Object.values(Xe.groupBy(ta,i=>i.group)),[]);return p.jsx(so,{theme:{token:{fontFamily:"PingFang SC",fontSize:16}},children:p.jsx(Te,{direction:"horizontal",wrap:!0,children:n.map((i,u)=>p.jsx(Te,{direction:"horizontal",size:0,className:S5.toolbar,children:i.map(s=>p.jsx(b5,{notation:s.value,selectedData:e},s.value))},u))})})}const C5="_brief_16oi5_1",A5={brief:C5},I5=e=>{const{colors:n}=e;return p.jsx(Be,{className:A5.brief,colon:!1,layout:"horizontal",labelCol:{span:11},labelAlign:"right",children:Kc.map(i=>p.jsx(Be.Item,{label:i.label,children:p.jsx(tf,{value:n[i.value],disabled:!0,size:"small",showText:!0,format:"rgb",style:{pointerEvents:"none"}})},i.value))})},T5="_drawer_1xi8w_1",D5="_dropdownOverlay_1xi8w_5",l0={drawer:T5,dropdownOverlay:D5};function R5(){const{message:e}=ao.useApp(),{customThemeState:n,setCustomThemeState:i}=If(),{settings:u}=An(),[s,{set:a}]=O2(Lc(()=>Kc.map(v=>[v.value,!1]),[])),{run:l}=pf((v,A)=>{i(S=>{S.colors[v]=A})},{wait:80,leading:!1,trailing:!0}),[f,d]=R2(Er.getKey("theme-color-presets"),{defaultValue:[]}),[y,m]=N.useState(!1),h=Lc(()=>{const v=[];for(const[S,E]of Object.entries(f||[]))v.push({key:`item:${S}`,label:p.jsx(nf,{trigger:["hover"],title:p.jsx("div",{style:{userSelect:"none"},children:"\u30AB\u30B9\u30BF\u30E0\u30C6\u30FC\u30DE\u60C5\u5831"}),content:()=>p.jsx(I5,{colors:E.colors}),placement:"left",mouseEnterDelay:.25,align:{offset:[u.previewPosition==="left"?-128:654,8]},arrow:!1,children:p.jsxs("span",{className:"theme-menu-item","data-index":S,children:[p.jsx("span",{className:"theme-menu-item-label",style:{color:E.colors["--preview-text-color"],backgroundColor:E.colors["--preview-background-color"],borderColor:E.colors["--preview-highlight-color"]},children:"T"}),`\u30AB\u30B9\u30BF\u30E0\u30C6\u30FC\u30DE ${Number(S)+1}`]})}),children:[{key:`apply:${S}`,label:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(Z6,{}),"\u63A1\u7528\u3059\u308B"]})},{key:`renew:${S}`,label:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(M6,{}),"\u66F8\u63DB\u3048\u308B"]})},{key:`delete:${S}`,label:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(n6,{}),"\u6D88\u53BB\u3059\u308B"]})}]});const A=f.length;return A<10&&(A>0&&v.push({type:"divider"}),v.push({key:"save",label:p.jsxs(Ye,{type:"link",size:"small",children:[p.jsx(wf,{}),"\u8FFD\u52A0\u3059\u308B"]})})),v},[f,u.previewPosition]);return p.jsx(p0,{className:l0.drawer,keyboard:!1,title:p.jsxs(Te,{direction:"horizontal",children:["\u30AB\u30B9\u30BF\u30E0\u30C6\u30FC\u30DE\u8A2D\u5B9A",p.jsx("sup",{children:"Beta"}),!Xe.isEqual(n.colors,n.defaultColors)&&p.jsx(at,{title:"\u3059\u3079\u3066\u30EA\u30BB\u30C3\u30C8",placement:"right",children:p.jsx(Ye,{type:"link",icon:p.jsx(Cu,{}),onClick:()=>{i(v=>{v.colors=v.defaultColors})}})})]}),width:500,open:n.drawerVisible,onClose:()=>{i({drawerVisible:!1})},mask:!1,placement:u.previewPosition==="left"?"right":"left",extra:p.jsx(Te,{direction:"horizontal",children:p.jsx(gx,{overlayClassName:l0.dropdownOverlay,trigger:["click"],placement:"bottomRight",open:y,onOpenChange:(v,A)=>{(A.source==="trigger"||v)&&m(v)},menu:{items:h,subMenuOpenDelay:.1,onClick:v=>{const[A,S]=v.key.split(":");if(A==="save"){d(I=>[...I,{colors:n.colors}]);return}const E=Number(S);switch(A){case"apply":{i({colors:f[E].colors});break}case"renew":{d(Wn(I=>{I[E].colors=n.colors}));break}case"delete":{d(Wn(I=>{I.splice(E,1)}));break}}},onClickCapture:v=>{const A=v.target;if(A.classList.contains("theme-menu-item")){const S=Number(A.dataset.index);v.altKey&&v.shiftKey?d(Wn(E=>{E.splice(S,1)})):v.altKey?i({colors:f[S].colors}):v.shiftKey&&d(Wn(E=>{E[S].colors=n.colors}))}},onDoubleClick:v=>{const A=v.target;if(A.classList.contains("theme-menu-item")){const S=Number(A.dataset.index);d(Wn(E=>{E[S].colors=n.defaultColors}))}}},children:p.jsx(Ye,{size:"middle",type:"text",icon:p.jsx(b6,{}),children:"\u30AA\u30DA\u30EC\u30FC\u30B7\u30E7\u30F3\u30BA"})})}),children:p.jsx(Be,{colon:!1,layout:"horizontal",labelCol:{span:10},labelAlign:"right",children:Kc.map(v=>{var E;const A=((E=v.getPresetColors)==null?void 0:E.call(v,u.theme))||[],S=n.colors[v.value]!==n.defaultColors[v.value];return p.jsx(Be.Item,{label:p.jsx("span",{title:`${v.label} \u226A${v.value}\u226B`,onClick:I=>{I.altKey&&Yi(`var(${v.value})`).then(()=>{e.success(`CSS var copied: var(${v.value})`,1)}).catch(()=>{})},children:v.label}),children:p.jsxs(Te,{children:[p.jsx(tf,{value:n.colors[v.value],onChange:I=>{l(v.value,I.toRgbString())},open:s.get(v.value),onOpenChange:I=>{a(v.value,I)},disabledAlpha:v.disabledAlpha,presets:A.length>0?[{label:"\u30D7\u30EA\u30BB\u30C3\u30C8\u30AB\u30E9\u30FC",colors:A}]:void 0,size:"middle",showText:I=>I.toRgbString(),styles:{popupOverlayInner:{padding:"6px 12px 12px"}},panelRender:I=>p.jsxs(Te,{direction:"vertical",align:"end",children:[p.jsxs(Te.Compact,{children:[p.jsx(at,{title:"\u30EA\u30BB\u30C3\u30C8",children:p.jsx(Ye,{type:"link",size:"small",disabled:!S,icon:p.jsx(Cu,{}),onClick:()=>{i(q=>{q.colors[v.value]=q.defaultColors[v.value]})}})}),p.jsx(at,{title:"\u30AF\u30ED\u30FC\u30BA",children:p.jsx(Ye,{type:"link",size:"small",icon:p.jsx(lm,{}),onClick:()=>{a(v.value,!1)}})})]}),I]})}),!!(!s.get(v.value)&&S)&&p.jsx(at,{title:"\u30EA\u30BB\u30C3\u30C8",placement:"right",children:p.jsx(Ye,{type:"text",size:"small",icon:p.jsx(Cu,{}),onClick:()=>{i(I=>{I.colors[v.value]=I.defaultColors[v.value]})}})})]})},v.value)})})})}function O5(){return new Worker("/jape/assets/css.worker-92aba4e1.js")}self.MonacoEnvironment={getWorker(){return new O5}};const F5=()=>(Xh.config({monaco:_x}),Xh.init());var B5=function(){function e(n,i){for(var u=0;u<i.length;u++){var s=i[u];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}return function(n,i,u){return i&&e(n.prototype,i),u&&e(n,u),n}}(),P5=j5(["",""],["",""]);function j5(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function M5(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var St=function(){function e(){for(var n=this,i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return M5(this,e),this.tag=function(a){for(var l=arguments.length,f=Array(l>1?l-1:0),d=1;d<l;d++)f[d-1]=arguments[d];return typeof a=="function"?n.interimTag.bind(n,a):typeof a=="string"?n.transformEndResult(a):(a=a.map(n.transformString.bind(n)),n.transformEndResult(a.reduce(n.processSubstitutions.bind(n,f))))},u.length>0&&Array.isArray(u[0])&&(u=u[0]),this.transformers=u.map(function(a){return typeof a=="function"?a():a}),this.tag}return B5(e,[{key:"interimTag",value:function(i,u){for(var s=arguments.length,a=Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];return this.tag(P5,i.apply(void 0,[u].concat(a)))}},{key:"processSubstitutions",value:function(i,u,s){var a=this.transformSubstitution(i.shift(),u);return"".concat(u,a,s)}},{key:"transformString",value:function(i){var u=function(a,l){return l.onString?l.onString(a):a};return this.transformers.reduce(u,i)}},{key:"transformSubstitution",value:function(i,u){var s=function(l,f){return f.onSubstitution?f.onSubstitution(l,u):l};return this.transformers.reduce(s,i)}},{key:"transformEndResult",value:function(i){var u=function(a,l){return l.onEndResult?l.onEndResult(a):a};return this.transformers.reduce(u,i)}}]),e}(),Et=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return{onEndResult:function(u){if(n==="")return u.trim();if(n=n.toLowerCase(),n==="start"||n==="left")return u.replace(/^\s*/,"");if(n==="end"||n==="right")return u.replace(/\s*$/,"");throw new Error("Side not supported: "+n)}}};function k5(e){if(Array.isArray(e)){for(var n=0,i=Array(e.length);n<e.length;n++)i[n]=e[n];return i}else return Array.from(e)}var tr=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"initial";return{onEndResult:function(u){if(n==="initial"){var s=u.match(/^[^\S\n]*(?=\S)/gm),a=s&&Math.min.apply(Math,k5(s.map(function(f){return f.length})));if(a){var l=new RegExp("^.{"+a+"}","gm");return u.replace(l,"")}return u}if(n==="all")return u.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+n)}}},yi=function(n,i){return{onEndResult:function(s){if(n==null||i==null)throw new Error("replaceResultTransformer requires at least 2 arguments.");return s.replace(n,i)}}},ii=function(n,i){return{onSubstitution:function(s,a){if(n==null||i==null)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return s==null?s:s.toString().replace(n,i)}}},L5={separator:"",conjunction:"",serial:!1},fn=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:L5;return{onSubstitution:function(u,s){if(Array.isArray(u)){var a=u.length,l=n.separator,f=n.conjunction,d=n.serial,y=s.match(/(\n?[^\S\n]+)$/);if(y?u=u.join(l+y[1]):u=u.join(l+" "),f&&a>1){var m=u.lastIndexOf(l);u=u.slice(0,m)+(d?l:"")+" "+f+u.slice(m+1)}}return u}}},lv=function(n){return{onSubstitution:function(u,s){if(n!=null&&typeof n=="string")typeof u=="string"&&u.includes(n)&&(u=u.split(n));else throw new Error("You need to specify a string character to split by.");return u}}},c0=function(n){return n!=null&&!Number.isNaN(n)&&typeof n!="boolean"},N5=function(){return{onSubstitution:function(i){return Array.isArray(i)?i.filter(c0):c0(i)?i:""}}};new St(fn({separator:","}),tr,Et);new St(fn({separator:",",conjunction:"and"}),tr,Et);new St(fn({separator:",",conjunction:"or"}),tr,Et);new St(lv(`
`),N5,fn,tr,Et);new St(lv(`
`),fn,tr,Et,ii(/&/g,"&amp;"),ii(/</g,"&lt;"),ii(/>/g,"&gt;"),ii(/"/g,"&quot;"),ii(/'/g,"&#x27;"),ii(/`/g,"&#x60;"));new St(yi(/(?:\n(?:\s*))+/g," "),Et);new St(yi(/(?:\n\s*)/g,""),Et);new St(fn({separator:","}),yi(/(?:\s+)/g," "),Et);new St(fn({separator:",",conjunction:"or"}),yi(/(?:\s+)/g," "),Et);new St(fn({separator:",",conjunction:"and"}),yi(/(?:\s+)/g," "),Et);new St(fn,tr,Et);new St(fn,yi(/(?:\s+)/g," "),Et);var _r=new St(tr,Et);new St(tr("all"),Et);const cv=[{value:"dot-matrix-paper",label:"\u30C9\u30C3\u30C8\u7D19",cssText:_r`
      :scope {
        /*  */
        --dot-color: rgba(128, 128, 128, 0.5);

        /*  */
        --dot-size: 0.3px;

        /*  */
        --grid-size: 4px;

        background-image: radial-gradient(circle at center,
            var(--dot-color) var(--dot-size),
            transparent calc(var(--dot-size) + 0.1px));
        background-size: var(--grid-size) var(--grid-size);
      }
    `},{value:"graph-paper",label:"\u30B0\u30E9\u30D5\u7528\u7D19",cssText:_r`
      :scope {
        /*  */
        --line-color: rgba(128, 128, 128, 0.1);

        /*  */
        --line-width: 0.5px;

        /*  */
        --grid-size: 4px;

        background-image: ${""}
          /*  */
          linear-gradient(to bottom,
            transparent calc(var(--grid-size) - var(--line-width)),
            var(--line-color) calc(var(--grid-size) - var(--line-width)),
            var(--line-color) var(--grid-size),
            transparent var(--grid-size)),

          /*  */
          linear-gradient(to right,
            transparent calc(var(--grid-size) - var(--line-width)),
            var(--line-color) calc(var(--grid-size) - var(--line-width)),
            var(--line-color) var(--grid-size),
            transparent var(--grid-size));

        background-size: var(--grid-size) var(--grid-size);
        background-position: right calc(var(--grid-size) / 2) top calc(var(--grid-size) / 2);
      }
    `},{value:"bg-image",label:"\u80CC\u666F\u753B\u50CF",cssText:_r`
      :scope {
        position: relative;
        width: fit-content;
        min-width: 400px;
        /* height: max-content; */

        &::before {
          content: '';
          position: absolute;
          inset: 0;
          background-image: url({{image1}});
          background-size: cover;
          background-position: center;
          background-repeat: no-repeat;
          pointer-events: none;

          /*  */
          mix-blend-mode: normal;

          /*  */
          opacity: 0.5;
        }

        .text-block {
          position: relative;
        }
      }
    `},{value:"avatar",label:"\u30A2\u30D0\u30BF\u30FC",cssText:_r`
      :scope {
        /*  */
        --avatar-size: 48px;

        position: relative;

        &::after {
          content: '';
          position: absolute;
          width: var(--avatar-size);
          height: var(--avatar-size);
          background-color: rgba(128, 128, 128, .5);
          background-image: url({{image1}});
          background-size: cover;
          border-radius: 50%;
          border: 2px solid var(--preview-highlight-color);
        }

        .writing-mode-horizontal &::after {
          right: 8px;
          top: 8px;
        }

        .writing-mode-vertical &::after {
          right: 8px;
          bottom: 8px;
        }
      }
    `},{value:"sign",label:"\u30B5\u30A4\u30F3",cssText:_r`
      :scope {
        /*  */
        --avatar-size: 32px;

        /*  */
        --avatar-border-size: 1px;

        /*  */
        --avatar-border-color: var(--preview-highlight-color-2);

        /*  */
        --gap-size: 8px;

        /*  */
        --content-margin: 32px;

        .text-block:last-child {
          .text-piece:last-child {
            position: relative;
            isolation: isolate;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            text-align: end;
            margin-block-start: var(--content-margin);

            /* before:  */
            /* after:  */
            &::before {
              content: '';
              position: relative;
              display: inline-block;
              width: var(--avatar-size);
              height: var(--avatar-size);
              border: var(--avatar-border-size) solid var(--avatar-border-color);
              border-radius: 50%;
              background-image: url({{image1}});
              background-size: cover;
              flex: none;
            }

            &::before {
              margin-inline-end: var(--gap-size);
            }

            &::after {
              margin-inline-start: var(--gap-size);
            }
          }
        }
      }
    `},{value:"quote",label:"\u5F15\u7528",cssText:_r`
      :scope {
        --prefix-width: 4px;

        .text-piece[data-hint-quote] {
          font-size: smaller;
          padding: 8px;
          background-color: var(--preview-fluorescent-color);
          border-inline-start: var(--prefix-width) solid var(--preview-highlight-color);

          .writing-mode-horizontal & {
            border-top-left-radius: calc(2 * var(--prefix-width));
            border-bottom-left-radius: calc(2 * var(--prefix-width));
          }

          .writing-mode-vertical & {
            border-top-left-radius: calc(2 * var(--prefix-width));
            border-top-right-radius: calc(2 * var(--prefix-width));
          }
        }
      }
    `},{value:"blackboard-book",label:"\u9ED2\u677F\u30D6\u30C3\u30AF",cssText:_r`
      :scope {
        --preview-font-family: "songti-yue";

        position: relative;
        width: fit-content;
        min-height: auto;
        height: auto;

        .text-block {
          position: relative;
          border: 1px solid var(--preview-text-color);
          padding-inline-start: 4px;
          padding-inline-end: 4px;
          margin-block-start: 0;
          z-index: 2;

          &::before {
            content: "";
            position: absolute;
            background-color: var(--preview-text-color);
          }

          &::after {
            content: "";
            position: absolute;
            background-color: var(--preview-text-color);
          }

          .writing-mode-horizontal & {
            &::before,
            &::after {
              width: 1px;
              height: 100%;
            }

            &::before {
              top: 0;
              left: 4px;
            }

            &::after {
              bottom: 0;
              right: 4px;
            }
          }

          .writing-mode-vertical & {
            &::before,
            &::after {
              width: 100%;
              height: 1px;
            }

            &::before {
              top: 4px;
              left: 0;
            }

            &::after {
              bottom: 4px;
              left: 0;
            }
          }
        }

        .text-piece {
          position: relative;
          padding-inline-start: 8px;
          padding-inline-end: 8px;

          .writing-mode-horizontal & {
            &:first-of-type:not(:only-child) {
              position: relative;
              top: 2.5px;
            }

            &+.text-piece {
              &::before {
                content: "";
                position: absolute;
                left: 0;
                right: 0;
                top: -4px;
                width: 100%;
                height: 0.5px;
                opacity: 0.8;
                background-color: var(--preview-text-color);
              }
            }
          }

          .writing-mode-vertical & {
            &:first-of-type:not(:only-child) {
              position: relative;
              left: -2.5px;
            }

            &+.text-piece {
              &::before {
                content: "";
                position: absolute;
                top: 0;
                bottom: 0;
                right: -4px;
                width: 0.5px;
                height: 100%;
                opacity: 0.8;
                background-color: var(--preview-text-color);
              }
            }
          }
        }
      }
    `}],z5=Ir(cv,e=>e.value),$5={tabSize:2,fontSize:14,fontFamily:'"Operator Mono", "Fira Code", "JetBrains Mono", "Consolas", "Menlo", "Courier New", monospace, "kaiti-jin"',cursorStyle:"line",lineNumbers:"on",wordWrap:"on",scrollBeyondLastLine:!1,renderValidationDecorations:"off",folding:!0,automaticLayout:!0,overviewRulerBorder:!1,overviewRulerLanes:0,hideCursorInOverviewRuler:!0,minimap:{enabled:!1},scrollbar:{horizontalSliderSize:4,verticalScrollbarSize:4,vertical:"auto",horizontal:"auto"},stickyScroll:{enabled:!1},renderLineHighlight:"none",matchBrackets:"near",lineDecorationsWidth:8,fixedOverflowWidgets:!0,selectionHighlight:!1,occurrencesHighlight:"off",dragAndDrop:!1,padding:{top:4,bottom:4},hover:{enabled:!0},guides:{indentation:!1}},U5="_editor_1ew6j_1",H5={editor:U5},W5=()=>{const{settings:e}=An(),{customCssState:{cssText:n},setCustomCssState:i}=vi(),{run:u}=pf(s=>{i(a=>{a.cssText=s})},{wait:400,leading:!1,trailing:!0});return p.jsx("div",{className:H5.editor,children:p.jsx(wx,{value:n,onChange:s=>{u(s||"")},theme:e.theme===ln.LIGHT?"light":"vs-dark",width:"100%",height:"100%",language:"css",options:$5,loading:"\u8AAD\u307F\u8FBC\u307F\u4E2D..."})})},q5="_customCssContent_14jpm_1",fv={customCssContent:q5},G5=300,Rc=()=>{const e=document.querySelector(`.${fv.customCssContent}`);return(e==null?void 0:e.querySelector("[popover]"))||null},K5=()=>{const{customCssState:e,setCustomCssState:n}=vi(),[i,u]=N.useState(!1),[s,a]=N.useState(!1);return z0(()=>{F5().then(()=>{u(!0)})}),ai("toggle",l=>{const f=l.target.matches(":popover-open");a(f)},{target:Rc}),p.jsx(so,{getPopupContainer:()=>Rc()||document.body,children:p.jsx(Be.Item,{className:fv.customCssContent,popover:"manual",label:p.jsxs(Ru,{align:"center",gap:12,children:[p.jsx("div",{children:"\u30AB\u30B9\u30BF\u30E0\u30B9\u30BF\u30A4\u30EB"}),p.jsxs(Te.Compact,{children:[p.jsx(m0,{size:"small",options:cv,value:null,placeholder:p.jsx(Ou.Text,{children:"\u30D7\u30EA\u30BB\u30C3\u30C8\u304B\u3089\u9078\u629E"}),optionRender:l=>p.jsx("div",{"data-option":!0,"data-value":l.value,children:l.label}),popupMatchSelectWidth:!0,style:{width:200},onClick:l=>{const f=l.target;let d=null;if(f.matches(".ant-select-item-option")?d=f.querySelector("[data-option]"):f.matches("[data-option]")&&(d=f),!d)return;const y=z5.entities[d.dataset.value||""];if(!y)return;let m=[`/* ~~~~~~ ${y.label} ~~~~~~ */`,y.cssText].join(`
`);l.altKey&&(l.shiftKey?m=[m,e.cssText].join(`

`):m=[e.cssText,m].join(`

`)),n({cssText:m})}}),p.jsx(at,{title:"\u30AF\u30EA\u30A2",children:p.jsx(Ye,{type:"default",size:"small",disabled:e.cssText===e.defaultCssText,icon:p.jsx(YE,{}),onClick:()=>{n({cssText:e.defaultCssText})}})})]}),p.jsx(at,{title:s?"Exit fullscreen":"Enter fullscreen",children:p.jsx(Ye,{type:"default",size:"small",icon:s?p.jsx(l6,{}):p.jsx(h6,{}),style:{alignSelf:"end"},onClick:()=>{var l;(l=Rc())==null||l.togglePopover()}})})]}),children:p.jsx(px,{spinning:!i,children:p.jsx("div",{style:{height:G5},children:i&&p.jsx(W5,{})})})})})},Oc=6,V5=()=>{const{message:e}=ao.useApp(),{customCssState:{bgImages:n},setCustomCssState:i}=vi(),[u,s]=N.useState(!1),[a,l]=N.useState(""),f=n.map((m,h)=>({uid:String(h),name:"image.png",status:"done",url:m})),d=gt(m=>["image/png","image/jpeg"].some(v=>m.type===v)?m.size/1024/1024<5?!1:(e.error("\u753B\u50CF\u30B5\u30A4\u30BA\u306F 5MB \u3092\u8D85\u3048\u308B\u3053\u3068\u306F\u3067\u304D\u307E\u305B\u3093\u3002"),Js.LIST_IGNORE):(e.error("\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3067\u304D\u308B\u306E\u306F PNG/JPG \u5F62\u5F0F\u306E\u753B\u50CF\u306E\u307F\u3067\u3059\u3002"),Js.LIST_IGNORE)),y=gt(m=>{const{file:h,fileList:v}=m;if(v.length>Oc){e.warning("\u9078\u629E\u3067\u304D\u308B\u753B\u50CF\u306F\u6700\u59274\u679A\u307E\u3067\u3067\u3059");return}if(h instanceof Blob){const A=new FileReader;A.onloadend=()=>{if(typeof A.result=="string"){const S=A.result;i(E=>{E.bgImages.push(S)})}},A.readAsDataURL(h)}});return p.jsxs(Be.Item,{label:"\u80CC\u666F\u753B\u50CF",children:[p.jsx(Js,{accept:".png, .jpg, .jpeg",listType:"picture-card",maxCount:Oc,fileList:f,pastable:!0,beforeUpload:d,onChange:y,onPreview:m=>{s(!0),l(m.url)},onRemove:m=>{i(h=>{h.bgImages.splice(Number(m.uid),1)})},children:f.length<Oc&&p.jsxs("button",{type:"button",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:4,background:"none",border:0,cursor:"pointer"},children:[p.jsx(Ou.Text,{children:p.jsx(wf,{style:{fontSize:20}})}),p.jsx(Ou.Text,{strong:!0,style:{fontSize:16},children:"\u9078\u3076"})]})}),a&&p.jsx(mx,{wrapperStyle:{display:"none"},preview:{visible:u,onVisibleChange:m=>s(m),afterOpenChange:m=>{m||l("")}},src:a})]})},Y5="_customCssDrawer_l9wyk_1",X5={customCssDrawer:Y5},f0=720;function Z5(){const{customCssState:e,setCustomCssState:n}=vi(),{settings:i}=An();return p.jsx(p0,{keyboard:!1,title:p.jsxs(Te,{size:8,align:"center",children:["\u30D7\u30EC\u30D3\u30E5\u30FC\u30B9\u30BF\u30A4\u30EB\u3092\u30AB\u30B9\u30BF\u30DE\u30A4\u30BA\u3059\u308B",p.jsx("sup",{children:"Beta"})]}),width:f0,open:e.drawerVisible,onClose:()=>{n({drawerVisible:!1})},mask:!1,placement:i.previewPosition==="left"?"right":"left",className:X5.customCssDrawer,style:{"--custom-css-drawer-width":`${f0}px`},children:p.jsxs(Be,{layout:"vertical",children:[p.jsx(Be.Item,{label:"\u30A2\u30AF\u30C6\u30A3\u30D6",children:p.jsx(rf,{checkedChildren:"ON",unCheckedChildren:"OFF",value:e.enabled,onChange:u=>{n({enabled:u})}})}),e.enabled&&p.jsxs(p.Fragment,{children:[p.jsx(K5,{}),p.jsx(V5,{})]})]})})}const J5="_settingsPanel_1yemj_1",Q5="_settings_1yemj_1",e8="_actionArea_1yemj_29",Fc={settingsPanel:J5,settings:Q5,actionArea:e8};function t8(){const{message:e}=ao.useApp(),n=N.useRef(null),i=N.useRef(null),u=N.useRef(null),{customThemeState:s,setCustomThemeState:a}=If(),{customCssState:l,setCustomCssState:f}=vi(),[d]=Be.useForm(),y=Be.useWatch("theme",d),m=Be.useWatch("fontFamily",d),h=Be.useWatch("fontSize",d),v=Be.useWatch("writingMode",d),A=Be.useWatch("content",d),{settings:S,setSettings:E}=An(),{previewContentDom:I}=Lm(),{contentInputDom:q,setContentInputDom:j}=Tf(),{setSelectedData:oe}=Df();v4(),N.useEffect(()=>{var U,Y;return j(((Y=(U=i.current)==null?void 0:U.resizableTextArea)==null?void 0:Y.textArea)||null),()=>{j(null)}},[j,S.contentFontSize]);const ue=gf(gt(async U=>{if(U.shiftKey){window.print();return}if(U.metaKey){const X=new URL(location.href);X.hash=R0(S);const ne=X.toString();if(U.altKey){const ee="generate-short-url-loading";try{if(ne.length>3862)throw new Error("Oops! \u94FE\u63A5\u957F\u5EA6\u8D85\u9650\uFF083862\uFF09\uFF0C\u65E0\u6CD5\u751F\u6210\u77ED\u94FE\u63A5");e.loading({key:ee,content:"\u6B63\u5728\u751F\u6210\u77ED\u94FE\u63A5...",duration:0});const{list:le}=await Bm(50),{entities:Oe}=Ir(le,ve=>ve.originUrl),fe=Oe[ne];if(fe!=null&&fe.enabled)await Yi(fe.url),e.success(`\u5DF2\u5C06\u521B\u5EFA\u7684\u77ED\u94FE\u63A5 ${fe.url} \u590D\u5236\u5230\u526A\u8D34\u677F`);else{const ve=await Fm(ne);await Yi(ve.url),e.success(`\u77ED\u94FE\u63A5 ${ve.url} \u5DF2\u751F\u6210\u5E76\u590D\u5236\u5230\u526A\u8D34\u677F`)}}catch(le){e.error(le.message||"Oops! Something wrong happened.")}finally{e.destroy(ee)}}else await Yi(ne),e.success("\u5171\u6709\u30EA\u30F3\u30AF\u306F\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC\u3055\u308C\u307E\u3057\u305F\u3002");return}if(!I)return;const Y=I.scrollWidth,M=I.scrollHeight,G=3,re={width:Y,height:M,canvasWidth:Y*G,canvasHeight:M*G,fontEmbedCSS:i5},te=await bA(I,re);te&&(U.altKey||"ontouchstart"in window?Mc(te):(jc(te),e.success("\u753B\u50CF\u306F\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC\u3055\u308C\u307E\u3057\u305F\u3002")))})),L=gt(async U=>{if(!I)return;const Y=I.scrollWidth,M=I.scrollHeight,re={width:Y,height:M,scale:4,dpr:3,type:"png",embedFonts:!0,fast:!1,compress:!1};await UA(void 0,{reset:!0});const te=await Qe.toBlob(I,re);U?Mc(te):(jc(te),e.success("[SnapDOM] \u753B\u50CF\u306F\u30AF\u30EA\u30C3\u30D7\u30DC\u30FC\u30C9\u306B\u30B3\u30D4\u30FC\u3055\u308C\u307E\u3057\u305F\u3002"))});return o0("meta+s",U=>{U.preventDefault(),L(!1)}),o0("meta+shift+s",U=>{U.preventDefault(),L(!0)}),ff(()=>{E(U=>{Object.assign(U,{theme:y,fontFamily:m,fontSize:h,writingMode:v,content:A})})},[y,m,h,v,A]),p.jsxs("div",{ref:n,className:Xn(Fc.settingsPanel,"settings-panel",{"no-scrollbar":!0}),children:[p.jsx("div",{className:Fc.settings,children:p.jsxs(Be,{form:d,layout:"vertical",initialValues:S,onValuesChange:U=>{E(Y=>Object.assign(Y,U))},children:[p.jsx(Be.Item,{label:p.jsxs(Te,{direction:"horizontal",children:["\u4E3B\u984C",p.jsx(at,{title:"\u30C6\u30FC\u30DE\u30AB\u30E9\u30FC\u3092\u8A2D\u5B9A\u3059\u308B",placement:"right",children:p.jsx(Ye,{size:"small",icon:p.jsx(K6,{}),onClick:U=>{if(U.altKey){f(Y=>{Y.drawerVisible=!Y.drawerVisible});return}a(Y=>{Y.drawerVisible=!Y.drawerVisible})}})})]}),name:"theme",children:p.jsx(Vh.Group,{options:cm,optionType:"button"})}),p.jsx(Be.Item,{label:"\u66F8\u4F53",name:"fontFamily",children:p.jsx(m0,{options:tm,style:{width:200}})}),p.jsx(Be.Item,{label:"\u30D5\u30A9\u30F3\u30C8\u30B5\u30A4\u30BA",name:"fontSize",children:p.jsx(Vi,{parser:U=>Number(U)||br.DEFAULT,suffix:"px",addonAfter:p.jsx(Ye,{type:"link",size:"small",disabled:S.fontSize===br.DEFAULT,style:{margin:"calc((var(--ant-input-number-padding-block) + 1px) * -1) calc(var(--ant-input-number-padding-inline) * -1)"},onClick:()=>{d.setFieldsValue({fontSize:br.DEFAULT})},children:"\u30EA\u30BB\u30C3\u30C8"}),inputMode:"numeric",precision:0,min:br.MIN,max:br.MAX,step:1,style:{width:180}})}),p.jsx(Be.Item,{label:"\u30C6\u30AD\u30B9\u30C8\u30B7\u30E3\u30C9\u30A6",children:p.jsx(y5,{})}),p.jsx(Be.Item,{label:"\u7D44\u7248",name:"writingMode",children:p.jsx(Vh.Group,{options:fm,optionType:"button"})}),S.writingMode===gi.VERTICAL_RL&&p.jsx(Be.Item,{label:"\u30D7\u30EC\u30D3\u30E5\u30FC\u306E\u9AD8\u3055",children:p.jsx(Vi,{value:S.verticalPreviewHeight,onChange:U=>{E(Y=>{Y.verticalPreviewHeight=U||xr.DEFAULT})},suffix:"px",addonAfter:p.jsx(Ye,{type:"link",size:"small",disabled:S.verticalPreviewHeight===xr.DEFAULT,style:{margin:"calc((var(--ant-input-number-padding-block) + 1px) * -1) calc(var(--ant-input-number-padding-inline) * -1)"},onClick:()=>{E(U=>{U.verticalPreviewHeight=xr.DEFAULT})},children:"\u30EA\u30BB\u30C3\u30C8"}),inputMode:"numeric",precision:0,min:xr.MIN,max:xr.MAX,step:10,style:{width:180}})}),p.jsx(Be.Item,{label:"\u632F\u4EEE\u540D",name:"huriganaize",valuePropName:"checked",children:p.jsx(rf,{checkedChildren:"ON",unCheckedChildren:"OFF"})}),p.jsx(Be.Item,{label:p.jsxs(Te,{direction:"vertical",children:[p.jsxs(Te,{direction:"horizontal",size:20,children:[p.jsxs("div",{children:[p.jsx("span",{onClick:U=>{if(U.altKey){const Y=ta.reduce((M,G)=>M.replace(G.pattern,"$1"),S.content);d.setFieldsValue({content:Y.trim()})}},children:"\u672C\u6587"}),p.jsx(so,{getPopupContainer:()=>n.current,children:p.jsx(nf,{trigger:"hover",placement:"right",arrow:{pointAtCenter:!0},content:p.jsx(w5,{}),children:p.jsx(F6,{style:{cursor:"help",marginLeft:4}})})})]}),p.jsxs(Te,{size:2,children:[p.jsx(at,{title:`${S.contentFontSize}px`,children:p.jsx(Ye,{size:"small",type:"text",disabled:S.contentFontSize<=oi.MIN,icon:p.jsx(C6,{}),onClick:()=>{E(U=>{U.contentFontSize-=1})}})}),p.jsx(at,{title:`${S.contentFontSize}px`,children:p.jsx(Ye,{size:"small",type:"text",icon:p.jsx(wf,{}),disabled:S.contentFontSize>=oi.MAX,onClick:()=>{E(U=>{U.contentFontSize+=1})}})}),S.contentFontSize!==oi.DEFAULT&&p.jsx(at,{title:`${S.contentFontSize}px`,children:p.jsx(Ye,{size:"small",type:"default",onClick:()=>{E(U=>{U.contentFontSize=oi.DEFAULT})},children:"\u30EA\u30BB\u30C3\u30C8"})})]})]}),p.jsx(E5,{})]}),name:"content",children:p.jsx(vx.TextArea,{ref:i,spellCheck:!1,placeholder:"\u30AD\u30FC\u30DC\u30FC\u30C9\u304B\u3089\u30C7\u30FC\u30BF\u3092\u5165\u529B\u3059\u308B\u3002",autoSize:{minRows:8,maxRows:16},style:{fontFamily:"var(--preview-font-family)",fontSize:S.contentFontSize,textAlign:"justify",wordBreak:"break-word"},onFocus:()=>{u.current&&window.clearTimeout(u.current)},onBlur:()=>{u.current=window.setTimeout(()=>{oe(cf),q&&(q.selectionStart=0,q.selectionEnd=0)},600)}},S.contentFontSize)}),p.jsx(Be.Item,{className:Fc.actionArea,children:p.jsxs(Te,{direction:"horizontal",children:[p.jsx(Ye,{type:"primary",onClick:ue,children:"\u753B\u50CF\u3092\u4F5C\u6210\u3057\u3066\u30B3\u30D4\u30FC\u3059\u308B"}),!S.content&&p.jsx(Ye,{type:"link",onClick:U=>{if(U.altKey){U.shiftKey?d.setFieldsValue({content:gm()}):d.setFieldsValue({content:xf()});return}d.setFieldsValue(r5[0])},children:"\u4F8B\u3092\u898B\u308B"})]})})]})}),s.drawerVisible&&p.jsx(R5,{}),l.drawerVisible&&p.jsx(Z5,{})]})}const n8="_root_1cfq8_1",r8="_previewLeft_1cfq8_14",d0={root:n8,previewLeft:r8};function i8(){const{globalState:e}=hm(),{settings:n}=An(),{customThemeState:i,setCustomThemeState:u}=If(),s=n.huriganaize&&e.huriganaizeReady;return z0(()=>{u(a=>{a.defaultColors=xu[n.theme],Xe.isEmpty(a.colors)&&(a.colors=xu[n.theme])})}),ff(()=>{u(a=>{a.defaultColors=xu[n.theme]})},[n.theme]),p.jsx(so,{theme:{cssVar:!0,token:{...Vx,...Q6.entities[n.theme].themeToken},algorithm:n.theme===ln.LIGHT?Yh.defaultAlgorithm:Yh.darkAlgorithm},children:p.jsx(ao,{className:Xn({"theme-light":n.theme===ln.LIGHT,"theme-dark":n.theme===ln.DARK,"text-shadow-global-enabled":n.textShadow.globalEnabled,"with-hurigana":s,[`writing-mode-${n.writingMode===gi.HORIZONTAL_TB?"horizontal":"vertical"}`]:!0}),style:{...xu[n.theme],...i.colors,...eC[n.writingMode],"--preview-font-family":[`"${n.fontFamily}"`,IE].filter(Boolean).join(", "),"--preview-writing-mode":n.writingMode,"--preview-height":n.writingMode===gi.VERTICAL_RL?`${n.verticalPreviewHeight}px`:"auto","--preview-font-size":`${n.fontSize}px`,"--preview-line-height":s?2:1.5,"--preview-highlight-color-weak":"rgb(from var(--preview-highlight-color) r g b / 60%)","--preview-text-shadow":Sf(n)},children:p.jsx(yx,{variant:"borderless",styles:{body:{padding:0}},children:p.jsxs("div",{className:Xn(d0.root,"container",{[d0.previewLeft]:n.previewPosition==="left"}),children:[p.jsx(t8,{}),p.jsx(T4,{})]})})})})}Object.assign(globalThis,{jape:{utils:AE,helpers:c4,transform:f4,Kuroshiro:af},japen:p4});Pc.createRoot(document.getElementById("root")).render(p.jsx(Wx,{store:Xc,children:p.jsx(dm.Provider,{children:p.jsx(i8,{})})}));
